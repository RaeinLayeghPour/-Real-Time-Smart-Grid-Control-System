// generated using template: cop_main.template---------------------------------------------
/******************************************************************************************
**
**  Module Name: cop_main.c
**  NOTE: Automatically generated file. DO NOT MODIFY!
**  Description:
**            Main file
**
******************************************************************************************/
// generated using template: arm/custom_include.template-----------------------------------


#ifdef __cplusplus
#include <limits>

extern "C" {
#endif

#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <math.h>
#include <stdint.h>
#include <complex.h>

// x86 libraries:
#include "../include/sp_functions_dev0.h"


#ifdef __cplusplus
}
#endif


// ----------------------------------------------------------------------------------------                // generated using template:generic_macros.template-----------------------------------------
/*********************** Macros (Inline Functions) Definitions ***************************/

// ----------------------------------------------------------------------------------------

#ifndef MAX
#define MAX(value, limit) (((value) > (limit)) ? (value) : (limit))
#endif
#ifndef MIN
#define MIN(value, limit) (((value) < (limit)) ? (value) : (limit))
#endif

// generated using template: VirtualHIL/custom_defines.template----------------------------

typedef unsigned char X_UnInt8;
typedef char X_Int8;
typedef signed short X_Int16;
typedef unsigned short X_UnInt16;
typedef int X_Int32;
typedef unsigned int X_UnInt32;
typedef unsigned int uint;
typedef double real;

// ----------------------------------------------------------------------------------------                
// generated using template: custom_consts.template----------------------------------------

// arithmetic constants
#define C_SQRT_2                    1.4142135623730950488016887242097f
#define C_SQRT_3                    1.7320508075688772935274463415059f
#define C_PI                        3.1415926535897932384626433832795f
#define C_E                         2.7182818284590452353602874713527f
#define C_2PI                       6.283185307179586476925286766559f

//@cmp.def.start
//component defines








































    
























































    





    

    

    

    




























































    


















































    





    

    

    









































    


















































    





    

    











    


    









    #define SQRT_2OVER3 0.8164965809277260327324280249019f
    #define SQRT3_OVER_2 0.8660254037844386467637231707529f
    #define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f

















    



    #define SQRT_2OVER3 0.8164965809277260327324280249019f
    #define SQRT3_OVER_2 0.8660254037844386467637231707529f
    #define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f









    


    









    #define SQRT_2OVER3 0.8164965809277260327324280249019f
    #define SQRT3_OVER_2 0.8660254037844386467637231707529f
    #define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f























    


    









    #define SQRT_2OVER3 0.8164965809277260327324280249019f
    #define SQRT3_OVER_2 0.8660254037844386467637231707529f
    #define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f





































































































































































































































    









































































    







































    


















    







    





























    





















    












    



































































    






















    #define _grid1_vsp_sin1_tdf_sg_ctrl_sine1__no_of_points 1000
    #define _grid1_vsp_sin1_tdf_sg_ctrl_sine1__max_int40 (1099511627775)
    #define _grid1_vsp_sin1_tdf_sg_ctrl_sine1__max_int32 (4294967295)

    #define _grid1_vsp_sin2_tdf_sg_ctrl_sine1__no_of_points 1000
    #define _grid1_vsp_sin2_tdf_sg_ctrl_sine1__max_int40 (1099511627775)
    #define _grid1_vsp_sin2_tdf_sg_ctrl_sine1__max_int32 (4294967295)

    #define _grid1_vsp_sin3_tdf_sg_ctrl_sine1__no_of_points 1000
    #define _grid1_vsp_sin3_tdf_sg_ctrl_sine1__max_int40 (1099511627775)
    #define _grid1_vsp_sin3_tdf_sg_ctrl_sine1__max_int32 (4294967295)































    



    









    



    


    



    

    




    


    







    



    


    


    

    








    



    











































































































    




























































    











































































































































































































//@cmp.def.end

//#define SP_SCOPE_FILE_DEBUG
#define SP_SCOPE_BUFF_SIZE (8388608*4)
#define SP_SCOPE_BUFF_SIZE_PER_ER (SP_SCOPE_BUFF_SIZE/4)

//-----------------------------------------------------------------------------------------                 
// generated using template: common_variables.template-------------------------------------
// true global variables


extern X_UnInt8* sp_scope_buffer_dev0;
extern FILE* f_sp_scope_debug;
    uint64_t sp_scope_buff_addr_cpu0_er0_dev0;
    uint64_t sp_scope_buff_start_addr_cpu0_er0_dev0;
    uint32_t sp_scope_buff_index_cpu0_er0_dev0;
    uint64_t sp_scope_buff_addr_cpu0_er1_dev0;
    uint64_t sp_scope_buff_start_addr_cpu0_er1_dev0;
    uint32_t sp_scope_buff_index_cpu0_er1_dev0;

// const variables
    const double _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_table[5] = { 2.0,2.0,0.0,0.0,-0.52 };        const double _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[5] = { 47.5,47.8,49.8,50.2,51.5 };
    const double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_table[5] = { 2.0,2.0,0.0,0.0,-0.52 };        const double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[5] = { 47.5,47.8,49.8,50.2,51.5 };
    const double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__2d_table[6][10] = {{0.0,0.20087336244541484,0.44541484716157204,0.5720524017467249,0.6986899563318777,0.8209606986899564,0.9475982532751092,1.074235807860262,1.2008733624454149,1.3231441048034935},{0.0,0.1965065502183406,0.4279475982532751,0.5458515283842795,0.6637554585152838,0.7816593886462883,0.8995633187772926,1.017467248908297,1.1353711790393013,1.25764192139738},{0.0,0.19213973799126638,0.4148471615720524,0.5283842794759825,0.6419213973799127,0.7554585152838428,0.868995633187773,0.982532751091703,1.1004366812227073,1.2139737991266375},{0.0,0.18340611353711792,0.3799126637554585,0.4847161572052402,0.5851528384279476,0.6899563318777293,0.7903930131004366,0.8951965065502183,1.0,1.1048034934497817},{0.0,0.17903930131004367,0.37554585152838427,0.4759825327510917,0.5764192139737991,0.6768558951965066,0.777292576419214,0.8777292576419214,0.9781659388646288,1.0786026200873362},{0.0,0.17467248908296942,0.35807860262008734,0.45414847161572053,0.5502183406113537,0.6462882096069869,0.74235807860262,0.8427947598253275,0.9388646288209607,1.034934497816594}};        const double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[6] = { -25.0,-10.0,0.0,25.0,30.0,40.0 };
        const double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[10] = { 0.0,200.0,400.0,500.0,600.0,700.0,800.0,900.0,1000.0,1100.0 };
    const double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[3] = { 0.15,1.5,1.501 };        const double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[3] = { 0.0,0.9,0.901 };
    const double _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_table[4] = { 1.3,0.0,0.0,-0.7 };        const double _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[4] = { 0.6,0.9,1.1,1.3 };
    const double _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_table[4] = { 1.0,1.0,0.2,0.2 };        const double _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[4] = { 0.8,1.06,1.1,1.3 };
    const double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[3] = { 0.15,1.5,1.501 };        const double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[3] = { 0.0,0.9,0.901 };
    const double _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_table[4] = { 1.3,0.0,0.0,-0.7 };        const double _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[4] = { 0.6,0.9,1.1,1.3 };
    const double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_table[4] = { 1.0,1.0,0.2,0.2 };        const double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[4] = { 0.8,1.06,1.1,1.3 };
    const double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_table[500] = { 10000.0,9558.0000012,9116.0000024,8674.0000036,8232.0000048,7790.000006,7348.0000072,6906.0000084,6464.0000096,6022.0000108,5580.000012,5138.0000132,4696.0000144,4254.0000156,3812.0000168,3370.000018,2928.0000192,2486.0000204,2044.0000216,1602.0000228,1160.000024,1159.0425974,1158.0921269,1157.148561,1156.2118489,1155.2819402,1154.3587847,1153.4423326,1152.5325346,1151.6293415,1150.7327047,1149.8425758,1148.9589069,1148.0816504,1147.2107588,1146.3461854,1145.4878835,1144.6358068,1143.7899094,1142.9501457,1142.1164704,1141.2888387,1140.4672059,1139.6515277,1138.8417602,1138.0378597,1137.2397829,1136.4474868,1135.6609287,1134.8800663,1134.1048573,1133.3352602,1132.5712333,1131.8127355,1131.0597261,1130.3121643,1129.5700099,1128.8332229,1128.1017637,1127.3755928,1126.6546711,1125.9389597,1125.2284201,1124.5230141,1123.8227036,1123.1274509,1122.4372185,1121.7519693,1121.0716663,1120.396273,1119.7257528,1119.0600698,1118.3991881,1117.7430719,1117.0916862,1116.4449956,1115.8029655,1115.1655612,1114.5327484,1113.904493,1113.2807612,1112.6615194,1112.0467342,1111.4363726,1110.8304016,1110.2287887,1109.6315014,1109.0385076,1108.4497754,1107.865273,1107.2849689,1106.708832,1106.1368312,1105.5689357,1105.0051149,1104.4453385,1103.8895763,1103.3377983,1102.789975,1102.2460768,1101.7060744,1101.1699387,1100.6376408,1100.1091522,1099.5844443,1099.0634889,1098.546258,1098.0327237,1097.5228583,1097.0166344,1096.5140247,1096.0150023,1095.5195401,1095.0276116,1094.5391902,1094.0542496,1093.5727638,1093.0947068,1092.6200529,1092.1487765,1091.6808522,1091.2162548,1090.7549593,1090.2969409,1089.842175,1089.3906369,1088.9423024,1088.4971474,1088.0551478,1087.61628,1087.1805201,1086.7478448,1086.3182308,1085.8916548,1085.468094,1085.0475255,1084.6299266,1084.2152749,1083.803548,1083.3947237,1082.98878,1082.585695,1082.185447,1081.7880144,1081.3933758,1081.0015099,1080.6123956,1080.226012,1079.842338,1079.4613532,1079.0830369,1078.7073688,1078.3343285,1077.963896,1077.5960512,1077.2307744,1076.8680457,1076.5078457,1076.1501549,1075.7949539,1075.4422236,1075.091945,1074.7440991,1074.3986671,1074.0556305,1073.7149705,1073.3766689,1073.0407073,1072.7070676,1072.3757318,1072.0466819,1071.7199001,1071.3953687,1071.0730702,1070.7529872,1070.4351022,1070.1193982,1069.8058579,1069.4944644,1069.1852009,1068.8780505,1068.5729966,1068.2700227,1067.9691123,1067.670249,1067.3734168,1067.0785993,1066.7857807,1066.494945,1066.2060764,1065.9191592,1065.6341777,1065.3511165,1065.0699602,1064.7906934,1064.5133009,1064.2377675,1063.9640784,1063.6922184,1063.4221729,1063.1539269,1062.887466,1062.6227754,1062.3598407,1062.0986475,1061.8391815,1061.5814285,1061.3253743,1061.071005,1060.8183064,1060.5672647,1060.3178662,1060.0700971,1059.8239437,1059.5793925,1059.3364299,1059.0950427,1058.8552174,1058.6169407,1058.3801995,1058.1449807,1057.9112712,1057.679058,1057.4483282,1057.2190691,1056.9912678,1056.7649117,1056.539988,1056.3164843,1056.0943881,1055.8736868,1055.6543681,1055.4364198,1055.2198295,1055.0045851,1054.7906744,1054.5780854,1054.366806,1054.1568243,1053.9481283,1053.7407062,1053.5345463,1053.3296367,1053.1259657,1052.9235217,1052.7222932,1052.5222685,1052.3234361,1052.1257846,1051.9293026,1051.7339787,1051.5398015,1051.3467598,1051.1548424,1050.964038,1050.7743354,1050.5857235,1050.3981913,1050.2117277,1050.0263215,1049.8419619,1049.6586379,1049.4763385,1049.2950529,1049.1147701,1048.9354793,1048.7571696,1048.5798304,1048.4034507,1048.2280199,1048.0535272,1047.8799618,1047.7073131,1047.5355704,1047.364723,1047.1947603,1047.0256715,1046.8574461,1046.6900735,1046.5235429,1046.3578439,1046.1929657,1046.0288978,1045.8656295,1045.7031502,1045.5414494,1045.3805164,1045.2203405,1045.0609112,1044.9022178,1044.7442495,1044.5869959,1044.4304461,1044.2745895,1044.1194153,1043.9649128,1043.8110712,1043.6578798,1043.5053276,1043.3534038,1043.2020976,1043.051398,1042.901294,1042.7517746,1042.6028288,1042.4544455,1042.3066134,1042.1593215,1042.0125585,1041.866313,1041.7205737,1041.5753291,1041.4305677,1041.286278,1041.1424483,1040.9990669,1040.8561219,1040.7136014,1040.5714935,1040.4297861,1040.2884671,1040.147524,1040.0069446,1039.8667164,1039.7268267,1039.5872629,1039.448012,1039.3090612,1039.1703972,1039.0320068,1038.8938767,1038.7559932,1038.6183426,1038.4809112,1038.3436848,1038.2066492,1038.0697901,1037.9330927,1037.7965424,1037.6601241,1037.5238227,1037.3876226,1037.2515083,1037.1154638,1036.9794729,1036.8435194,1036.7075865,1036.5716572,1036.4357144,1036.2997404,1036.1637175,1036.0276275,1035.8914519,1035.7551719,1035.6187682,1035.4822212,1035.3455111,1035.2086174,1035.0715194,1034.9341959,1034.7966251,1034.6587849,1034.5206528,1034.3822055,1034.2434195,1034.1042705,1033.9647338,1033.8247839,1033.6843949,1033.5435402,1033.4021926,1033.2603239,1033.1179056,1032.9749081,1032.8313013,1032.687054,1032.5421344,1032.3965098,1032.2501463,1032.1030093,1031.9550632,1031.8062712,1031.6565955,1031.5059971,1031.3544359,1031.2018706,1031.0482583,1030.8935551,1030.7377155,1030.5806924,1030.4224375,1030.2629005,1030.1020296,1029.9397711,1029.7760695,1029.6108673,1029.4441051,1029.2757211,1029.1056513,1028.9338294,1028.7601865,1028.5846512,1028.4071492,1028.2276034,1028.0459335,1027.8620562,1027.6758845,1027.4873281,1027.2962928,1027.1026804,1026.9063886,1026.7073104,1026.5053343,1026.300344,1026.0922175,1025.8808275,1025.6660409,1025.447718,1025.2257128,1024.999872,1024.7700349,1024.5360328,1024.2976885,1024.0548158,1023.8072188,1023.5546914,1023.2970164,1023.0339651,1022.7652958,1022.4907539,1022.21007,1021.9229595,1021.6291211,1021.3282358,1021.0199651,1020.7039504,1020.3798104,1020.0471399,1019.7055078,1019.3544549,1018.9934914,1018.6220947,1018.2397061,1017.8457282,1017.4395209,1017.0203976,1016.5876212,1016.1403993,1015.6778785,1015.1991386,1014.7031863,1014.1889472,1013.6552574,1013.1008546,1012.5243665,1011.9242993,1011.2990235,1010.6467582,1009.9655531,1009.253268,1008.5075487,1007.7257999,1006.9051534,1006.0424309,1005.1341015,1004.1762307,1003.1644218,1002.0937449,1000.9586545,999.7528896,998.4693548,997.0999764,995.6355273,994.0654139,992.3774131,990.5573464,988.5886726,986.4519741,984.1243029,981.5783407,978.7813057,975.6935151,972.266468,968.4402522,964.1399776,959.2707841,953.7107091,947.3002637,939.8267963,931.0003286,920.414891,907.4840844,891.3283104,870.5653442,842.8914788,804.1600429,746.0776956,649.2933101,455.7535089,0.0 };
//@cmp.var.start
// variables
    double _battery_ess__generic__ui1_converter_mode__out;
         double _battery_ess__generic__ui1_der__generic__control_join1_reserved__out = 0.0;
         double _battery_ess__generic__ui1_der__generic__external_join1_reserved__out = 0.0;
    double _battery_ess__generic__ui1_enable__out;
    double _battery_ess__generic__ui1_f_alarm_lower_limit__out;
    double _battery_ess__generic__ui1_f_alarm_upper_limit__out;
    double _battery_ess__generic__ui1_fref__out;
    double _battery_ess__generic__ui1_fref_rate_of_change__out;
    double _battery_ess__generic__ui1_frequency_droop_coeff__out;
    double _battery_ess__generic__ui1_frequency_droop_offset__out;
    double _battery_ess__generic__ui1_hzwatt_enable__out;
    double _battery_ess__generic__ui1_i_alarm_upper_limit__out;
    double _battery_ess__generic__ui1_initial_soc__out;
    double _battery_ess__generic__ui1_initial_soh__out;
    double _battery_ess__generic__ui1_lvrt_p_set__out;
    double _battery_ess__generic__ui1_lvrt_q_contribution__out;
    double _battery_ess__generic__ui1_lvrt_enable__out;
    double _battery_ess__generic__ui1_max_soc__out;
    double _battery_ess__generic__ui1_min_soc__out;
    double _battery_ess__generic__ui1_pref__out;
    double _battery_ess__generic__ui1_pref_rate_of_change__out;
    double _battery_ess__generic__ui1_qref__out;
    double _battery_ess__generic__ui1_qref_rate_of_change__out;
    double _battery_ess__generic__ui1_reset_alarms__out;
    double _battery_ess__generic__ui1_s_alarm_upper_limit__out;
    double _battery_ess__generic__ui1_v_alarm_lower_limit__out;
    double _battery_ess__generic__ui1_v_alarm_upper_limit__out;
    double _battery_ess__generic__ui1_voltvar_enable__out;
    double _battery_ess__generic__ui1_voltwatt_enable__out;
    double _battery_ess__generic__ui1_voltage_droop_coeff__out;
    double _battery_ess__generic__ui1_voltage_droop_offset__out;
    double _battery_ess__generic__ui1_vrms_ref__out;
    double _battery_ess__generic__ui1_vrms_ref_rate_of_change__out;
        static double _battery_ess__generic_1_battery_dc_link_sp1_constant1__out[5] = { 0.0,0.0,0.0,0.0,0.0 };
         double _battery_ess__generic_1_battery_dc_link_sp1_constant2__out = 0.0;
         double _battery_ess__generic_1_battery_dc_link_sp1_constant3__out = 100.0;
         double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_constant2__out = 100.0;
         double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_constant3__out = 1.0;
         double _battery_ess__generic_1_grid_converter1_constant1__out = 2.0;
        static double _battery_ess__generic_1_grid_converter1_constant2__out[6] = { 0.0,0.0,0.0,0.0,0.0,0.0 };
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__Ia;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__Ib;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__Ic;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__Sg;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__Vgrms;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__fault_ack_input;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__fg;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__grid_forming;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__lvrt_en;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__system_level_fault1;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm;
                double _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm;

                        double _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask;
                    double _battery_ess__generic_1_grid_converter1_fault_state_machine__enable_mask;
                    double _battery_ess__generic_1_grid_converter1_fault_state_machine__fault;
                    double _battery_ess__generic_1_grid_converter1_fault_state_machine__fault_msg;

    double _battery_ess__generic_1_grid_converter1_ia_ia2__out;
    double _battery_ess__generic_1_grid_converter1_ia1_ia2__out;
    double _battery_ess__generic_1_grid_converter1_ib_ia2__out;
    double _battery_ess__generic_1_grid_converter1_ib1_ia2__out;
    double _battery_ess__generic_1_grid_converter1_ic_ia2__out;
    double _battery_ess__generic_1_grid_converter1_ic1_ia2__out;
        static double _battery_ess__generic_1_grid_converter1_inverter_control_constant1__out[2] = { 0.0,0.0 };
         double _battery_ess__generic_1_grid_converter1_inverter_control_constant2__out = 1.0;
         double _battery_ess__generic_1_grid_converter1_inverter_control_constant3__out = 0.0;
         double _battery_ess__generic_1_grid_converter1_inverter_control_constant8__out = 1.0;
        double _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out;
      double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out;
      double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value;      double _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__out;
         double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_o_ref__out = 0.0;
        double _battery_ess__generic_1_grid_converter1_rate_transition17_output__out[25];
         double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_radian__out = 0.0174533;

    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref;
    X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref;

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in;
         double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_radian__out = 0.0174533;

    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref;
    X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref;

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in;
         double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_radian__out = 0.0174533;

    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref;
    X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref;

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in;
    double _battery_ess__generic_1_grid_converter1_va_va2__out;
    double _battery_ess__generic_1_grid_converter1_va1_va2__out;
    double _battery_ess__generic_1_grid_converter1_vb_va2__out;
    double _battery_ess__generic_1_grid_converter1_vb1_va2__out;
    double _battery_ess__generic_1_grid_converter1_vc_va2__out;
    double _battery_ess__generic_1_grid_converter1_vc1_va2__out;
      double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out;
      double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out;
         double _battery_ess__generic_1_battery_converter_control_constant1__out = 570000.0;
         double _battery_ess__generic_1_battery_converter_control_constant11__out = 50.0;
         double _battery_ess__generic_1_battery_converter_control_constant12__out = 400.0;
         double _battery_ess__generic_1_battery_converter_control_constant14__out = 2.0;
         double _battery_ess__generic_1_battery_converter_control_constant15__out = 230.94010767585033;
         double _battery_ess__generic_1_battery_converter_control_constant16__out = 50.0;
         double _battery_ess__generic_1_battery_converter_control_constant17__out = 0.0;
         double _battery_ess__generic_1_battery_converter_control_constant2__out = 187349.93995195194;
         double _battery_ess__generic_1_battery_converter_control_constant20__out = 0.0;
         double _battery_ess__generic_1_battery_converter_control_constant23__out = 90.0;
         double _battery_ess__generic_1_battery_converter_control_constant24__out = 10.0;
         double _battery_ess__generic_1_battery_converter_control_constant25__out = 120.0;
         double _battery_ess__generic_1_battery_converter_control_constant26__out = 0.0;
         double _battery_ess__generic_1_battery_converter_control_constant3__out = 600000.0;
      double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__out;
                double _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_input;
                double _battery_ess__generic_1_battery_converter_control_main_state_machine__fault_input;
                double _battery_ess__generic_1_battery_converter_control_main_state_machine__time_out_starting_up_input;

                        double _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out;
                    double _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;

        static double _battery_ess__generic_1_battery_converter_control_pq_control_constant1__out[2] = { 0.0,0.0 };
         double _battery_ess__generic_1_battery_converter_control_pq_control_constant2__out = 1.0;
         double _battery_ess__generic_1_battery_converter_control_pq_control_constant3__out = 570000.0;
         double _battery_ess__generic_1_battery_converter_control_pq_control_constant4__out = 187349.93995195194;
                double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__fsm_state;
                double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pin;
                double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_in;
                double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__ramp_time_ms;

                        double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out;

                double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__fsm_state;
                double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pin;
                double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_in;
                double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__ramp_time_ms;

                        double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out;

                double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__fsm_state;
                double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pin;
                double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_in;
                double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__ramp_time_ms;

                        double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out;

                double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__fsm_state;
                double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pin;
                double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_in;
                double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__ramp_time_ms;

                        double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out;

        double _battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[30];
         double _battery_ess__generic_1_battery_converter_control_subsystem1_constant27__out = 1.5;
         double _battery_ess__generic_1_battery_converter_control_subsystem1_constant28__out = 0.5;
         double _battery_ess__generic_1_battery_converter_control_subsystem1_constant29__out = 1.5;
         double _battery_ess__generic_1_battery_converter_control_subsystem1_constant30__out = 0.5;
         double _battery_ess__generic_1_battery_converter_control_subsystem1_constant31__out = 1.5;
         double _battery_ess__generic_1_battery_converter_control_subsystem1_constant32__out = 1.5;
      double _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__out;
      double _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__out;
         double _battery_ess__generic_1_battery_converter_control_fs1_hzwatt__out = 47.5;
         double _battery_ess__generic_1_battery_converter_control_fsn_hzwatt__out = 51.5;
        static double _battery_ess__generic_1_battery_converter_control_reserved_ins__out[17] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
        static double _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[9] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
        static double _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[9] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
    double _grid_ui1_connect__out;
    double _grid_ui1_grid_vrms_cmd__out;
    double _grid_ui1_grid_freq_cmd__out;
        static double _grid_ui1_reserved_outs__out[17] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
    double _grid1_ia_ia2__out;
    double _grid1_ib_ia2__out;
    double _grid1_ic_ia2__out;
        double _grid1_pll1_lpf_lpf__out;
        double _grid1_pll1_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _grid1_pll1_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _grid1_pll1_lpf_lpf__a_sum;
        double _grid1_pll1_lpf_lpf__b_sum;
        double _grid1_pll1_lpf_lpf__delay_line_in;        double _grid1_pll1_pid_integrator1__out;
        double _grid1_pll1_pid_integrator2__out;
      double _grid1_pll1_unit_delay1__out;
        double _grid1_pll1_abc_to_dq_lpf_d__out;
        double _grid1_pll1_abc_to_dq_lpf_d__previous_filtered_value;        double _grid1_pll1_abc_to_dq_lpf_q__out;
        double _grid1_pll1_abc_to_dq_lpf_q__previous_filtered_value;         double _grid1_ph_a_ph__out = 0.0;
         double _grid1_ph_b_ph__out = 240.0;
         double _grid1_ph_c_ph__out = 120.0;
    double _grid1_va_va2__out;
    double _grid1_vb_va2__out;
    double _grid1_vc_va2__out;
        static double _grid1_reserved_ins__out[13] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
         double _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out = 0.0;
         double _pv_power_plant__generic__ui1_der__generic__external_join1_reserved__out = 0.0;
    double _pv_power_plant__generic__ui1_enable__out;
    double _pv_power_plant__generic__ui1_f_alarm_lower_limit__out;
    double _pv_power_plant__generic__ui1_f_alarm_upper_limit__out;
    double _pv_power_plant__generic__ui1_hzwatt_enable__out;
    double _pv_power_plant__generic__ui1_i_alarm_upper_limit__out;
    double _pv_power_plant__generic__ui1_irradiance__out;
    double _pv_power_plant__generic__ui1_lvrt_p_set__out;
    double _pv_power_plant__generic__ui1_lvrt_q_contribution__out;
    double _pv_power_plant__generic__ui1_lvrt_enable__out;
    double _pv_power_plant__generic__ui1_mppt_rate_of_change__out;
    double _pv_power_plant__generic__ui1_pcurtailment__out;
    double _pv_power_plant__generic__ui1_pcurtailment_rate_of_change__out;
    double _pv_power_plant__generic__ui1_qref__out;
    double _pv_power_plant__generic__ui1_qref_rate_of_change__out;
    double _pv_power_plant__generic__ui1_reset_alarms__out;
    double _pv_power_plant__generic__ui1_s_alarm_upper_limit__out;
    double _pv_power_plant__generic__ui1_temperature__out;
    double _pv_power_plant__generic__ui1_v_alarm_lower_limit__out;
    double _pv_power_plant__generic__ui1_v_alarm_upper_limit__out;
    double _pv_power_plant__generic__ui1_voltvar_enable__out;
    double _pv_power_plant__generic__ui1_voltwatt_enable__out;
         double _pv_power_plant__generic_1_grid_converter1_constant1__out = 2.0;
        static double _pv_power_plant__generic_1_grid_converter1_constant2__out[6] = { 0.0,0.0,0.0,0.0,0.0,0.0 };
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ia;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ib;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ic;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Sg;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Vgrms;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault_ack_input;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fg;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__grid_forming;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lvrt_en;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__system_level_fault1;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm;
                double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm;

                        double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask;
                    double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__enable_mask;
                    double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault;
                    double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault_msg;

    double _pv_power_plant__generic_1_grid_converter1_ia_ia2__out;
    double _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out;
    double _pv_power_plant__generic_1_grid_converter1_ib_ia2__out;
    double _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out;
    double _pv_power_plant__generic_1_grid_converter1_ic_ia2__out;
    double _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out;
        static double _pv_power_plant__generic_1_grid_converter1_inverter_control_constant1__out[2] = { 0.0,0.0 };
         double _pv_power_plant__generic_1_grid_converter1_inverter_control_constant2__out = 1.0;
         double _pv_power_plant__generic_1_grid_converter1_inverter_control_constant3__out = 0.0;
         double _pv_power_plant__generic_1_grid_converter1_inverter_control_constant8__out = 1.0;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out;
      double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out;
      double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value;      double _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__out;
         double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_o_ref__out = 0.0;
        double _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[25];
         double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_radian__out = 0.0174533;

    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref;
    X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref;

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in;
         double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_radian__out = 0.0174533;

    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref;
    X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref;

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in;
         double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_radian__out = 0.0174533;

    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref;
    X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref;

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in;
    double _pv_power_plant__generic_1_grid_converter1_va_va2__out;
    double _pv_power_plant__generic_1_grid_converter1_va1_va2__out;
    double _pv_power_plant__generic_1_grid_converter1_vb_va2__out;
    double _pv_power_plant__generic_1_grid_converter1_vb1_va2__out;
    double _pv_power_plant__generic_1_grid_converter1_vc_va2__out;
    double _pv_power_plant__generic_1_grid_converter1_vc1_va2__out;
        static double _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[9] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
      double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out;
      double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out;
         double _pv_power_plant__generic_1_pv_converter_control_constant1__out = 450000.0;
         double _pv_power_plant__generic_1_pv_converter_control_constant2__out = 217944.94717703367;
         double _pv_power_plant__generic_1_pv_converter_control_constant26__out = 0.0;
         double _pv_power_plant__generic_1_pv_converter_control_constant3__out = 500000.0;
         double _pv_power_plant__generic_1_pv_converter_control_constant5__out = 0.0;
         double _pv_power_plant__generic_1_pv_converter_control_constant6__out = 2.0;
         double _pv_power_plant__generic_1_pv_converter_control_constant7__out = 0.0;
      double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__out;
                double _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_input;
                double _pv_power_plant__generic_1_pv_converter_control_main_state_machine__fault_input;
                double _pv_power_plant__generic_1_pv_converter_control_main_state_machine__time_out_starting_up_input;

                        double _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out;
                    double _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out;

        static double _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant1__out[2] = { 0.0,0.0 };
         double _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant2__out = 1.0;
         double _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant3__out = 450000.0;
         double _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant4__out = 217944.94717703367;
                double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__fsm_state;
                double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pin;
                double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_in;
                double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__ramp_time_ms;

                        double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out;

                double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__fsm_state;
                double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pin;
                double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_in;
                double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__ramp_time_ms;

                        double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out;

                double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__fsm_state;
                double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pin;
                double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_in;
                double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__ramp_time_ms;

                        double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out;

        double _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[30];
         double _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant27__out = 1.5;
         double _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant28__out = 0.5;
         double _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant29__out = 1.5;
         double _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant30__out = 0.5;
         double _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant31__out = 1.5;
         double _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant32__out = 1.5;
      double _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__out;
      double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__out;
         double _pv_power_plant__generic_1_pv_converter_control_fs1_hzwatt__out = 47.5;
         double _pv_power_plant__generic_1_pv_converter_control_fsn_hzwatt__out = 51.5;
        static double _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[15] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
        static double _pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[10] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
        static double _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[9] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
         double _variable_load__generic__ui1_der__generic__control_join_reserved__out = 0.0;
         double _variable_load__generic__ui1_der__generic__external_join1_reserved__out = 0.0;
    double _variable_load__generic__ui1_enable__out;
    double _variable_load__generic__ui1_f_alarm_lower_limit__out;
    double _variable_load__generic__ui1_f_alarm_upper_limit__out;
    double _variable_load__generic__ui1_i_alarm_upper_limit__out;
    double _variable_load__generic__ui1_p_dependency_type__out;
    double _variable_load__generic__ui1_p_v__k1__out;
    double _variable_load__generic__ui1_p_v__k2__out;
    double _variable_load__generic__ui1_p_f__k1__out;
    double _variable_load__generic__ui1_p_f__k2__out;
    double _variable_load__generic__ui1_pref__out;
    double _variable_load__generic__ui1_pref_rate_of_change__out;
    double _variable_load__generic__ui1_q_dependency_type__out;
    double _variable_load__generic__ui1_q_v__k1__out;
    double _variable_load__generic__ui1_q_v__k2__out;
    double _variable_load__generic__ui1_q_f__k1__out;
    double _variable_load__generic__ui1_q_f__k2__out;
    double _variable_load__generic__ui1_qref__out;
    double _variable_load__generic__ui1_qref_rate_of_change__out;
    double _variable_load__generic__ui1_reset_alarms__out;
    double _variable_load__generic__ui1_s_alarm_upper_limit__out;
    double _variable_load__generic__ui1_v_alarm_lower_limit__out;
    double _variable_load__generic__ui1_v_alarm_upper_limit__out;
         double _variable_load__generic_1_grid_converter1_constant1__out = 2.0;
        static double _variable_load__generic_1_grid_converter1_constant2__out[6] = { 0.0,0.0,0.0,0.0,0.0,0.0 };
                double _variable_load__generic_1_grid_converter1_fault_state_machine__Ia;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__Ib;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__Ic;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__Sg;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__Vgrms;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__fault_ack_input;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__fg;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__grid_forming;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__lvrt_en;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__system_level_fault1;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm;
                double _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm;

                        double _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask;
                    double _variable_load__generic_1_grid_converter1_fault_state_machine__enable_mask;
                    double _variable_load__generic_1_grid_converter1_fault_state_machine__fault;
                    double _variable_load__generic_1_grid_converter1_fault_state_machine__fault_msg;

    double _variable_load__generic_1_grid_converter1_ia_ia2__out;
    double _variable_load__generic_1_grid_converter1_ia1_ia2__out;
    double _variable_load__generic_1_grid_converter1_ib_ia2__out;
    double _variable_load__generic_1_grid_converter1_ib1_ia2__out;
    double _variable_load__generic_1_grid_converter1_ic_ia2__out;
    double _variable_load__generic_1_grid_converter1_ic1_ia2__out;
        static double _variable_load__generic_1_grid_converter1_inverter_control_constant1__out[2] = { 0.0,0.0 };
         double _variable_load__generic_1_grid_converter1_inverter_control_constant2__out = 1.0;
         double _variable_load__generic_1_grid_converter1_inverter_control_constant3__out = 0.0;
         double _variable_load__generic_1_grid_converter1_inverter_control_constant8__out = 1.0;
        double _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value;        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in;        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out;
      double _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value;        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value;        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_coeff[1] = {0.0002467401100272326};
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[3] = {1.0, -1.9777889399391202, 0.9780356800491474};
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in;        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out;
      double _variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value;        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value;      double _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__out;
         double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_o_ref__out = 0.0;
        double _variable_load__generic_1_grid_converter1_rate_transition17_output__out[25];
         double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_radian__out = 0.0174533;

    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref;
    X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref;

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in;
        X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in;
         double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_radian__out = 0.0174533;

    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref;
    X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref;

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in;
        X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in;
         double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_radian__out = 0.0174533;

    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref;
    X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref;

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in;
        X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in;
    double _variable_load__generic_1_grid_converter1_va_va2__out;
    double _variable_load__generic_1_grid_converter1_va1_va2__out;
    double _variable_load__generic_1_grid_converter1_vb_va2__out;
    double _variable_load__generic_1_grid_converter1_vb1_va2__out;
    double _variable_load__generic_1_grid_converter1_vc_va2__out;
    double _variable_load__generic_1_grid_converter1_vc1_va2__out;
      double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out;
      double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out;
         double _variable_load__generic_1_converter_control_constant1__out = 450000.0;
        static double _variable_load__generic_1_converter_control_constant12__out[9] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
         double _variable_load__generic_1_converter_control_constant15__out = 2.0;
         double _variable_load__generic_1_converter_control_constant18__out = 0.0;
         double _variable_load__generic_1_converter_control_constant2__out = 217944.94717703367;
         double _variable_load__generic_1_converter_control_constant3__out = 500000.0;
         double _variable_load__generic_1_converter_control_constant6__out = 0.0;
         double _variable_load__generic_1_converter_control_constant7__out = 230.94010767585033;
         double _variable_load__generic_1_converter_control_constant8__out = 50.0;
                double _variable_load__generic_1_converter_control_main_state_machine__enable_input;
                double _variable_load__generic_1_converter_control_main_state_machine__fault_input;
                double _variable_load__generic_1_converter_control_main_state_machine__time_out_starting_up_input;

                        double _variable_load__generic_1_converter_control_main_state_machine__enable_out;
                    double _variable_load__generic_1_converter_control_main_state_machine__state_out;

        static double _variable_load__generic_1_converter_control_pq_control1_constant1__out[2] = { 0.0,0.0 };
         double _variable_load__generic_1_converter_control_pq_control1_constant2__out = 1.0;
         double _variable_load__generic_1_converter_control_pq_control1_constant3__out = 540000.0;
         double _variable_load__generic_1_converter_control_pq_control1_constant4__out = 261533.9366124404;
                double _variable_load__generic_1_converter_control_ramping_p_ramping__fsm_state;
                double _variable_load__generic_1_converter_control_ramping_p_ramping__pin;
                double _variable_load__generic_1_converter_control_ramping_p_ramping__pref_in;
                double _variable_load__generic_1_converter_control_ramping_p_ramping__ramp_time_ms;

                        double _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out;

                double _variable_load__generic_1_converter_control_ramping_q_ramping__fsm_state;
                double _variable_load__generic_1_converter_control_ramping_q_ramping__pin;
                double _variable_load__generic_1_converter_control_ramping_q_ramping__pref_in;
                double _variable_load__generic_1_converter_control_ramping_q_ramping__ramp_time_ms;

                        double _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out;

        double _variable_load__generic_1_converter_control_rate_transition15_output__out[30];
        static double _variable_load__generic_1_converter_control_reserved_ins__out[25] = { 0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0 };
    	double _battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[5];
    	double _battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[50];
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out;
            X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out;
            X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc;
    double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha;
    double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;
    double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__gamma;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out;
            X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc;
double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;                double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in1;
                double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2;

                        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;
                    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_to_hz__out;                double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in1;
                double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2;

                        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;
                    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

        double _battery_ess__generic_1_grid_converter1_bus_split3__out;         double _battery_ess__generic_1_grid_converter1_bus_split3__out1;         double _battery_ess__generic_1_grid_converter1_bus_split3__out2;         double _battery_ess__generic_1_grid_converter1_bus_split3__out3;         double _battery_ess__generic_1_grid_converter1_bus_split3__out4;         double _battery_ess__generic_1_grid_converter1_bus_split3__out5;         double _battery_ess__generic_1_grid_converter1_bus_split3__out6;         double _battery_ess__generic_1_grid_converter1_bus_split3__out7;         double _battery_ess__generic_1_grid_converter1_bus_split3__out8;         double _battery_ess__generic_1_grid_converter1_bus_split3__out9;         double _battery_ess__generic_1_grid_converter1_bus_split3__out10;         double _battery_ess__generic_1_grid_converter1_bus_split3__out11;         double _battery_ess__generic_1_grid_converter1_bus_split3__out12;         double _battery_ess__generic_1_grid_converter1_bus_split3__out13;         double _battery_ess__generic_1_grid_converter1_bus_split3__out14;         double _battery_ess__generic_1_grid_converter1_bus_split3__out15;         double _battery_ess__generic_1_grid_converter1_bus_split3__out16;         double _battery_ess__generic_1_grid_converter1_bus_split3__out17;         double _battery_ess__generic_1_grid_converter1_bus_split3__out18;         double _battery_ess__generic_1_grid_converter1_bus_split3__out19;         double _battery_ess__generic_1_grid_converter1_bus_split3__out20;         double _battery_ess__generic_1_grid_converter1_bus_split3__out21;         double _battery_ess__generic_1_grid_converter1_bus_split3__out22;         double _battery_ess__generic_1_grid_converter1_bus_split3__out23;         double _battery_ess__generic_1_grid_converter1_bus_split3__out24; double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out;
            X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out;
            X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__gamma;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__gamma;
    double _battery_ess__generic_1_grid_converter1_power_meter1__Pdc;
    double _battery_ess__generic_1_grid_converter1_power_meter1__Qdc;
    double _battery_ess__generic_1_grid_converter1_power_meter1__P0dc;
    double _battery_ess__generic_1_grid_converter1_power_meter1__Pac;
    double _battery_ess__generic_1_grid_converter1_power_meter1__Qac;
    double _battery_ess__generic_1_grid_converter1_power_meter1__P0ac;
    double _battery_ess__generic_1_grid_converter1_power_meter1__apparent;
    double _battery_ess__generic_1_grid_converter1_power_meter1__k_factor;
    double _battery_ess__generic_1_grid_converter1_power_meter1__v_alpha;
    double _battery_ess__generic_1_grid_converter1_power_meter1__v_beta;
    double _battery_ess__generic_1_grid_converter1_power_meter1__i_alpha;
    double _battery_ess__generic_1_grid_converter1_power_meter1__i_beta;
    double _battery_ess__generic_1_grid_converter1_power_meter1__v_zero;
    double _battery_ess__generic_1_grid_converter1_power_meter1__i_zero;
    double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output;
    double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
    double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputP0;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out;
            X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc;
double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_a__out;double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_a__out;double _battery_ess__generic_1_battery_converter_control_gain47__out;double _battery_ess__generic_1_battery_converter_control_gain48__out;double _battery_ess__generic_1_battery_converter_control_gain49__out;double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_a__out;        double _battery_ess__generic_1_battery_converter_control_bus_split1__out;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out1;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out2;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out3;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out4;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out5;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out6;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out7;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out8;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out9;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out10;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out11;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out12;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out13;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out14;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out15;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out16;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out17;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out18;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out19;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out20;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out21;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out22;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out23;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out24;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out25;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out26;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out27;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out28;         double _battery_ess__generic_1_battery_converter_control_bus_split1__out29; double _battery_ess__generic_1_battery_converter_control_voltvar1_filter_a__out;double _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_a__out;double _battery_ess__generic_1_battery_converter_control_gain54__out;double _battery_ess__generic_1_battery_converter_control_gain55__out;    	double _grid_ui1_bus_join1__out[20];
double _grid1_pll1_to_hz__out;                double _grid1_pll1_normalize__in1;
                double _grid1_pll1_normalize__in2;

                        double _grid1_pll1_normalize__in2_pu;
                    double _grid1_pll1_normalize__pk;

    double _grid1_pll1_abc_to_dq_abc_to_alpha_beta__alpha;
    double _grid1_pll1_abc_to_dq_abc_to_alpha_beta__beta;
    double _grid1_pll1_abc_to_dq_abc_to_alpha_beta__gamma;
    double _grid1_power_meter1__Pdc;
    double _grid1_power_meter1__Qdc;
    double _grid1_power_meter1__P0dc;
    double _grid1_power_meter1__Pac;
    double _grid1_power_meter1__Qac;
    double _grid1_power_meter1__P0ac;
    double _grid1_power_meter1__apparent;
    double _grid1_power_meter1__k_factor;
    double _grid1_power_meter1__v_alpha;
    double _grid1_power_meter1__v_beta;
    double _grid1_power_meter1__i_alpha;
    double _grid1_power_meter1__i_beta;
    double _grid1_power_meter1__v_zero;
    double _grid1_power_meter1__i_zero;
    double _grid1_power_meter1__filter_1_output;
    double _grid1_power_meter1__filter_1_outputQ;
    double _grid1_power_meter1__filter_1_outputP0;
    	double _pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[5];
    	double _pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[40];
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out;
            X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out;
            X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__gamma;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out;
            X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;                double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in1;
                double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2;

                        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;
                    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_to_hz__out;                double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in1;
                double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2;

                        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;
                    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

        double _pv_power_plant__generic_1_grid_converter1_bus_split3__out;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out1;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out2;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out3;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out4;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out5;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out6;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out7;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out8;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out9;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out10;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out11;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out12;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out13;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out14;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out15;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out16;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out17;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out18;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out19;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out20;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out21;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out22;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out23;         double _pv_power_plant__generic_1_grid_converter1_bus_split3__out24; double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out;
            X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out;
            X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__gamma;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__gamma;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__Pdc;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__Qdc;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__P0dc;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__Pac;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__Qac;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__P0ac;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__apparent;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__k_factor;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__v_alpha;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__v_beta;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__i_alpha;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__i_beta;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__v_zero;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__i_zero;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
    double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputP0;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out;
            X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc;
double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_a__out;double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_a__out;double _pv_power_plant__generic_1_pv_converter_control_gain45__out;double _pv_power_plant__generic_1_pv_converter_control_gain46__out;double _pv_power_plant__generic_1_pv_converter_control_gain47__out;double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_a__out;    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out;
        double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out1;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out2;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out3;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out4;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out5;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out6;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out7;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out8;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out9;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out10;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out11;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out12;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out13;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out14;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out15;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out16;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out17;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out18;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out19;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out20;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out21;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out22;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out23;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out24;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out25;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out26;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out27;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out28;         double _pv_power_plant__generic_1_pv_converter_control_bus_split1__out29; double _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_a__out;double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_a__out;double _pv_power_plant__generic_1_pv_converter_control_gain54__out;double _pv_power_plant__generic_1_pv_converter_control_gain55__out;        double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out1;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out2;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out3;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out4;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out5;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out6;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out7;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out8;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out9;     	double _variable_load__generic__ui1_der__generic__external_join1_bus_join__out[5];
    	double _variable_load__generic__ui1_der__generic__control_join_bus_join__out[40];
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out;
            X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out;
            X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc;
    double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha;
    double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;
    double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__gamma;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out;
            X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc;
double _variable_load__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;                double _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in1;
                double _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2;

                        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;
                    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

double _variable_load__generic_1_grid_converter1_inverter_control_pll2_to_hz__out;                double _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in1;
                double _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2;

                        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;
                    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

        double _variable_load__generic_1_grid_converter1_bus_split3__out;         double _variable_load__generic_1_grid_converter1_bus_split3__out1;         double _variable_load__generic_1_grid_converter1_bus_split3__out2;         double _variable_load__generic_1_grid_converter1_bus_split3__out3;         double _variable_load__generic_1_grid_converter1_bus_split3__out4;         double _variable_load__generic_1_grid_converter1_bus_split3__out5;         double _variable_load__generic_1_grid_converter1_bus_split3__out6;         double _variable_load__generic_1_grid_converter1_bus_split3__out7;         double _variable_load__generic_1_grid_converter1_bus_split3__out8;         double _variable_load__generic_1_grid_converter1_bus_split3__out9;         double _variable_load__generic_1_grid_converter1_bus_split3__out10;         double _variable_load__generic_1_grid_converter1_bus_split3__out11;         double _variable_load__generic_1_grid_converter1_bus_split3__out12;         double _variable_load__generic_1_grid_converter1_bus_split3__out13;         double _variable_load__generic_1_grid_converter1_bus_split3__out14;         double _variable_load__generic_1_grid_converter1_bus_split3__out15;         double _variable_load__generic_1_grid_converter1_bus_split3__out16;         double _variable_load__generic_1_grid_converter1_bus_split3__out17;         double _variable_load__generic_1_grid_converter1_bus_split3__out18;         double _variable_load__generic_1_grid_converter1_bus_split3__out19;         double _variable_load__generic_1_grid_converter1_bus_split3__out20;         double _variable_load__generic_1_grid_converter1_bus_split3__out21;         double _variable_load__generic_1_grid_converter1_bus_split3__out22;         double _variable_load__generic_1_grid_converter1_bus_split3__out23;         double _variable_load__generic_1_grid_converter1_bus_split3__out24; double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out;
            X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out;
            X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__gamma;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__gamma;
    double _variable_load__generic_1_grid_converter1_power_meter1__Pdc;
    double _variable_load__generic_1_grid_converter1_power_meter1__Qdc;
    double _variable_load__generic_1_grid_converter1_power_meter1__P0dc;
    double _variable_load__generic_1_grid_converter1_power_meter1__Pac;
    double _variable_load__generic_1_grid_converter1_power_meter1__Qac;
    double _variable_load__generic_1_grid_converter1_power_meter1__P0ac;
    double _variable_load__generic_1_grid_converter1_power_meter1__apparent;
    double _variable_load__generic_1_grid_converter1_power_meter1__k_factor;
    double _variable_load__generic_1_grid_converter1_power_meter1__v_alpha;
    double _variable_load__generic_1_grid_converter1_power_meter1__v_beta;
    double _variable_load__generic_1_grid_converter1_power_meter1__i_alpha;
    double _variable_load__generic_1_grid_converter1_power_meter1__i_beta;
    double _variable_load__generic_1_grid_converter1_power_meter1__v_zero;
    double _variable_load__generic_1_grid_converter1_power_meter1__i_zero;
    double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output;
    double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
    double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputP0;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out;
            X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc;
double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_a__out;double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_a__out;double _variable_load__generic_1_converter_control_gain46__out;double _variable_load__generic_1_converter_control_gain47__out;double _variable_load__generic_1_converter_control_gain48__out;    double _variable_load__generic_1_converter_control_pq_control1_sum9__out;
double _variable_load__generic_1_converter_control_gain42__out;double _variable_load__generic_1_converter_control_gain43__out;        double _variable_load__generic_1_converter_control_bus_split1__out;         double _variable_load__generic_1_converter_control_bus_split1__out1;         double _variable_load__generic_1_converter_control_bus_split1__out2;         double _variable_load__generic_1_converter_control_bus_split1__out3;         double _variable_load__generic_1_converter_control_bus_split1__out4;         double _variable_load__generic_1_converter_control_bus_split1__out5;         double _variable_load__generic_1_converter_control_bus_split1__out6;         double _variable_load__generic_1_converter_control_bus_split1__out7;         double _variable_load__generic_1_converter_control_bus_split1__out8;         double _variable_load__generic_1_converter_control_bus_split1__out9;         double _variable_load__generic_1_converter_control_bus_split1__out10;         double _variable_load__generic_1_converter_control_bus_split1__out11;         double _variable_load__generic_1_converter_control_bus_split1__out12;         double _variable_load__generic_1_converter_control_bus_split1__out13;         double _variable_load__generic_1_converter_control_bus_split1__out14;         double _variable_load__generic_1_converter_control_bus_split1__out15;         double _variable_load__generic_1_converter_control_bus_split1__out16;         double _variable_load__generic_1_converter_control_bus_split1__out17;         double _variable_load__generic_1_converter_control_bus_split1__out18;         double _variable_load__generic_1_converter_control_bus_split1__out19;         double _variable_load__generic_1_converter_control_bus_split1__out20;         double _variable_load__generic_1_converter_control_bus_split1__out21;         double _variable_load__generic_1_converter_control_bus_split1__out22;         double _variable_load__generic_1_converter_control_bus_split1__out23;         double _variable_load__generic_1_converter_control_bus_split1__out24;         double _variable_load__generic_1_converter_control_bus_split1__out25;         double _variable_load__generic_1_converter_control_bus_split1__out26;         double _variable_load__generic_1_converter_control_bus_split1__out27;         double _variable_load__generic_1_converter_control_bus_split1__out28;         double _variable_load__generic_1_converter_control_bus_split1__out29;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out1;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out2;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out3;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out4;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out1;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out2;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out3;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out4;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out5;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out6;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out7;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out8;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out9;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out10;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out11;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out12;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out13;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out14;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out15;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out16;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out17;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out18;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out19;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out20;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out21;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out22;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out23;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out24;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out25;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out26;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out27;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out28;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out29;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out30;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out31;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out32;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out33;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out34;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out35;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out36;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out37;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out38;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out39;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out40;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out41;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out42;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out43;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out44;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out45;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out46;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out47;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out48;         double _battery_ess__generic_1_battery_converter_control_bus_split3__out49;     double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d;
    double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q;
    double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1;
    double _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2;
double _battery_ess__generic_1_grid_converter1_inverter_control_gain10__out;double _battery_ess__generic_1_grid_converter1_inverter_control_gain7__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out;double _battery_ess__generic_1_grid_converter1_inverter_control_gain11__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_kp__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out;    	double _battery_ess__generic_1_grid_converter1_bus_join3__out[9];
double _battery_ess__generic_1_grid_converter1_inverter_control_gain9__out;    double _battery_ess__generic_1_grid_converter1_inverter_control_limit3__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator4__out;
double _battery_ess__generic_1_grid_converter1_product8__out;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_cos__out;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_sin__out;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_cos__out;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_sin__out;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_cos__out;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_sin__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_calc_s__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_calc_s__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_calc_s__out;
double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_1_a__out;double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_1_a__out;    	double _battery_ess__generic_1_battery_converter_control_bus_join4__out[6];
        double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__out;
        double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_coeff[2] = {0.007792777304150067, 0.007792777304150067};
        double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__a_coeff[2] = {1.0, -0.9844144453917};
        double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__a_sum;
        double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_sum;
        double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__delay_line_in;double _battery_ess__generic_1_battery_converter_control_gain35__out;double _battery_ess__generic_1_battery_converter_control_gain36__out;double _battery_ess__generic_1_battery_converter_control_gain37__out;double _battery_ess__generic_1_battery_converter_control_gain38__out;double _battery_ess__generic_1_battery_converter_control_gain39__out;double _battery_ess__generic_1_battery_converter_control_gain40__out;double _battery_ess__generic_1_battery_converter_control_gain41__out;double _battery_ess__generic_1_battery_converter_control_gain42__out;double _battery_ess__generic_1_battery_converter_control_gain43__out;double _battery_ess__generic_1_battery_converter_control_gain44__out;double _battery_ess__generic_1_battery_converter_control_gain53__out;     double _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__value;        X_Int32 _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__rightIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__curAddr;
        double _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__fraction;

double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_1_a__out;double _battery_ess__generic_1_battery_converter_control_product2__out;
double _battery_ess__generic_1_battery_converter_control_product3__out;
double _battery_ess__generic_1_battery_converter_control_voltvar1_filter_1_a__out;double _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_1_a__out;        double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__out;
        double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_coeff[2] = {0.007792777304150067, 0.007792777304150067};
        double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__a_coeff[2] = {1.0, -0.9844144453917};
        double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__a_sum;
        double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_sum;
        double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__delay_line_in;        double _grid1_bus_split1__out;         double _grid1_bus_split1__out1;         double _grid1_bus_split1__out2;         double _grid1_bus_split1__out3;         double _grid1_bus_split1__out4;         double _grid1_bus_split1__out5;         double _grid1_bus_split1__out6;         double _grid1_bus_split1__out7;         double _grid1_bus_split1__out8;         double _grid1_bus_split1__out9;         double _grid1_bus_split1__out10;         double _grid1_bus_split1__out11;         double _grid1_bus_split1__out12;         double _grid1_bus_split1__out13;         double _grid1_bus_split1__out14;         double _grid1_bus_split1__out15;         double _grid1_bus_split1__out16;         double _grid1_bus_split1__out17;         double _grid1_bus_split1__out18;         double _grid1_bus_split1__out19; double _grid1_gain7__out;double _grid1_pll1_pid_kd__out;double _grid1_pll1_pid_ki__out;double _grid1_pll1_pid_kp__out;    double _grid1_pll1_abc_to_dq_alpha_beta_to_dq__d;
    double _grid1_pll1_abc_to_dq_alpha_beta_to_dq__q;
    double _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k1;
    double _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k2;
double _grid1_gain36__out;double _grid1_gain37__out;double _grid1_gain38__out;        double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out1;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out2;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out3;         double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out4;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out1;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out2;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out3;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out4;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out5;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out6;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out7;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out8;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out9;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out10;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out11;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out12;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out13;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out14;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out15;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out16;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out17;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out18;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out19;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out20;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out21;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out22;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out23;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out24;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out25;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out26;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out27;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out28;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out29;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out30;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out31;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out32;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out33;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out34;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out35;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out36;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out37;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out38;         double _pv_power_plant__generic_1_pv_converter_control_bus_split3__out39;     double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_gain10__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_gain7__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_gain11__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_kp__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out;    	double _pv_power_plant__generic_1_grid_converter1_bus_join3__out[9];
double _pv_power_plant__generic_1_grid_converter1_inverter_control_gain9__out;    double _pv_power_plant__generic_1_grid_converter1_inverter_control_limit3__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator4__out;
double _pv_power_plant__generic_1_grid_converter1_product8__out;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_cos__out;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_sin__out;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_cos__out;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_sin__out;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_cos__out;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_sin__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_calc_s__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_calc_s__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_calc_s__out;
double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_1_a__out;double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_1_a__out;    	double _pv_power_plant__generic_1_pv_converter_control_bus_join6__out[6];
double _pv_power_plant__generic_1_pv_converter_control_gain34__out;double _pv_power_plant__generic_1_pv_converter_control_gain36__out;double _pv_power_plant__generic_1_pv_converter_control_gain37__out;double _pv_power_plant__generic_1_pv_converter_control_gain38__out;double _pv_power_plant__generic_1_pv_converter_control_gain39__out;double _pv_power_plant__generic_1_pv_converter_control_gain40__out;double _pv_power_plant__generic_1_pv_converter_control_gain41__out;double _pv_power_plant__generic_1_pv_converter_control_gain42__out;double _pv_power_plant__generic_1_pv_converter_control_gain43__out;double _pv_power_plant__generic_1_pv_converter_control_gain44__out;double _pv_power_plant__generic_1_pv_converter_control_gain48__out;     double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__value;        X_Int32 _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__rightIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__curAddr;
        double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__fraction;

double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_1_a__out;        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__out;
        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__out;
double _pv_power_plant__generic_1_pv_converter_control_product2__out;
double _pv_power_plant__generic_1_pv_converter_control_product3__out;
double _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_1_a__out;double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_1_a__out;    	double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[10];
        double _variable_load__generic_1_converter_control_bus_split3__out;         double _variable_load__generic_1_converter_control_bus_split3__out1;         double _variable_load__generic_1_converter_control_bus_split3__out2;         double _variable_load__generic_1_converter_control_bus_split3__out3;         double _variable_load__generic_1_converter_control_bus_split3__out4;         double _variable_load__generic_1_converter_control_bus_split3__out5;         double _variable_load__generic_1_converter_control_bus_split3__out6;         double _variable_load__generic_1_converter_control_bus_split3__out7;         double _variable_load__generic_1_converter_control_bus_split3__out8;         double _variable_load__generic_1_converter_control_bus_split3__out9;         double _variable_load__generic_1_converter_control_bus_split3__out10;         double _variable_load__generic_1_converter_control_bus_split3__out11;         double _variable_load__generic_1_converter_control_bus_split3__out12;         double _variable_load__generic_1_converter_control_bus_split3__out13;         double _variable_load__generic_1_converter_control_bus_split3__out14;         double _variable_load__generic_1_converter_control_bus_split3__out15;         double _variable_load__generic_1_converter_control_bus_split3__out16;         double _variable_load__generic_1_converter_control_bus_split3__out17;         double _variable_load__generic_1_converter_control_bus_split3__out18;         double _variable_load__generic_1_converter_control_bus_split3__out19;         double _variable_load__generic_1_converter_control_bus_split3__out20;         double _variable_load__generic_1_converter_control_bus_split3__out21;         double _variable_load__generic_1_converter_control_bus_split3__out22;         double _variable_load__generic_1_converter_control_bus_split3__out23;         double _variable_load__generic_1_converter_control_bus_split3__out24;         double _variable_load__generic_1_converter_control_bus_split3__out25;         double _variable_load__generic_1_converter_control_bus_split3__out26;         double _variable_load__generic_1_converter_control_bus_split3__out27;         double _variable_load__generic_1_converter_control_bus_split3__out28;         double _variable_load__generic_1_converter_control_bus_split3__out29;         double _variable_load__generic_1_converter_control_bus_split3__out30;         double _variable_load__generic_1_converter_control_bus_split3__out31;         double _variable_load__generic_1_converter_control_bus_split3__out32;         double _variable_load__generic_1_converter_control_bus_split3__out33;         double _variable_load__generic_1_converter_control_bus_split3__out34;         double _variable_load__generic_1_converter_control_bus_split3__out35;         double _variable_load__generic_1_converter_control_bus_split3__out36;         double _variable_load__generic_1_converter_control_bus_split3__out37;         double _variable_load__generic_1_converter_control_bus_split3__out38;         double _variable_load__generic_1_converter_control_bus_split3__out39;     double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d;
    double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q;
    double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1;
    double _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2;
double _variable_load__generic_1_grid_converter1_inverter_control_gain10__out;double _variable_load__generic_1_grid_converter1_inverter_control_gain7__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out;double _variable_load__generic_1_grid_converter1_inverter_control_gain11__out;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_kp__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out;    	double _variable_load__generic_1_grid_converter1_bus_join3__out[9];
double _variable_load__generic_1_grid_converter1_inverter_control_gain9__out;    double _variable_load__generic_1_grid_converter1_inverter_control_limit3__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_logical_operator4__out;
double _variable_load__generic_1_grid_converter1_product8__out;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_cos__out;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_sin__out;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_cos__out;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_sin__out;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_cos__out;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_sin__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_calc_s__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_calc_s__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_calc_s__out;
double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_1_a__out;double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_1_a__out;    	double _variable_load__generic_1_converter_control_bus_join3__out[6];
double _variable_load__generic_1_converter_control_gain36__out;double _variable_load__generic_1_converter_control_gain37__out;double _variable_load__generic_1_converter_control_gain38__out;double _variable_load__generic_1_converter_control_gain39__out;double _variable_load__generic_1_converter_control_gain40__out;double _variable_load__generic_1_converter_control_gain41__out;        double _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__out;
        double _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__out;
    	double _battery_ess__generic_1_battery_dc_link_sp1_bus_join4__out[3];
    double _battery_ess__generic_1_battery_dc_link_sp1_limit2__out;
    double _battery_ess__generic_1_battery_dc_link_sp1_limit3__out;
    double _battery_ess__generic_1_battery_dc_link_sp1_relational_operator1__out;
    	double _battery_ess__generic_1_battery_converter_control_bus_join3__out[21];
double _battery_ess__generic_1_battery_converter_control_gain29__out;double _battery_ess__generic_1_battery_converter_control_gain30__out;double _battery_ess__generic_1_battery_converter_control_gain32__out;double _battery_ess__generic_1_battery_converter_control_gain33__out;double _battery_ess__generic_1_battery_converter_control_gain34__out;double _battery_ess__generic_1_battery_converter_control_gain56__out;    double _battery_ess__generic_1_battery_converter_control_limit10__out;
    double _battery_ess__generic_1_battery_converter_control_limit11__out;
    double _battery_ess__generic_1_battery_converter_control_limit14__out;
    double _battery_ess__generic_1_battery_converter_control_limit15__out;
    double _battery_ess__generic_1_battery_converter_control_limit16__out;
    double _battery_ess__generic_1_battery_converter_control_limit17__out;
    double _battery_ess__generic_1_battery_converter_control_limit18__out;
    double _battery_ess__generic_1_battery_converter_control_limit19__out;
    double _battery_ess__generic_1_battery_converter_control_limit2__out;
    double _battery_ess__generic_1_battery_converter_control_limit20__out;
    double _battery_ess__generic_1_battery_converter_control_limit21__out;
    double _battery_ess__generic_1_battery_converter_control_limit3__out;
    double _battery_ess__generic_1_battery_converter_control_limit4__out;
    double _battery_ess__generic_1_battery_converter_control_limit5__out;
    double _battery_ess__generic_1_battery_converter_control_limit6__out;
    double _battery_ess__generic_1_battery_converter_control_limit7__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator16__out;
                double _battery_ess__generic_1_battery_converter_control_mode_selection__mode;

                        double _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;
                    double _battery_ess__generic_1_battery_converter_control_mode_selection__isoc;

    double _battery_ess__generic_1_grid_converter1_inverter_control_sum7__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_sum8__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out;
double _battery_ess__generic_1_grid_converter1_inverter_control_gain8__out;        double _battery_ess__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = 0;
    double _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator1__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator5__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_pmult__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out;double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_pmult__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out;double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_pmult__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out;    double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_sum1__out;
    double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_sum1__out;
    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_sum1__out;
    double _battery_ess__generic_1_battery_converter_control_sum2__out;
    double _battery_ess__generic_1_battery_converter_control_voltvar1_filter_sum1__out;
    double _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_sum1__out;
        double _grid1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = 0;
double _grid1_gain40__out;    double _grid1_limit1__out;
    	double _grid1_reserved_outs__out[17];
double _grid1_gain35__out;    double _grid1_pll1_pid_sum8__out;
    	double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_join4__out[3];
    double _pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out;
    	double _pv_power_plant__generic_1_pv_converter_control_bus_join3__out[21];
double _pv_power_plant__generic_1_pv_converter_control_gain31__out;double _pv_power_plant__generic_1_pv_converter_control_gain33__out;    double _pv_power_plant__generic_1_pv_converter_control_limit16__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit17__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit18__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit19__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit2__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit20__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit21__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit22__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit23__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit3__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit4__out;
    double _pv_power_plant__generic_1_pv_converter_control_logical_operator15__out;
    double _pv_power_plant__generic_1_pv_converter_control_logical_operator16__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_sum7__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_sum8__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_gain8__out;        double _pv_power_plant__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = 0;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator1__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator5__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_pmult__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out;double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_pmult__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out;double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_pmult__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out;    double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_sum1__out;
    double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_sum1__out;
                double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Enable_HzWatt;
                double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Enable_battery;
                double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Grid_forming;
                double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Pref;
                double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Psup;

                        double _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out;

    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_sum1__out;
    double _pv_power_plant__generic_1_pv_converter_control_sum2__out;
    double _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_sum1__out;
    double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_sum1__out;
double _variable_load__generic_1_converter_control_gain29__out;double _variable_load__generic_1_converter_control_gain30__out;    double _variable_load__generic_1_converter_control_limit2__out;
    double _variable_load__generic_1_converter_control_limit3__out;
    double _variable_load__generic_1_converter_control_limit4__out;
    double _variable_load__generic_1_converter_control_limit5__out;
    double _variable_load__generic_1_converter_control_limit6__out;
    double _variable_load__generic_1_converter_control_limit7__out;
    double _variable_load__generic_1_converter_control_limit8__out;
    double _variable_load__generic_1_converter_control_limit9__out;
    	double _variable_load__generic_1_converter_control_reserved_outs__out[18];
    double _variable_load__generic_1_grid_converter1_inverter_control_sum7__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_sum8__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out;
double _variable_load__generic_1_grid_converter1_inverter_control_gain8__out;        double _variable_load__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = 0;
    double _variable_load__generic_1_grid_converter1_inverter_control_logical_operator1__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_logical_operator5__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_pmult__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out;double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_pmult__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out;double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_pmult__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out;    double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_sum1__out;
    double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_sum1__out;
                double _variable_load__generic_1_converter_control_v_f_dependencies__Pref_pu;
                double _variable_load__generic_1_converter_control_v_f_dependencies__Qref_pu;
                double _variable_load__generic_1_converter_control_v_f_dependencies__Vg_meas;
                double _variable_load__generic_1_converter_control_v_f_dependencies__f_meas;
                double _variable_load__generic_1_converter_control_v_f_dependencies__p_dep_type;
                double _variable_load__generic_1_converter_control_v_f_dependencies__p_f_k1;
                double _variable_load__generic_1_converter_control_v_f_dependencies__p_f_k2;
                double _variable_load__generic_1_converter_control_v_f_dependencies__p_v_k1;
                double _variable_load__generic_1_converter_control_v_f_dependencies__p_v_k2;
                double _variable_load__generic_1_converter_control_v_f_dependencies__q_dep_type;
                double _variable_load__generic_1_converter_control_v_f_dependencies__q_f_k1;
                double _variable_load__generic_1_converter_control_v_f_dependencies__q_f_k2;
                double _variable_load__generic_1_converter_control_v_f_dependencies__q_v_k1;
                double _variable_load__generic_1_converter_control_v_f_dependencies__q_v_k2;

                        double _variable_load__generic_1_converter_control_v_f_dependencies__Pref_scal_pu;
                    double _variable_load__generic_1_converter_control_v_f_dependencies__Qref_scal_pu;
                    double _variable_load__generic_1_converter_control_v_f_dependencies__p_scl_on;
                    double _variable_load__generic_1_converter_control_v_f_dependencies__q_scl_on;

double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain4__out;    double _battery_ess__generic_1_battery_dc_link_sp1_signal_switch1__out;
    double _battery_ess__generic_1_battery_converter_control_limit8__out;
    double _battery_ess__generic_1_battery_converter_control_limit9__out;
    double _battery_ess__generic_1_battery_converter_control_limit13__out;
    double _battery_ess__generic_1_battery_converter_control_limit12__out;
    double _battery_ess__generic_1_battery_converter_control_sum1__out;
    double _battery_ess__generic_1_battery_converter_control_sum3__out;
double _battery_ess__generic_1_battery_converter_control_gain45__out;double _battery_ess__generic_1_battery_converter_control_gain46__out;double _battery_ess__generic_1_battery_converter_control_ramping3_gain1__out;double _battery_ess__generic_1_battery_converter_control_ramping4_gain1__out;double _battery_ess__generic_1_battery_converter_control_ramping1_gain1__out;double _battery_ess__generic_1_battery_converter_control_ramping2_gain1__out;    double _battery_ess__generic_1_battery_converter_control_relational_operator9__out;
                double _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Enable_HzWatt;
                double _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Enable_battery;
                double _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Grid_forming;
                double _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Pref;
                double _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Psup;

                        double _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out;

    double _battery_ess__generic_1_battery_converter_control_logical_operator1__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator14__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator6__out;
    	double _battery_ess__generic_1_grid_converter1_inverter_control_bus_join4__out[2];
double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out;                double _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta_g;
                double _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_en;
                double _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_ref;

                        double _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__out;

    double _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch7__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_sum9__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator6__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_qmult__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_qmult__out;
double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_qmult__out;
    double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_limit10__out;
    double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_limit11__out;
    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_limit1__out;
double _battery_ess__generic_1_battery_converter_control_p__out;    double _battery_ess__generic_1_battery_converter_control_voltvar1_limit1__out;
    double _battery_ess__generic_1_battery_converter_control_voltwatt1_limit1__out;
    double _grid1_limit2__out;
double _grid1_gain39__out;    	double _grid1_bus_join2__out[20];
double _grid1_pll1_pid_gain1__out;    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__value;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_int_coeff;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_int_coeff;

    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_addr;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_addr;
    X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__down_x;
    X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__down_y;
    X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__up_x;
    X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__up_y;

    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_00;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_01;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_10;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_11;

    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_0;
    double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_1;


        X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex;
        X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_rightIndex;
        X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_curAddr;
        double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_fraction;

        X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex;
        X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_rightIndex;
        X_Int32 _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_curAddr;
        double _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_fraction;

    double _pv_power_plant__generic_1_pv_converter_control_limit5__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit1__out;
double _pv_power_plant__generic_1_pv_converter_control_ramping2_gain1__out;double _pv_power_plant__generic_1_pv_converter_control_ramping3_gain1__out;    double _pv_power_plant__generic_1_pv_converter_control_relational_operator9__out;
    	double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join4__out[2];
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out;                double _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta_g;
                double _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_en;
                double _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_ref;

                        double _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__out;

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch7__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator6__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_qmult__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_qmult__out;
double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_qmult__out;
    double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_limit10__out;
    double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_limit11__out;
    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_limit1__out;
double _pv_power_plant__generic_1_pv_converter_control_p__out;    double _pv_power_plant__generic_1_pv_converter_control_voltvar1_limit1__out;
    double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_limit1__out;
    double _variable_load__generic_1_converter_control_limit1__out;
    double _variable_load__generic_1_converter_control_limit10__out;
double _variable_load__generic_1_converter_control_ramping_p_gain1__out;double _variable_load__generic_1_converter_control_ramping_q_gain1__out;    	double _variable_load__generic_1_grid_converter1_inverter_control_bus_join4__out[2];
double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out;                double _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta_g;
                double _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_en;
                double _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_ref;

                        double _variable_load__generic_1_grid_converter1_inverter_control_c_function4__out;

    double _variable_load__generic_1_grid_converter1_inverter_control_signal_switch7__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_sum9__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_logical_operator6__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_qmult__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_qmult__out;
double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_qmult__out;
    double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_limit10__out;
    double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_limit11__out;
double _variable_load__generic_1_converter_control_gain44__out;double _variable_load__generic_1_converter_control_gain45__out;    double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_sum2__out;
                double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__init_soh;

                        double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl;

    double _battery_ess__generic_1_battery_converter_control_relational_operator3__out;
    double _battery_ess__generic_1_battery_converter_control_relational_operator4__out;
double _battery_ess__generic_1_battery_converter_control_gain51__out;    double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_sum9__out;
double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product6__out;
double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product7__out;
    double _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch11__out;
    double _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch12__out;
    double _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch13__out;
    double _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch14__out;
    double _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch15__out;
    double _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch16__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator4__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator3__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch2__out[2];
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch12__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_sum1__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_sum11__out;
    	double _battery_ess__generic_1_grid_converter1_bus_join2__out[30];
double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_gain56__out;    	double _battery_ess__generic_1_battery_converter_control_bus_join6__out[10];
    double _battery_ess__generic_1_battery_converter_control_signal_switch10__out;
double _battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out;double _battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out;    double _grid1_vsp_sin1_limit2__out;
    double _grid1_vsp_sin2_limit2__out;
    double _grid1_vsp_sin3_limit2__out;
    double _grid1_vsp_sin1_limit1__out;
    double _grid1_vsp_sin2_limit1__out;
    double _grid1_vsp_sin3_limit1__out;
        double _grid_ui1_bus_split1__out;         double _grid_ui1_bus_split1__out1;         double _grid_ui1_bus_split1__out2;         double _grid_ui1_bus_split1__out3;         double _grid_ui1_bus_split1__out4;         double _grid_ui1_bus_split1__out5;         double _grid_ui1_bus_split1__out6;         double _grid_ui1_bus_split1__out7;         double _grid_ui1_bus_split1__out8;         double _grid_ui1_bus_split1__out9;         double _grid_ui1_bus_split1__out10;         double _grid_ui1_bus_split1__out11;         double _grid_ui1_bus_split1__out12;         double _grid_ui1_bus_split1__out13;         double _grid_ui1_bus_split1__out14;         double _grid_ui1_bus_split1__out15;         double _grid_ui1_bus_split1__out16;         double _grid_ui1_bus_split1__out17;         double _grid_ui1_bus_split1__out18;         double _grid_ui1_bus_split1__out19;     double _grid1_pll1_pid_sum5__out;
double _pv_power_plant__generic_1_pv_dc_link_sp1_scale__out;double _pv_power_plant__generic_1_pv_converter_control_gain35__out;double _pv_power_plant__generic_1_pv_converter_control_gain1__out;    double _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch11__out;
    double _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch12__out;
    double _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch13__out;
    double _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch14__out;
    double _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch15__out;
    double _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch16__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch2__out[2];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch12__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_sum1__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_sum11__out;
    	double _pv_power_plant__generic_1_grid_converter1_bus_join2__out[30];
double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_gain56__out;    double _pv_power_plant__generic_1_pv_converter_control_relational_operator10__out;
double _pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out;double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out;double _variable_load__generic_1_converter_control_gain34__out;double _variable_load__generic_1_converter_control_gain35__out;    double _variable_load__generic_1_grid_converter1_inverter_control_signal_switch2__out[2];
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_signal_switch12__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_sum1__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_sum11__out;
    	double _variable_load__generic_1_grid_converter1_bus_join2__out[30];
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__fg_in;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm;
                double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in;

                        double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask;

    double _variable_load__generic_1_converter_control_signal_switch3__out;
    double _variable_load__generic_1_converter_control_signal_switch4__out;
double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain3__out;double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain5__out;    double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_limit1__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch14__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch13__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator15__out;
    double _battery_ess__generic_1_battery_converter_control_pq_control_sum9__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out;         double _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out1;     double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_ki__out;        double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out;
     double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__value;        X_Int32 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr;
        double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction;

        double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out1;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out2;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out3;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out4;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out5;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out6;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out7;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out8;         double _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out9;     double _battery_ess__generic_1_battery_converter_control_relational_operator5__out;
    double _battery_ess__generic_1_battery_converter_control_relational_operator6__out;
     double _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__value;        X_Int32 _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__rightIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__curAddr;
        double _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__fraction;

     double _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__value;        X_Int32 _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__rightIndex;
        X_Int32 _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__curAddr;
        double _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__fraction;

    X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[1] = {0};
        double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__gain;
        double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__period;
        double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__phase_pu;
        double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__offset;
        X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__offset_uint;
        X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_lo;
        X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_hi;
        double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_real;
    double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__shift;
    X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sg_update_value;
    double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn;
    double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn_1;
    double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn;
    double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn_1;
    double _grid1_vsp_sin1_tdf_sg_ctrl_sine1__k;
    X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[1] = {1};
        double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__gain;
        double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__period;
        double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__phase_pu;
        double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__offset;
        X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__offset_uint;
        X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_lo;
        X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_hi;
        double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_real;
    double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__shift;
    X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sg_update_value;
    double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn;
    double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn_1;
    double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn;
    double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn_1;
    double _grid1_vsp_sin2_tdf_sg_ctrl_sine1__k;
    X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[1] = {2};
        double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__gain;
        double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__period;
        double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__phase_pu;
        double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__offset;
        X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__offset_uint;
        X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_lo;
        X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_hi;
        double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_real;
    double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__shift;
    X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sg_update_value;
    double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn;
    double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn_1;
    double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn;
    double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn_1;
    double _grid1_vsp_sin3_tdf_sg_ctrl_sine1__k;
        float _grid_ui1_fmeas_hz__in;
        float _grid_ui1_pmeas_kw__in;
        float _grid_ui1_qmeas_kvar__in;
    	double _grid_ui1_reserved_ins__out[13];
    double _grid1_pll1_pid_limit1__out;
    	double _pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[10];
    double _pv_power_plant__generic_1_pv_converter_control_signal_switch14__out;
    double _pv_power_plant__generic_1_pv_converter_control_signal_switch13__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out;         double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out1;     double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_ki__out;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out;
     double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__value;        X_Int32 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr;
        double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction;

    double _pv_power_plant__generic_1_pv_converter_control_signal_switch16__out;
     double _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__value;        X_Int32 _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__rightIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__curAddr;
        double _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__fraction;

     double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__value;        X_Int32 _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__rightIndex;
        X_Int32 _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__curAddr;
        double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__fraction;

    	double _variable_load__generic_1_converter_control_bus_join2__out[40];
        double _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out;         double _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out1;     double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_ki__out;        double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out;
    double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_logical_operator3__out;
                double _variable_load__generic_1_converter_control_pq_control1_c_function1__Pmax;
                double _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref;
                double _variable_load__generic_1_converter_control_pq_control1_c_function1__Qmax;
                double _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref;

                        double _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_lim;
                    double _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_lim;

        double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__out;
double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product5__out;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__fg_in;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm;
                double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in;

                        double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask;

        double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__out;
        double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__out;
double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_ki__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_kp__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_ki__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_kp__out;    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out;

    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[1];
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[1];

                double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__in;

                        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__out;

    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out;

    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[1];
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[1];

                double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__in;

                        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__out;

    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum5__out;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Pref_reg;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Qref_reg;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__id_contrib;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__iq_contrib;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_in;
                double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin;

                        double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out;
                    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out;
                    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out;
                    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out;
                    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out;
                    double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__timeout_out;

    	double _battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[9];
        double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__out;
        double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_coeff[2] = {0.04761904761904767, 0.04761904761904756};
        double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__a_coeff[2] = {1.0, -0.9047619047619047};
        double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__a_sum;
        double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_sum;
        double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__delay_line_in;                double _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Enable_bat;
                double _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Enable_voltvar;
                double _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Grid_forming;
                double _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Qref;
                double _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Qsup;

                        double _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out;

                double _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Enable_battery;
                double _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Enable_voltwatt;
                double _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Grid_forming;
                double _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Pref;
                double _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Psup;

                        double _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out;

    double _grid1_pll1_pid_sum6__out;
        double _grid1_pll1_rate_limiter1__out;

    double _grid1_pll1_rate_limiter1__rising_rate_lim[1];
    double _grid1_pll1_rate_limiter1__falling_rate_lim[1];

                double _grid1_pll1_integrator__in;

                        double _grid1_pll1_integrator__out;

        double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out1;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out2;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out3;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out4;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out5;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out6;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out7;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out8;         double _pv_power_plant__generic_1_pv_converter_control_bus_split4__out9;                 double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__fg_in;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm;
                double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in;

                        double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask;

double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_ki__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_kp__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_ki__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_kp__out;    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out;

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[1];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[1];

                double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__in;

                        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__out;

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out;

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[1];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[1];

                double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__in;

                        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__out;

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum5__out;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Pref_reg;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Qref_reg;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__id_contrib;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__iq_contrib;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_in;
                double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin;

                        double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out;
                    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out;
                    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out;
                    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out;
                    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out;
                    double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__timeout_out;

double _pv_power_plant__generic_1_pv_converter_control_ramping1_gain1__out;                double _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Enable_bat;
                double _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Enable_voltvar;
                double _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Grid_forming;
                double _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Qref;
                double _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Qsup;

                        double _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out;

                double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Enable_battery;
                double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Enable_voltwatt;
                double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Grid_forming;
                double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Pref;
                double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Psup;

                        double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out;

        double _variable_load__generic__ui1_der__generic__output_split_bus_split__out;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out1;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out2;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out3;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out4;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out5;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out6;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out7;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out8;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out9;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out10;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out11;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out12;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out13;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out14;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out15;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out16;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out17;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out18;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out19;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out20;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out21;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out22;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out23;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out24;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out25;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out26;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out27;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out28;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out29;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out30;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out31;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out32;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out33;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out34;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out35;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out36;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out37;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out38;         double _variable_load__generic__ui1_der__generic__output_split_bus_split__out39; double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_ki__out;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_kp__out;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_ki__out;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_kp__out;    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out;

    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[1];
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[1];

                double _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__in;

                        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__out;

    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out;

    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[1];
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[1];

                double _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__in;

                        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__out;

    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum5__out;
    double _variable_load__generic_1_converter_control_pq_control1_sum1__out;
    double _variable_load__generic_1_converter_control_pq_control1_sum2__out;
double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain2__out;     double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__value;            double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data, _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_0, _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_1;
            X_Int32  _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_final, _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_0, _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_1;
            double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim, _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim_conv, _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim_diff;

double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_gain8__out;    double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_logical_operator3__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out;
double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out;double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out;    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch11__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch12__out;
double _grid1_pll1_pid_kb__out;    	double _pv_power_plant__generic_1_pv_converter_control_bus_join4__out[9];
double _pv_power_plant__generic_1_pv_converter_control_gain51__out;    double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_logical_operator3__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out;    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
    double _pv_power_plant__generic_1_pv_converter_control_signal_switch2__out;
    double _pv_power_plant__generic_1_pv_converter_control_signal_switch15__out;
        float _variable_load__generic__ui1_fmeas_hz__in;
        float _variable_load__generic__ui1_pmeas_kw__in;
        float _variable_load__generic__ui1_qmeas_kvar__in;
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out;
double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out;double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out;    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
    	double _variable_load__generic_1_converter_control_pq_control1_bus_join4__out[2];
    double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_sum1__out;
    double _battery_ess__generic_1_battery_dc_link_sp1_limit1__out;
double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product4__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out;
    	double _battery_ess__generic_1_grid_converter1_inverter_control_bus_join6__out[2];
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum6__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch15__out;
    double _grid1_pll1_pid_sum7__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out;
    	double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join6__out[2];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum6__out;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out;
    double _pv_power_plant__generic_1_pv_converter_control_signal_switch3__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out;
    	double _variable_load__generic_1_grid_converter1_inverter_control_bus_join6__out[2];
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum6__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out;
    double _variable_load__generic_1_converter_control_pq_control1_signal_switch2__out[2];
double _battery_ess__generic_1_battery_dc_link_sp1_product1__out;
    double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_sum10__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out;
double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_kb__out;    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out;
                double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pmax;
                double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref;
                double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qmax;
                double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref;

                        double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_lim;
                    double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_lim;

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_kb__out;    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out;
    double _pv_power_plant__generic_1_pv_converter_control_limit24__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out;
double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_kb__out;    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out;
        double _variable_load__generic_1_converter_control_pq_control1_bus_split2__out;         double _variable_load__generic_1_converter_control_pq_control1_bus_split2__out1;     	double _battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[10];
double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain1__out;    double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_limit2__out;
double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_kb__out;    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum7__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;
    double _battery_ess__generic_1_battery_converter_control_pq_control_sum1__out;
    double _battery_ess__generic_1_battery_converter_control_pq_control_sum2__out;
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_kb__out;    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum7__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;
    double _pv_power_plant__generic_1_pv_converter_control_relational_operator1__out;
double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_kb__out;    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum7__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;
double _variable_load__generic_1_converter_control_pq_control1_pi_d_ki__out;double _variable_load__generic_1_converter_control_pq_control1_pi_d_kp__out;double _variable_load__generic_1_converter_control_pq_control1_pi_d1_ki__out;double _variable_load__generic_1_converter_control_pq_control1_pi_d1_kp__out;        double _battery_ess__generic_1_battery_converter_control_bus_split4__out;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out1;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out2;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out3;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out4;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out5;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out6;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out7;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out8;         double _battery_ess__generic_1_battery_converter_control_bus_split4__out9; double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_product1__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch1__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out;
    	double _battery_ess__generic_1_grid_converter1_inverter_control_bus_join3__out[2];
    double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out;
    	double _battery_ess__generic_1_battery_converter_control_pq_control_bus_join4__out[2];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out;
    	double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join3__out[2];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out;
    	double _pv_power_plant__generic_1_pv_converter_control_bus_join2__out[40];
    double _pv_power_plant__generic_1_pv_converter_control_signal_switch1__out;
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out;
    	double _variable_load__generic_1_grid_converter1_inverter_control_bus_join3__out[2];
    double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out;
    double _variable_load__generic_1_converter_control_pq_control1_pi_d_sum5__out;
    double _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum5__out;
    	double _battery_ess__generic_1_battery_converter_control_bus_join5__out[5];
    double _battery_ess__generic_1_battery_converter_control_relational_operator1__out;
    double _battery_ess__generic_1_battery_converter_control_relational_operator2__out;
    double _battery_ess__generic_1_battery_converter_control_relational_operator7__out;
    double _battery_ess__generic_1_battery_converter_control_relational_operator8__out;
double _battery_ess__generic_1_battery_converter_control_gain52__out;    double _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch3__out[2];
double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_kb__out;    double _battery_ess__generic_1_battery_converter_control_pq_control_signal_switch2__out[2];
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch3__out[2];
double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_kb__out;        double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out1;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out2;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out3;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out4;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out5;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out6;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out7;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out8;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out9;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out10;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out11;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out12;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out13;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out14;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out15;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out16;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out17;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out18;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out19;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out20;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out21;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out22;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out23;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out24;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out25;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out26;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out27;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out28;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out29;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out30;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out31;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out32;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out33;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out34;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out35;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out36;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out37;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out38;         double _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out39;                 double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pmax;
                double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref;
                double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qmax;
                double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref;

                        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_lim;
                    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_lim;

    double _variable_load__generic_1_grid_converter1_inverter_control_signal_switch3__out[2];
double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_kb__out;    double _variable_load__generic_1_converter_control_pq_control1_pi_d_limit1__out;
    double _variable_load__generic_1_converter_control_pq_control1_pi_d1_limit1__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator10__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator5__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator9__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator11__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator12__out;
        double _battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out;         double _battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out1;     double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out;
        double _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out;         double _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out1;         double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out;         double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out1;     double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out;
        float _pv_power_plant__generic__ui1_fmeas_hz__in;
        float _pv_power_plant__generic__ui1_pmeas_kw__in;
        float _pv_power_plant__generic__ui1_qmeas_kvar__in;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum1__out;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum2__out;
        double _variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out;         double _variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out1;     double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out;
    double _variable_load__generic_1_converter_control_pq_control1_pi_d_sum6__out;
    	double _variable_load__generic_1_converter_control_pq_control1_bus_join3__out[2];
    double _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum6__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch9__out;
    double _battery_ess__generic_1_battery_converter_control_logical_operator13__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2;
double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_ki__out;double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_kp__out;double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_ki__out;double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_kp__out;    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2;
    	double _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join4__out[2];
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1;
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2;
double _variable_load__generic_1_converter_control_pq_control1_pi_d_kb__out;    double _variable_load__generic_1_converter_control_pq_control1_signal_switch6__out[2];
double _variable_load__generic_1_converter_control_pq_control1_pi_d1_kb__out;    double _battery_ess__generic_1_battery_converter_control_signal_switch8__out;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B;
    double _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C;
    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum5__out;
    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum5__out;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B;
    double _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch2__out[2];
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A;
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B;
    double _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C;
    double _variable_load__generic_1_converter_control_pq_control1_pi_d_sum7__out;
        double _variable_load__generic_1_converter_control_pq_control1_bus_split3__out;         double _variable_load__generic_1_converter_control_pq_control1_bus_split3__out1;     double _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum7__out;
    double _battery_ess__generic_1_battery_converter_control_signal_switch3__out;
    	double _battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[3];
    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_limit1__out;
    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_limit1__out;
    	double _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[3];
        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out;         double _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out1;     	double _variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[3];
    	double _variable_load__generic_1_converter_control_bus_join1__out[25];
    double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_sum11__out;
double _battery_ess__generic_1_battery_converter_control_gain50__out;double _battery_ess__generic_1_grid_converter1_gain28__out[3];    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum6__out;
    	double _battery_ess__generic_1_battery_converter_control_pq_control_bus_join3__out[2];
    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum6__out;
double _pv_power_plant__generic_1_grid_converter1_gain28__out[3];double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_ki__out;double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_kp__out;double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_ki__out;double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_kp__out;double _variable_load__generic_1_grid_converter1_gain28__out[3];    double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_limit2__out;
        double _battery_ess__generic_1_grid_converter1_bus_split2__out;         double _battery_ess__generic_1_grid_converter1_bus_split2__out1;         double _battery_ess__generic_1_grid_converter1_bus_split2__out2; double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_kb__out;    double _battery_ess__generic_1_battery_converter_control_pq_control_signal_switch6__out[2];
double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_kb__out;        double _pv_power_plant__generic_1_grid_converter1_bus_split2__out;         double _pv_power_plant__generic_1_grid_converter1_bus_split2__out1;         double _pv_power_plant__generic_1_grid_converter1_bus_split2__out2;     double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum5__out;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum5__out;
        double _variable_load__generic_1_grid_converter1_bus_split2__out;         double _variable_load__generic_1_grid_converter1_bus_split2__out1;         double _variable_load__generic_1_grid_converter1_bus_split2__out2; double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product6__out;
    double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum7__out;
        double _battery_ess__generic_1_battery_converter_control_pq_control_bus_split3__out;         double _battery_ess__generic_1_battery_converter_control_pq_control_bus_split3__out1;     double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum7__out;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_limit1__out;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_limit1__out;
double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_gain6__out;    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum6__out;
    	double _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join3__out[2];
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum6__out;
double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product3__out;
double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_kb__out;    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch6__out[2];
double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_kb__out;    double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_sum5__out;
    double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum7__out;
        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split3__out;         double _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split3__out1;     double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum7__out;
    double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_limit3__out;
    	double _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[25];
    double _battery_ess__generic_1_battery_converter_control_signal_switch2__out;
    	double _battery_ess__generic_1_battery_converter_control_bus_join1__out[25];
    	double _battery_ess__generic_1_battery_converter_control_bus_join2__out[50];
        double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out1;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out2;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out3;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out4;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out5;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out6;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out7;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out8;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out9;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out10;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out11;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out12;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out13;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out14;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out15;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out16;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out17;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out18;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out19;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out20;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out21;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out22;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out23;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out24;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out25;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out26;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out27;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out28;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out29;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out30;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out31;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out32;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out33;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out34;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out35;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out36;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out37;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out38;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out39;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out40;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out41;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out42;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out43;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out44;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out45;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out46;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out47;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out48;         double _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out49;         float _battery_ess__generic__ui1_fmeas_hz__in;
        float _battery_ess__generic__ui1_pmeas_kw__in;
        float _battery_ess__generic__ui1_qmeas_kvar__in;
//@cmp.var.end

//@cmp.svar.start
// state variables
            X_Int32 _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state;

            double _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up;

            double _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num;


    

        double _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;
        double _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in;            double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[2];
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state;
      double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in;            double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[2];
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state;
      double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in;        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;
        double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in;      double _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__state;
double _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[25];

    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref;

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in;

    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref;

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in;

    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref;
    double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref;

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in;
      double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state;
      double _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state;
      double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__state;
            X_Int32 _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state;

            double _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up;


    

            double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old;

            double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a;

            double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__b;

            double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i;

            double _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref;


    

            double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old;

            double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a;

            double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__b;

            double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i;

            double _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref;


    

            double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old;

            double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a;

            double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__b;

            double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i;

            double _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref;


    

            double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old;

            double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a;

            double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__b;

            double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i;

            double _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref;


    

double _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[30];
      double _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__state;
      double _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__state;
            double _grid1_pll1_lpf_lpf__states[2];
        double _grid1_pll1_pid_integrator1__state;
        double _grid1_pll1_pid_integrator2__state;
      double _grid1_pll1_unit_delay1__state;
        double _grid1_pll1_abc_to_dq_lpf_d__filtered_value;
        double _grid1_pll1_abc_to_dq_lpf_d__previous_in;        double _grid1_pll1_abc_to_dq_lpf_q__filtered_value;
        double _grid1_pll1_abc_to_dq_lpf_q__previous_in;            X_Int32 _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state;

            double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up;

            double _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num;


    

        double _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in;            double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[2];
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state;
      double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in;            double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[2];
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state;
      double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in;        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in;      double _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__state;
double _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[25];

    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref;

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in;

    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref;

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in;

    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref;
    double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref;

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in;
      double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state;
      double _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state;
      double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__state;
            X_Int32 _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state;

            double _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up;


    

            double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old;

            double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a;

            double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__b;

            double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i;

            double _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref;


    

            double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old;

            double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a;

            double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__b;

            double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i;

            double _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref;


    

            double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old;

            double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a;

            double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__b;

            double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i;

            double _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref;


    

double _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[30];
      double _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__state;
      double _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__state;
            X_Int32 _variable_load__generic_1_grid_converter1_fault_state_machine__current_state;

            double _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up;

            double _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num;


    

        double _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;
        double _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in;            double _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[2];
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state;
      double _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in;        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in;            double _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[2];
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state;
      double _variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in;        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;
        double _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in;      double _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__state;
double _variable_load__generic_1_grid_converter1_rate_transition17_output__state[25];

    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref;

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in;
        X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in;

    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref;

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in;
        X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in;

    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref;
    double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref;

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in;
        X_UnInt32 _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in;
      double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state;
      double _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state;
            X_Int32 _variable_load__generic_1_converter_control_main_state_machine__current_state;

            double _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up;


    

            double _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old;

            double _variable_load__generic_1_converter_control_ramping_p_ramping__a;

            double _variable_load__generic_1_converter_control_ramping_p_ramping__b;

            double _variable_load__generic_1_converter_control_ramping_p_ramping__i;

            double _variable_load__generic_1_converter_control_ramping_p_ramping__pref;


    

            double _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old;

            double _variable_load__generic_1_converter_control_ramping_q_ramping__a;

            double _variable_load__generic_1_converter_control_ramping_q_ramping__b;

            double _variable_load__generic_1_converter_control_ramping_q_ramping__i;

            double _variable_load__generic_1_converter_control_ramping_q_ramping__pref;


    

double _variable_load__generic_1_converter_control_rate_transition15_output__state[30];
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__period_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction;
            double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state;        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__period_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction;
            double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state;        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__period_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction;
            double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state;
    


    

        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__period_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction;
            double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state;        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__period_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction;
            double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state;    double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1;     double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1;     double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q;     double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q;     double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0;     double _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0;         double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__period_cnt;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction;
            double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value;
        double _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state;
    

    double _grid1_power_meter1__filter_1_output_k_minus_1;     double _grid1_power_meter1__filter_1_input_k_minus_1;     double _grid1_power_meter1__filter_1_output_k_minus_1Q;     double _grid1_power_meter1__filter_1_input_k_minus_1Q;     double _grid1_power_meter1__filter_1_output_k_minus_1P0;     double _grid1_power_meter1__filter_1_input_k_minus_1P0;         double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__period_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction;
            double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state;        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__period_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction;
            double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state;        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__period_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction;
            double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state;
    


    

        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__period_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction;
            double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state;        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__period_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction;
            double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state;    double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1;     double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1;     double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q;     double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q;     double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0;     double _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0;         double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__period_cnt;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction;
            double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value;
        double _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state;        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__period_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction;
            double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state;        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__period_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction;
            double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state;        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__period_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction;
            double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state;
    


    

        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__period_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction;
            double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state;        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__period_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction;
            double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state;    double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1;     double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1;     double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q;     double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q;     double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0;     double _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0;         double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__period_cnt;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction;
            double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value;
        double _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state;            double _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__states[1];
            double _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__states[1];
        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__state;double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state;
        X_UnInt32 _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__load_ic;
        double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__state;double _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state;
        X_UnInt32 _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__load_ic;
        double _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__state;double _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state;
        X_UnInt32 _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__load_ic;
        double _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__state;double _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state;
        X_UnInt32 _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__load_ic;

    


    

            double _variable_load__generic_1_converter_control_v_f_dependencies__k_V;

            double _variable_load__generic_1_converter_control_v_f_dependencies__k_f;

            double _variable_load__generic_1_converter_control_v_f_dependencies__delta_V;

            double _variable_load__generic_1_converter_control_v_f_dependencies__delta_f;


    


    

            double _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta;


    

            double _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta;


    

            double _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta;


    

            X_Int32 _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__i;

            double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl_state;

    

        double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic;
        double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state;
        X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic;

    

        double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic;
        double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state;
        X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic;
            double _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_var;

            double _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_var;

            double _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Pref;

            double _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Qref;


    

        double _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state;
        X_UnInt32 _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__load_ic;

    

        double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__state;double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state;
        X_UnInt32 _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__load_ic;
        double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__state;double _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state;
        X_UnInt32 _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__load_ic;
    double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state;
    X_Int32 _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step;
            double _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state;


    

    double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state;
    X_Int32 _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step;
            double _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state;


    

            double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze;

            double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected;

            double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze;

            X_Int32 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state;

            double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected;

            double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution;

            double _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution;


    

            double _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__states[1];

    


    

    double _grid1_pll1_rate_limiter1__state;
    X_Int32 _grid1_pll1_rate_limiter1__first_step;
            double _grid1_pll1_integrator__state;


    


    

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state;
    X_Int32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step;
            double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state;


    

    double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state;
    X_Int32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step;
            double _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state;


    

            double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze;

            double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected;

            double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze;

            X_Int32 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state;

            double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected;

            double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution;

            double _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution;


    


    


    

    double _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state;
    X_Int32 _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step;
            double _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state;


    

    double _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state;
    X_Int32 _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step;
            double _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state;


    

        double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state;double _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state;
        X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic;
        double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state;double _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state;
        X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic;
        double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state;double _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state;
        X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic;
            double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_var;

            double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_var;

            double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Pref;

            double _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Qref;


    

            double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_var;

            double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_var;

            double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Pref;

            double _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Qref;


    

//@cmp.svar.end

//
// Tunable parameters
//
static struct Tunable_params {
} __attribute__((__packed__)) tunable_params;

void *tunable_params_dev0_cpu0_ptr = &tunable_params;

// Dll function pointers
#if defined(_WIN64)
#else
    // Define handles for loading dlls
#endif







              
// generated using template: virtual_hil/custom_functions.template---------------------------------
void ReInit_user_sp_cpu0_dev0(){

#if DEBUG_MODE
    printf("\n\rReInitTimer");
#endif
    //@cmp.init.block.start
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
    _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ;
}

    
    
    
    
    
    
    
    
    
    
            

            _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value = 0.0 / (1 - 6.283185307179586 * 50.0 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in = 0x0;

                X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i;
          

            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i < 2; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i++) {
                _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] = 0;
            }

             

            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state = 314.1592653589793;

             

            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state = 0.0;

            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state = 0.0;

            

            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in = 0x0;

                X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i;
          

            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i < 2; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i++) {
                _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] = 0;
            }

             

            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state = 314.1592653589793;

             

            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state = 0.0;

            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state = 0.0;

            

            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in = 0x0;

            _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__state = 0.0;

    
    _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[0] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[1] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[2] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[3] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[4] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[5] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[6] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[7] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[8] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[9] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[10] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[11] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[12] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[13] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[14] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[15] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[16] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[17] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[18] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[19] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[20] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[21] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[22] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[23] =  0.0;_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[24] =  0.0;
    
    
             

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 0x0;

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref = 0x0;


    
    
             

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 0x0;

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref = 0x0;


    
    
             

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 0x0;

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref = 0x0;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref = 0x0;


    
    
    
    
    
    
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state = 0.0;

            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state = 0.0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__state = 0.0;

        {
    _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 3 ; _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up = 0.0 ;
}

    
    
    
    
        {
    _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref = 0 ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old = 0 ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__b = 0 ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i = 0 ;
}

        {
    _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref = 0 ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old = 0 ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__b = 0 ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i = 0 ;
}

        {
    _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref = 0 ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old = 0 ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__b = 0 ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i = 0 ;
}

        {
    _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref = 0 ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old = 0 ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__b = 0 ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i = 0 ;
}

    _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[0] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[1] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[2] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[3] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[4] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[5] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[6] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[7] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[8] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[9] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[10] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[11] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[12] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[13] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[14] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[15] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[16] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[17] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[18] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[19] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[20] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[21] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[22] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[23] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[24] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[25] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[26] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[27] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[28] =  0.0;_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[29] =  0.0;
    
    
    
    
    
    
            _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__state = 0.0;

            _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__state = 0.0;

    
    
    
    
    
    
    
    
    
    
    
    
                X_UnInt32 _grid1_pll1_lpf_lpf__i;
          

            for (_grid1_pll1_lpf_lpf__i = 0; _grid1_pll1_lpf_lpf__i < 2; _grid1_pll1_lpf_lpf__i++) {
                _grid1_pll1_lpf_lpf__states[_grid1_pll1_lpf_lpf__i] = 0;
            }

             

            _grid1_pll1_pid_integrator1__state = 314.1592653589793;

             

            _grid1_pll1_pid_integrator2__state = 0.0;

            _grid1_pll1_unit_delay1__state = 0.0;

            

            _grid1_pll1_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _grid1_pll1_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _grid1_pll1_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _grid1_pll1_abc_to_dq_lpf_q__previous_in = 0x0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
    _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ;
}

    
    
    
    
    
    
    
    
    
    
            

            _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value = 0.0 / (1 - 6.283185307179586 * 50.0 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in = 0x0;

                X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i;
          

            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i < 2; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i++) {
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] = 0;
            }

             

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state = 314.1592653589793;

             

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state = 0.0;

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state = 0.0;

            

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in = 0x0;

                X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i;
          

            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i < 2; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i++) {
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] = 0;
            }

             

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state = 314.1592653589793;

             

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state = 0.0;

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state = 0.0;

            

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in = 0x0;

            _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__state = 0.0;

    
    _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[0] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[1] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[2] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[3] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[4] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[5] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[6] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[7] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[8] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[9] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[10] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[11] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[12] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[13] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[14] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[15] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[16] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[17] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[18] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[19] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[20] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[21] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[22] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[23] =  0.0;_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[24] =  0.0;
    
    
             

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 0x0;

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref = 0x0;


    
    
             

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 0x0;

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref = 0x0;


    
    
             

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 0x0;

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref = 0x0;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref = 0x0;


    
    
    
    
    
    
    
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state = 0.0;

            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state = 0.0;

    
    
    
    
    
    
    
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__state = 0.0;

        {
    _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 3 ; _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up = 0.0 ;
}

    
    
    
    
        {
    _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__b = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i = 0 ;
}

        {
    _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__b = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i = 0 ;
}

        {
    _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__b = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i = 0 ;
}

    _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[0] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[1] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[2] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[3] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[4] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[5] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[6] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[7] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[8] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[9] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[10] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[11] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[12] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[13] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[14] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[15] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[16] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[17] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[18] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[19] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[20] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[21] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[22] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[23] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[24] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[25] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[26] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[27] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[28] =  0.0;_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[29] =  0.0;
    
    
    
    
    
    
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__state = 0.0;

            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__state = 0.0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
    _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ;
}

    
    
    
    
    
    
    
    
    
    
            

            _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value = 0.0 / (1 - 6.283185307179586 * 50.0 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in = 0x0;

                X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i;
          

            for (_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 0; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i < 2; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i++) {
                _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] = 0;
            }

             

            _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state = 314.1592653589793;

             

            _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state = 0.0;

            _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state = 0.0;

            

            _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in = 0x0;

                X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i;
          

            for (_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 0; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i < 2; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i++) {
                _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] = 0;
            }

             

            _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state = 314.1592653589793;

             

            _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state = 0.0;

            _variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state = 0.0;

            

            _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in = 0x0;

            

            _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value = 0.0 / (1 - 1.0 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in = 0x0;

            _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__state = 0.0;

    
    _variable_load__generic_1_grid_converter1_rate_transition17_output__state[0] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[1] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[2] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[3] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[4] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[5] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[6] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[7] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[8] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[9] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[10] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[11] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[12] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[13] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[14] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[15] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[16] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[17] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[18] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[19] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[20] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[21] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[22] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[23] =  0.0;_variable_load__generic_1_grid_converter1_rate_transition17_output__state[24] =  0.0;
    
    
             

        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 0x0;

    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref = 0x0;


    
    
             

        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 0x0;

    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref = 0x0;


    
    
             

        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 0x0;

    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref = 0x0;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref = 0x0;


    
    
    
    
    
    
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state = 0.0;

            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state = 0.0;

    
    
    
    
    
    
    
    
    
        {
    _variable_load__generic_1_converter_control_main_state_machine__current_state = 3 ; _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up = 0.0 ;
}

    
    
    
    
        {
    _variable_load__generic_1_converter_control_ramping_p_ramping__pref = 0 ; _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old = 0 ; _variable_load__generic_1_converter_control_ramping_p_ramping__a = 0 ; _variable_load__generic_1_converter_control_ramping_p_ramping__b = 0 ; _variable_load__generic_1_converter_control_ramping_p_ramping__i = 0 ;
}

        {
    _variable_load__generic_1_converter_control_ramping_q_ramping__pref = 0 ; _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old = 0 ; _variable_load__generic_1_converter_control_ramping_q_ramping__a = 0 ; _variable_load__generic_1_converter_control_ramping_q_ramping__b = 0 ; _variable_load__generic_1_converter_control_ramping_q_ramping__i = 0 ;
}

    _variable_load__generic_1_converter_control_rate_transition15_output__state[0] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[1] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[2] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[3] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[4] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[5] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[6] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[7] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[8] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[9] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[10] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[11] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[12] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[13] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[14] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[15] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[16] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[17] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[18] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[19] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[20] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[21] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[22] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[23] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[24] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[25] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[26] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[27] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[28] =  0.0;_variable_load__generic_1_converter_control_rate_transition15_output__state[29] =  0.0;
    
    
    
    
                    

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__period_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0x0;

                    

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__period_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0x0;

    
                    

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__period_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0x0;

    
        {
}

    
        {
}

    
    
    
    
                    

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__period_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0x0;

                    

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__period_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0x0;

    
    
        _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1 = 0.0;     _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1 = 0.0;     _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q = 0.0;     _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q = 0.0;     _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0 = 0.0;     _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0 = 0.0; 
                    

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__period_cnt = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value = 0x0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = 0x0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0x0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
}

    
    
        _grid1_power_meter1__filter_1_output_k_minus_1 = 0.0;     _grid1_power_meter1__filter_1_input_k_minus_1 = 0.0;     _grid1_power_meter1__filter_1_output_k_minus_1Q = 0.0;     _grid1_power_meter1__filter_1_input_k_minus_1Q = 0.0;     _grid1_power_meter1__filter_1_output_k_minus_1P0 = 0.0;     _grid1_power_meter1__filter_1_input_k_minus_1P0 = 0.0; 
    
    
    
                    

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__period_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0x0;

                    

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__period_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0x0;

    
                    

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__period_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0x0;

    
        {
}

    
        {
}

    
    
    
    
                    

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__period_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0x0;

                    

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__period_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0x0;

    
    
        _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1 = 0.0;     _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1 = 0.0;     _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q = 0.0;     _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q = 0.0;     _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0 = 0.0;     _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0 = 0.0; 
                    

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__period_cnt = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value = 0x0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = 0x0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0x0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                    

        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__period_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0x0;

                    

        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__period_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0x0;

    
                    

        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__period_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0x0;

    
        {
}

    
        {
}

    
    
    
    
                    

        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__period_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0x0;

                    

        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__period_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0x0;

    
    
        _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1 = 0.0;     _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1 = 0.0;     _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q = 0.0;     _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q = 0.0;     _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0 = 0.0;     _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0 = 0.0; 
                    

        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__period_cnt = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value = 0x0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = 0x0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0x0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                X_UnInt32 _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i;
          

            for (_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i = 0; _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i < 1; _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i++) {
                _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__states[_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i] = 0;
            }

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                X_UnInt32 _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i;
          

            for (_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i = 0; _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i < 1; _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i++) {
                _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__states[_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i] = 0;
            }

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__load_ic = 1;

            _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state = 2;

             

        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__load_ic = 1;

            _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__load_ic = 1;

            _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state = 2;

             

        _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__load_ic = 1;

            _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
    _variable_load__generic_1_converter_control_v_f_dependencies__k_V = _variable_load__generic_1_converter_control_v_f_dependencies__k_f = 1 ; _variable_load__generic_1_converter_control_v_f_dependencies__delta_V = _variable_load__generic_1_converter_control_v_f_dependencies__delta_f = 0 ;
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
}

    
    
    
    
    
    
        {
    _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta = 0 ;
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta = 0 ;
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
    _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta = 0 ;
}

    
    
    
    
    
    
    
    
    
    
    
        {
    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__i = 0 ; _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl_state = 0 ;
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic = 1;

            _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic = 1;

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic = 1;

            _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 2;

    
    
        {
}

    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic = 1;

            _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
    // write initial SG parameters

    X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i;
    X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__j;
    X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__enable_wg_update_uint;

        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__enable_wg_update_uint = 0;

    for (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i=0; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i<1; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i++){
        HIL_OutFloat(0x400200 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], 0.0f);  // set gain to 0 (initial value)
        HIL_OutInt32(0x400180 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], 0);      // set offset to 0 (initial value)
        HIL_OutInt32(0x400000 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], 1);
        HIL_OutInt32(0x400280 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], 0);
        HIL_OutFloat(0x400100 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], 2.0f);
        HIL_OutInt32(0x400300 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin1_tdf_sg_ctrl_sine1__enable_wg_update_uint);   // enable wave update
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sg_update_value += 1<<_grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i];
    }
    // calculate and write waveform data
    _grid1_vsp_sin1_tdf_sg_ctrl_sine1__k = 2.0f * M_PI / _grid1_vsp_sin1_tdf_sg_ctrl_sine1__no_of_points;
    // oscillator based sine implementation
    // oscillator init
    _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn_1 = sin(0.0f);
    _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn_1 = cos(0.0f);
    // oscillator
    for (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i = 0; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i < _grid1_vsp_sin1_tdf_sg_ctrl_sine1__no_of_points; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i++){
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn = _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn_1 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__k*_grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn_1;
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn = _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn_1 - _grid1_vsp_sin1_tdf_sg_ctrl_sine1__k*_grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn;
        // write the same data to all the channels
        for (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__j=0; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__j<1; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__j++){
            HIL_OutFloat(0x600000 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__j]*0x800 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i, (float) _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn_1);
        }
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn_1 = _grid1_vsp_sin1_tdf_sg_ctrl_sine1__xn;
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn_1 = _grid1_vsp_sin1_tdf_sg_ctrl_sine1__yn;
    }
    HIL_OutInt32(0x400080, _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sg_update_value);  // update both parameters and waveforms on all channels

    
    // write initial SG parameters

    X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i;
    X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__j;
    X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__enable_wg_update_uint;

        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__enable_wg_update_uint = 0;

    for (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i=0; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i<1; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i++){
        HIL_OutFloat(0x400200 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], 0.0f);  // set gain to 0 (initial value)
        HIL_OutInt32(0x400180 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], 0);      // set offset to 0 (initial value)
        HIL_OutInt32(0x400000 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], 1);
        HIL_OutInt32(0x400280 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], 0);
        HIL_OutFloat(0x400100 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], 2.0f);
        HIL_OutInt32(0x400300 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin2_tdf_sg_ctrl_sine1__enable_wg_update_uint);   // enable wave update
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sg_update_value += 1<<_grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i];
    }
    // calculate and write waveform data
    _grid1_vsp_sin2_tdf_sg_ctrl_sine1__k = 2.0f * M_PI / _grid1_vsp_sin2_tdf_sg_ctrl_sine1__no_of_points;
    // oscillator based sine implementation
    // oscillator init
    _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn_1 = sin(0.0f);
    _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn_1 = cos(0.0f);
    // oscillator
    for (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i = 0; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i < _grid1_vsp_sin2_tdf_sg_ctrl_sine1__no_of_points; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i++){
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn = _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn_1 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__k*_grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn_1;
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn = _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn_1 - _grid1_vsp_sin2_tdf_sg_ctrl_sine1__k*_grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn;
        // write the same data to all the channels
        for (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__j=0; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__j<1; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__j++){
            HIL_OutFloat(0x600000 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__j]*0x800 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i, (float) _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn_1);
        }
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn_1 = _grid1_vsp_sin2_tdf_sg_ctrl_sine1__xn;
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn_1 = _grid1_vsp_sin2_tdf_sg_ctrl_sine1__yn;
    }
    HIL_OutInt32(0x400080, _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sg_update_value);  // update both parameters and waveforms on all channels

    
    // write initial SG parameters

    X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i;
    X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__j;
    X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__enable_wg_update_uint;

        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__enable_wg_update_uint = 0;

    for (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i=0; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i<1; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i++){
        HIL_OutFloat(0x400200 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], 0.0f);  // set gain to 0 (initial value)
        HIL_OutInt32(0x400180 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], 0);      // set offset to 0 (initial value)
        HIL_OutInt32(0x400000 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], 1);
        HIL_OutInt32(0x400280 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], 0);
        HIL_OutFloat(0x400100 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], 2.0f);
        HIL_OutInt32(0x400300 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin3_tdf_sg_ctrl_sine1__enable_wg_update_uint);   // enable wave update
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sg_update_value += 1<<_grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i];
    }
    // calculate and write waveform data
    _grid1_vsp_sin3_tdf_sg_ctrl_sine1__k = 2.0f * M_PI / _grid1_vsp_sin3_tdf_sg_ctrl_sine1__no_of_points;
    // oscillator based sine implementation
    // oscillator init
    _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn_1 = sin(0.0f);
    _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn_1 = cos(0.0f);
    // oscillator
    for (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i = 0; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i < _grid1_vsp_sin3_tdf_sg_ctrl_sine1__no_of_points; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i++){
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn = _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn_1 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__k*_grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn_1;
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn = _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn_1 - _grid1_vsp_sin3_tdf_sg_ctrl_sine1__k*_grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn;
        // write the same data to all the channels
        for (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__j=0; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__j<1; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__j++){
            HIL_OutFloat(0x600000 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__j]*0x800 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i, (float) _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn_1);
        }
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn_1 = _grid1_vsp_sin3_tdf_sg_ctrl_sine1__xn;
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn_1 = _grid1_vsp_sin3_tdf_sg_ctrl_sine1__yn;
    }
    HIL_OutInt32(0x400080, _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sg_update_value);  // update both parameters and waveforms on all channels

          HIL_OutAO(0x4021, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

          HIL_OutAO(0x4022, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

          HIL_OutAO(0x4023, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

          HIL_OutAO(0x4024, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

          HIL_OutAO(0x4025, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

          HIL_OutAO(0x4026, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

          HIL_OutAO(0x4027, 0.0f);
      sp_scope_buff_index_cpu0_er0_dev0 = 0;

    
    
    
    
    
    
    
    
    
             

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic = 1;

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
    
    
             

        _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic = 1;

            _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 2;

    
    
        {
}

             

        _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__load_ic = 1;


    
        {
}

             

        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__load_ic = 1;

            _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state = 2;

             

        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__load_ic = 1;

            _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state = 2;

    
    
    
    
    
          

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = 0;

    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step = 1;

        {
    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state = 0 ;
}

    
          

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = 0;

    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step = 1;

        {
    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state = 0 ;
}

    
        {
    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = 0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze = 0.02 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = 0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected = 100 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution = 0.0 ;
}

    
                X_UnInt32 _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i;
          

            for (_battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i = 0; _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i < 1; _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i++) {
                _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__states[_battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i] = 0;
            }

        {
}

        {
}

    
    
          

        _grid1_pll1_rate_limiter1__state = 0;

    _grid1_pll1_rate_limiter1__first_step = 1;

        {
    _grid1_pll1_integrator__state = 0 ;
}

    
        {
}

    
    
    
    
    
          

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = 0;

    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step = 1;

        {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state = 0 ;
}

    
          

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = 0;

    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step = 1;

        {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state = 0 ;
}

    
        {
    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = 0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze = 0.02 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = 0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected = 100 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution = 0.0 ;
}

    
        {
}

        {
}

    
    
    
    
    
    
          

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = 0;

    _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step = 1;

        {
    _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state = 0 ;
}

    
          

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = 0;

    _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step = 1;

        {
    _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state = 0 ;
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
          HIL_OutAO(0x4041, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4042, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4043, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4044, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4045, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4046, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4047, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4048, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4049, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x404a, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x404b, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x404c, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x404d, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x404e, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x404f, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

    
    
    
    
    
    
    
    
    
    
    
    
    
             

        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic = 1;

            _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 2;

    
    
    
    
    
    
    
    
             

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic = 1;

            _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 2;

    
    
    
    
    
    
             

        _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic = 1;

            _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 2;

    
    
    
    
    
    
        {
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
          HIL_OutAO(0x4028, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
          HIL_OutAO(0x4029, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x402a, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x402b, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x402c, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x402d, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x402e, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x402f, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4030, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4031, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4032, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4033, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4034, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4035, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4036, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4037, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4038, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4039, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x403a, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x403b, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x403c, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x403d, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x403e, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x403f, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4040, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    HIL_OutFloat(137101312, 0.0);

    HIL_OutFloat(137101313, 0.0);

    HIL_OutFloat(137101314, 0.0);

    
    
    
    HIL_OutFloat(137101315, 0.0);

    HIL_OutFloat(137101316, 0.0);

    HIL_OutFloat(137101317, 0.0);

    
    
    HIL_OutFloat(137101318, 0.0);

    HIL_OutFloat(137101319, 0.0);

    HIL_OutFloat(137101320, 0.0);

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
          HIL_OutAO(0x4000, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4001, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
          HIL_OutAO(0x4002, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4003, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4004, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4005, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4006, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4007, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4008, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4009, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x400a, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x400b, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x400c, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x400d, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x400e, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x400f, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4010, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4011, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4012, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4013, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4014, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4015, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4016, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4017, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4018, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4019, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x401a, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x401b, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x401c, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x401d, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x401e, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x401f, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

          HIL_OutAO(0x4020, 0.0f);
      sp_scope_buff_index_cpu0_er1_dev0 = 0;

    //@cmp.init.block.end
}


// Dll function pointers and dll reload function
#if defined(_WIN64)
    // Define method for reloading dll functions
    void ReloadDllFunctions_user_sp_cpu0_dev0(void) {
        // Load each library and setup function pointers
    }

    void FreeDllFunctions_user_sp_cpu0_dev0(void) {
    }

#else
    // Define method for reloading dll functions
    void ReloadDllFunctions_user_sp_cpu0_dev0(void) {
        // Load each library and setup function pointers
    }

    void FreeDllFunctions_user_sp_cpu0_dev0(void) {
    }
#endif

void load_fmi_libraries_user_sp_cpu0_dev0(void) {
    #if defined(_WIN64)
    #else
    #endif
}


void ReInit_sp_scope_user_sp_cpu0_dev0(){
    // initialise SP Scope buffer pointer
        sp_scope_buff_index_cpu0_er0_dev0 = 0;
        sp_scope_buff_start_addr_cpu0_er0_dev0 = (uint64_t)sp_scope_buffer_dev0 + 0*SP_SCOPE_BUFF_SIZE + 0*SP_SCOPE_BUFF_SIZE_PER_ER;
        sp_scope_buff_index_cpu0_er1_dev0 = 0;
        sp_scope_buff_start_addr_cpu0_er1_dev0 = (uint64_t)sp_scope_buffer_dev0 + 0*SP_SCOPE_BUFF_SIZE + 1*SP_SCOPE_BUFF_SIZE_PER_ER;
}              
// generated using template: common_timer_counter_handler.template-------------------------

/*****************************************************************************************/
/**
* This function is the handler which performs processing for the timer counter.
* It is called from an interrupt context such that the amount of processing
* performed should be minimized.  It is called when the timer counter expires
* if interrupts are enabled.
*
*
* @param    None
*
* @return   None
*
* @note     None
*
*****************************************************************************************/

void TimerCounterHandler_0_user_sp_cpu0_dev0() {

#if DEBUG_MODE
    printf("\n\rTimerCounterHandler_0");
#endif

    //////////////////////////////////////////////////////////////////////////
    // Set tunable parameters
    //////////////////////////////////////////////////////////////////////////
             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Constant1
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Constant2
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Constant1
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Constant2
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Constant3
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Constant8
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.dq to abc1.o_ref
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Radian
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Radian
            


             // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Radian
            


             // Generated from the component: Grid UI1.reserved_outs
            


             // Generated from the component: Grid1.Ph_A_ph
            


             // Generated from the component: Grid1.Ph_B_ph
            


             // Generated from the component: Grid1.Ph_C_ph
            


             // Generated from the component: Grid1.reserved_ins
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Constant1
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Constant2
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Constant1
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Constant2
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Constant3
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Constant8
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.dq to abc1.o_ref
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Radian
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Radian
            


             // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Radian
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Constant1
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Constant2
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Constant1
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Constant2
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Constant3
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Constant8
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.dq to abc1.o_ref
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Radian
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Radian
            


             // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Radian
            


//////////////////////////////////////////////////////////////////////////
    // Output block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.out.block.start
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Fault state machine
        
    {
    switch ( _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state )     {
        case 1 : _battery_ess__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; case 2 : _battery_ess__generic_1_grid_converter1_fault_state_machine__enable_mask = 1.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask = 1.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; case 3 : _battery_ess__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__fault = 1.0 ; break; case 4 : _battery_ess__generic_1_grid_converter1_fault_state_machine__enable_mask = 1.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask = 1.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; default : _battery_ess__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ;
}
 _battery_ess__generic_1_grid_converter1_fault_state_machine__fault_msg = _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num ;
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Ia.Ia2
            _battery_ess__generic_1_grid_converter1_ia_ia2__out = (HIL_InFloat(0xc80000+0x6a));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Ia1.Ia2
            _battery_ess__generic_1_grid_converter1_ia1_ia2__out = (HIL_InFloat(0xc80000+0x6c));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Ib.Ia2
            _battery_ess__generic_1_grid_converter1_ib_ia2__out = (HIL_InFloat(0xc80000+0x6e));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Ib1.Ia2
            _battery_ess__generic_1_grid_converter1_ib1_ia2__out = (HIL_InFloat(0xc80000+0x70));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Ic.Ia2
            _battery_ess__generic_1_grid_converter1_ic_ia2__out = (HIL_InFloat(0xc80000+0x72));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Ic1.Ia2
            _battery_ess__generic_1_grid_converter1_ic1_ia2__out = (HIL_InFloat(0xc80000+0x74));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Low-Pass Filter1
                

        _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;
            _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in * (6.283185307179586 * 50.0 * 0.0001) + _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value * (1 - 6.283185307179586 * 50.0 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.LPF.LPF
                    X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i;
          

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum = 0.0f;
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum = 0.0f;
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in = 0.0f;
            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i < 1; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i++){
                     _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum += _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_coeff[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i+1];
            }
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator1
                 

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator2
                 

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.Unit Delay1
              _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_d
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_q
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.LPF.LPF
                    X_UnInt32 _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i;
          

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum = 0.0f;
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum = 0.0f;
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in = 0.0f;
            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i < 1; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i++){
                     _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum += _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_coeff[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i+1];
            }
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator1
                 

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator2
                 

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.Unit Delay1
              _battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_d
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_q
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Unit Delay1
              _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__out = _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Rate Transition17.Output
        _battery_ess__generic_1_grid_converter1_rate_transition17_output__out[0] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[0];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[1] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[1];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[2] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[2];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[3] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[3];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[4] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[4];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[5] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[5];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[6] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[6];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[7] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[7];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[8] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[8];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[9] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[9];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[10] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[10];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[11] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[11];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[12] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[12];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[13] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[13];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[14] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[14];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[15] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[15];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[16] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[16];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[17] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[17];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[18] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[18];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[19] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[19];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[20] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[20];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[21] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[21];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[22] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[22];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[23] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[23];_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[24] = _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[24];
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.phi
        
             

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.phi
        
             

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.phi
        
             

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Va.Va2
            _battery_ess__generic_1_grid_converter1_va_va2__out = (HIL_InFloat(0xc80000+0x40));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Va1.Va2
            _battery_ess__generic_1_grid_converter1_va1_va2__out = (HIL_InFloat(0xc80000+0x42));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vb.Va2
            _battery_ess__generic_1_grid_converter1_vb_va2__out = (HIL_InFloat(0xc80000+0x44));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vb1.Va2
            _battery_ess__generic_1_grid_converter1_vb1_va2__out = (HIL_InFloat(0xc80000+0x46));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vc.Va2
            _battery_ess__generic_1_grid_converter1_vc_va2__out = (HIL_InFloat(0xc80000+0x48));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vc1.Va2
            _battery_ess__generic_1_grid_converter1_vc1_va2__out = (HIL_InFloat(0xc80000+0x4a));

         // Generated from the component: Grid UI1.Connect
                    _grid_ui1_connect__out = XIo_InFloat(0x5500017c);

         // Generated from the component: Grid UI1.Grid_Vrms_cmd
                    _grid_ui1_grid_vrms_cmd__out = XIo_InFloat(0x55000180);

         // Generated from the component: Grid UI1.Grid_freq_cmd
                    _grid_ui1_grid_freq_cmd__out = XIo_InFloat(0x55000184);

         // Generated from the component: Grid1.Ia.Ia2
            _grid1_ia_ia2__out = (HIL_InFloat(0xc80000+0x76));

         // Generated from the component: Grid1.Ib.Ia2
            _grid1_ib_ia2__out = (HIL_InFloat(0xc80000+0x78));

         // Generated from the component: Grid1.Ic.Ia2
            _grid1_ic_ia2__out = (HIL_InFloat(0xc80000+0x7a));

         // Generated from the component: Grid1.PLL1.LPF.LPF
                    X_UnInt32 _grid1_pll1_lpf_lpf__i;
          

        _grid1_pll1_lpf_lpf__a_sum = 0.0f;
        _grid1_pll1_lpf_lpf__b_sum = 0.0f;
        _grid1_pll1_lpf_lpf__delay_line_in = 0.0f;
            for (_grid1_pll1_lpf_lpf__i = 0; _grid1_pll1_lpf_lpf__i < 1; _grid1_pll1_lpf_lpf__i++){
                     _grid1_pll1_lpf_lpf__b_sum += _grid1_pll1_lpf_lpf__b_coeff[_grid1_pll1_lpf_lpf__i] * _grid1_pll1_lpf_lpf__states[_grid1_pll1_lpf_lpf__i+1];
            }
        _grid1_pll1_lpf_lpf__out = _grid1_pll1_lpf_lpf__b_sum;


         // Generated from the component: Grid1.PLL1.PID.Integrator1
                 

        _grid1_pll1_pid_integrator1__out = _grid1_pll1_pid_integrator1__state;

         // Generated from the component: Grid1.PLL1.PID.Integrator2
                 

        _grid1_pll1_pid_integrator2__out = _grid1_pll1_pid_integrator2__state;

         // Generated from the component: Grid1.PLL1.Unit Delay1
              _grid1_pll1_unit_delay1__out = _grid1_pll1_unit_delay1__state;

         // Generated from the component: Grid1.PLL1.abc to dq.LPF_d
                

        _grid1_pll1_abc_to_dq_lpf_d__previous_filtered_value = _grid1_pll1_abc_to_dq_lpf_d__filtered_value;
            _grid1_pll1_abc_to_dq_lpf_d__filtered_value = _grid1_pll1_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _grid1_pll1_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _grid1_pll1_abc_to_dq_lpf_d__out = _grid1_pll1_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: Grid1.PLL1.abc to dq.LPF_q
                

        _grid1_pll1_abc_to_dq_lpf_q__previous_filtered_value = _grid1_pll1_abc_to_dq_lpf_q__filtered_value;
            _grid1_pll1_abc_to_dq_lpf_q__filtered_value = _grid1_pll1_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _grid1_pll1_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _grid1_pll1_abc_to_dq_lpf_q__out = _grid1_pll1_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: Grid1.Va.Va2
            _grid1_va_va2__out = (HIL_InFloat(0xc80000+0x4c));

         // Generated from the component: Grid1.Vb.Va2
            _grid1_vb_va2__out = (HIL_InFloat(0xc80000+0x4e));

         // Generated from the component: Grid1.Vc.Va2
            _grid1_vc_va2__out = (HIL_InFloat(0xc80000+0x50));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Fault state machine
        
    {
    switch ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state )     {
        case 1 : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; case 2 : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__enable_mask = 1.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask = 1.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; case 3 : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault = 1.0 ; break; case 4 : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__enable_mask = 1.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask = 1.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; default : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ;
}
 _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault_msg = _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num ;
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Ia.Ia2
            _pv_power_plant__generic_1_grid_converter1_ia_ia2__out = (HIL_InFloat(0xc80000+0x7c));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Ia1.Ia2
            _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out = (HIL_InFloat(0xc80000+0x7e));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Ib.Ia2
            _pv_power_plant__generic_1_grid_converter1_ib_ia2__out = (HIL_InFloat(0xc80000+0x80));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Ib1.Ia2
            _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out = (HIL_InFloat(0xc80000+0x82));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Ic.Ia2
            _pv_power_plant__generic_1_grid_converter1_ic_ia2__out = (HIL_InFloat(0xc80000+0x84));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Ic1.Ia2
            _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out = (HIL_InFloat(0xc80000+0x86));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Low-Pass Filter1
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in * (6.283185307179586 * 50.0 * 0.0001) + _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value * (1 - 6.283185307179586 * 50.0 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.LPF.LPF
                    X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i;
          

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum = 0.0f;
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum = 0.0f;
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in = 0.0f;
            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i < 1; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i++){
                     _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_coeff[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i+1];
            }
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator1
                 

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator2
                 

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.Unit Delay1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_d
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_q
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.LPF.LPF
                    X_UnInt32 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i;
          

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum = 0.0f;
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum = 0.0f;
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in = 0.0f;
            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i < 1; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i++){
                     _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_coeff[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i+1];
            }
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator1
                 

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator2
                 

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.Unit Delay1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_d
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_q
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Unit Delay1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Rate Transition17.Output
        _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[0] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[0];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[1] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[1];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[2] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[2];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[3] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[3];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[4] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[4];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[5] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[5];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[6] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[6];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[7] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[7];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[8] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[8];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[9] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[9];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[10] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[10];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[11] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[11];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[12] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[12];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[13] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[13];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[14] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[14];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[15] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[15];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[16] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[16];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[17] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[17];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[18] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[18];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[19] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[19];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[20] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[20];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[21] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[21];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[22] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[22];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[23] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[23];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[24] = _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[24];
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.phi
        
             

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.phi
        
             

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.phi
        
             

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Va.Va2
            _pv_power_plant__generic_1_grid_converter1_va_va2__out = (HIL_InFloat(0xc80000+0x52));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Va1.Va2
            _pv_power_plant__generic_1_grid_converter1_va1_va2__out = (HIL_InFloat(0xc80000+0x54));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vb.Va2
            _pv_power_plant__generic_1_grid_converter1_vb_va2__out = (HIL_InFloat(0xc80000+0x56));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vb1.Va2
            _pv_power_plant__generic_1_grid_converter1_vb1_va2__out = (HIL_InFloat(0xc80000+0x58));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vc.Va2
            _pv_power_plant__generic_1_grid_converter1_vc_va2__out = (HIL_InFloat(0xc80000+0x5a));

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vc1.Va2
            _pv_power_plant__generic_1_grid_converter1_vc1_va2__out = (HIL_InFloat(0xc80000+0x5c));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Fault state machine
        
    {
    switch ( _variable_load__generic_1_grid_converter1_fault_state_machine__current_state )     {
        case 1 : _variable_load__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; case 2 : _variable_load__generic_1_grid_converter1_fault_state_machine__enable_mask = 1.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask = 1.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; case 3 : _variable_load__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__fault = 1.0 ; break; case 4 : _variable_load__generic_1_grid_converter1_fault_state_machine__enable_mask = 1.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask = 1.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ; break; default : _variable_load__generic_1_grid_converter1_fault_state_machine__enable_mask = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__fault = 0.0 ;
}
 _variable_load__generic_1_grid_converter1_fault_state_machine__fault_msg = _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num ;
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Ia.Ia2
            _variable_load__generic_1_grid_converter1_ia_ia2__out = (HIL_InFloat(0xc80000+0x88));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Ia1.Ia2
            _variable_load__generic_1_grid_converter1_ia1_ia2__out = (HIL_InFloat(0xc80000+0x8a));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Ib.Ia2
            _variable_load__generic_1_grid_converter1_ib_ia2__out = (HIL_InFloat(0xc80000+0x8c));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Ib1.Ia2
            _variable_load__generic_1_grid_converter1_ib1_ia2__out = (HIL_InFloat(0xc80000+0x8e));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Ic.Ia2
            _variable_load__generic_1_grid_converter1_ic_ia2__out = (HIL_InFloat(0xc80000+0x90));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Ic1.Ia2
            _variable_load__generic_1_grid_converter1_ic1_ia2__out = (HIL_InFloat(0xc80000+0x92));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Low-Pass Filter1
                

        _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;
            _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in * (6.283185307179586 * 50.0 * 0.0001) + _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_filtered_value * (1 - 6.283185307179586 * 50.0 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__out = _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__filtered_value;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.LPF.LPF
                    X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i;
          

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum = 0.0f;
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum = 0.0f;
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in = 0.0f;
            for (_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 0; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i < 1; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i++){
                     _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum += _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_coeff[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] * _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i+1];
            }
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__b_sum;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator1
                 

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator2
                 

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.Unit Delay1
              _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_d
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_q
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.LPF.LPF
                    X_UnInt32 _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i;
          

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum = 0.0f;
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum = 0.0f;
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in = 0.0f;
            for (_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 0; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i < 1; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i++){
                     _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum += _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_coeff[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] * _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i+1];
            }
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__b_sum;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator1
                 

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator2
                 

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.Unit Delay1
              _variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_d
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in * (1 * 3141.592653589793 * 0.0001) + _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__filtered_value;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_q
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in * (1 * 3141.592653589793 * 0.0001) + _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_filtered_value * (1 - 1 * 3141.592653589793 * 0.0001 );
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__filtered_value;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Unit Delay1
              _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__out = _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Rate Transition17.Output
        _variable_load__generic_1_grid_converter1_rate_transition17_output__out[0] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[0];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[1] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[1];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[2] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[2];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[3] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[3];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[4] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[4];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[5] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[5];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[6] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[6];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[7] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[7];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[8] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[8];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[9] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[9];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[10] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[10];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[11] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[11];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[12] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[12];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[13] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[13];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[14] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[14];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[15] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[15];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[16] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[16];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[17] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[17];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[18] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[18];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[19] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[19];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[20] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[20];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[21] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[21];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[22] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[22];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[23] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[23];_variable_load__generic_1_grid_converter1_rate_transition17_output__out[24] = _variable_load__generic_1_grid_converter1_rate_transition17_output__state[24];
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.phi
        
             

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.phi
        
             

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.phi
        
             

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Va.Va2
            _variable_load__generic_1_grid_converter1_va_va2__out = (HIL_InFloat(0xc80000+0x5e));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Va1.Va2
            _variable_load__generic_1_grid_converter1_va1_va2__out = (HIL_InFloat(0xc80000+0x60));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vb.Va2
            _variable_load__generic_1_grid_converter1_vb_va2__out = (HIL_InFloat(0xc80000+0x62));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vb1.Va2
            _variable_load__generic_1_grid_converter1_vb1_va2__out = (HIL_InFloat(0xc80000+0x64));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vc.Va2
            _variable_load__generic_1_grid_converter1_vc_va2__out = (HIL_InFloat(0xc80000+0x66));

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vc1.Va2
            _variable_load__generic_1_grid_converter1_vc1_va2__out = (HIL_InFloat(0xc80000+0x68));

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Termination2
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Ia RMS
                        

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value;
            if (0)
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value * 1 + _battery_ess__generic_1_grid_converter1_ia1_ia2__out * 1;
            else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value * 0.1 + _battery_ess__generic_1_grid_converter1_ia1_ia2__out * 0.9;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer += 0.0001;
            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value >= 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value < 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer >= 0.0) ) {
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc = 1;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0;
            } else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Ia RMS
                        

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value;
            if (0)
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value * 1 + _battery_ess__generic_1_grid_converter1_ib1_ia2__out * 1;
            else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value * 0.1 + _battery_ess__generic_1_grid_converter1_ib1_ia2__out * 0.9;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer += 0.0001;
            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value >= 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value < 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer >= 0.0) ) {
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc = 1;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0;
            } else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Subsystem2.abc to dq1.abc to alpha beta
        	_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha = (2.0*_battery_ess__generic_1_grid_converter1_ia_ia2__out - _battery_ess__generic_1_grid_converter1_ib_ia2__out - _battery_ess__generic_1_grid_converter1_ic_ia2__out)*0.3333333333333333;
	_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta = (_battery_ess__generic_1_grid_converter1_ib_ia2__out - _battery_ess__generic_1_grid_converter1_ic_ia2__out)*0.5773502691896258;
	_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__gamma = (_battery_ess__generic_1_grid_converter1_ia_ia2__out + _battery_ess__generic_1_grid_converter1_ib_ia2__out + _battery_ess__generic_1_grid_converter1_ic_ia2__out)*0.3333333333333333;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Ia RMS
                        

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value;
            if (0)
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value * 1 + _battery_ess__generic_1_grid_converter1_ic1_ia2__out * 1;
            else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value * 0.1 + _battery_ess__generic_1_grid_converter1_ic1_ia2__out * 0.9;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer += 0.0001;
            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value >= 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value < 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer >= 0.0) ) {
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc = 1;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0;
            } else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.to_Hz
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_to_hz__out = 0.15915494309189535 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.normalize
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in1 = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;

    {
    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk = ( powf ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in1 , 2.0 ) + powf ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 , 2.0 ) ) ; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk = sqrt ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk ) ; if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk < 0.1 )     {
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 / 0.1 ;
}
 else     {
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 / _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk ;
}

}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.to_Hz
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_to_hz__out = 0.15915494309189535 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.normalize
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in1 = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;

    {
    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk = ( powf ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in1 , 2.0 ) + powf ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 , 2.0 ) ) ; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk = sqrt ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk ) ; if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk < 0.1 )     {
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 / 0.1 ;
}
 else     {
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 / _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk ;
}

}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Bus Split3
                     _battery_ess__generic_1_grid_converter1_bus_split3__out=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[0];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out1=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[1];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out2=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[2];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out3=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[3];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out4=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[4];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out5=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[5];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out6=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[6];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out7=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[7];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out8=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[8];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out9=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[9];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out10=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[10];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out11=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[11];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out12=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[12];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out13=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[13];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out14=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[14];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out15=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[15];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out16=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[16];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out17=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[17];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out18=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[18];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out19=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[19];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out20=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[20];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out21=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[21];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out22=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[22];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out23=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[23];
 
            _battery_ess__generic_1_grid_converter1_bus_split3__out24=_battery_ess__generic_1_grid_converter1_rate_transition17_output__out[24];
 

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Degree to radians
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_radian__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Degree to radians
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_radian__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Degree to radians
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_radian__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Va RMS
                        

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value;
            if (0)
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value * 1 + _battery_ess__generic_1_grid_converter1_va1_va2__out * 1;
            else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value * 0.1 + _battery_ess__generic_1_grid_converter1_va1_va2__out * 0.9;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer += 0.0001;
            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value >= 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value < 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer >= 0.0) ) {
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc = 1;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0;
            } else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Va RMS
                        

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value;
            if (0)
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value * 1 + _battery_ess__generic_1_grid_converter1_vb1_va2__out * 1;
            else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value * 0.1 + _battery_ess__generic_1_grid_converter1_vb1_va2__out * 0.9;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer += 0.0001;
            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value >= 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value < 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer >= 0.0) ) {
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc = 1;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0;
            } else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.abc to alpha beta
        	_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_battery_ess__generic_1_grid_converter1_va_va2__out - _battery_ess__generic_1_grid_converter1_vb_va2__out - _battery_ess__generic_1_grid_converter1_vc_va2__out)*0.3333333333333333;
	_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta = (_battery_ess__generic_1_grid_converter1_vb_va2__out - _battery_ess__generic_1_grid_converter1_vc_va2__out)*0.5773502691896258;
	_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__gamma = (_battery_ess__generic_1_grid_converter1_va_va2__out + _battery_ess__generic_1_grid_converter1_vb_va2__out + _battery_ess__generic_1_grid_converter1_vc_va2__out)*0.3333333333333333;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.abc to alpha beta
        	_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_battery_ess__generic_1_grid_converter1_va1_va2__out - _battery_ess__generic_1_grid_converter1_vb1_va2__out - _battery_ess__generic_1_grid_converter1_vc1_va2__out)*0.3333333333333333;
	_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta = (_battery_ess__generic_1_grid_converter1_vb1_va2__out - _battery_ess__generic_1_grid_converter1_vc1_va2__out)*0.5773502691896258;
	_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__gamma = (_battery_ess__generic_1_grid_converter1_va1_va2__out + _battery_ess__generic_1_grid_converter1_vb1_va2__out + _battery_ess__generic_1_grid_converter1_vc1_va2__out)*0.3333333333333333;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Power Meter1
            _battery_ess__generic_1_grid_converter1_power_meter1__v_alpha = SQRT_2OVER3*( _battery_ess__generic_1_grid_converter1_va1_va2__out - 0.5f* _battery_ess__generic_1_grid_converter1_vb1_va2__out - 0.5f* _battery_ess__generic_1_grid_converter1_vc1_va2__out);
    _battery_ess__generic_1_grid_converter1_power_meter1__v_beta = SQRT_2OVER3*(SQRT3_OVER_2* _battery_ess__generic_1_grid_converter1_vb1_va2__out - SQRT3_OVER_2* _battery_ess__generic_1_grid_converter1_vc1_va2__out);
    _battery_ess__generic_1_grid_converter1_power_meter1__i_alpha = SQRT_2OVER3*( _battery_ess__generic_1_grid_converter1_ia1_ia2__out - 0.5f* _battery_ess__generic_1_grid_converter1_ib1_ia2__out - 0.5f* _battery_ess__generic_1_grid_converter1_ic1_ia2__out);
    _battery_ess__generic_1_grid_converter1_power_meter1__i_beta = SQRT_2OVER3*(SQRT3_OVER_2* _battery_ess__generic_1_grid_converter1_ib1_ia2__out - SQRT3_OVER_2* _battery_ess__generic_1_grid_converter1_ic1_ia2__out);
    _battery_ess__generic_1_grid_converter1_power_meter1__v_zero = ONE_DIV_BY_SQRT_3*(_battery_ess__generic_1_grid_converter1_va1_va2__out+_battery_ess__generic_1_grid_converter1_vb1_va2__out+_battery_ess__generic_1_grid_converter1_vc1_va2__out);
    _battery_ess__generic_1_grid_converter1_power_meter1__i_zero = ONE_DIV_BY_SQRT_3*(_battery_ess__generic_1_grid_converter1_ia1_ia2__out+_battery_ess__generic_1_grid_converter1_ib1_ia2__out+_battery_ess__generic_1_grid_converter1_ic1_ia2__out);

    _battery_ess__generic_1_grid_converter1_power_meter1__Pac = _battery_ess__generic_1_grid_converter1_power_meter1__v_alpha*_battery_ess__generic_1_grid_converter1_power_meter1__i_alpha + _battery_ess__generic_1_grid_converter1_power_meter1__v_beta*_battery_ess__generic_1_grid_converter1_power_meter1__i_beta;
    _battery_ess__generic_1_grid_converter1_power_meter1__Qac = _battery_ess__generic_1_grid_converter1_power_meter1__v_beta*_battery_ess__generic_1_grid_converter1_power_meter1__i_alpha - _battery_ess__generic_1_grid_converter1_power_meter1__v_alpha*_battery_ess__generic_1_grid_converter1_power_meter1__i_beta;
    _battery_ess__generic_1_grid_converter1_power_meter1__P0ac = _battery_ess__generic_1_grid_converter1_power_meter1__v_zero*_battery_ess__generic_1_grid_converter1_power_meter1__i_zero;

    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output = 0.030459027951421223*(_battery_ess__generic_1_grid_converter1_power_meter1__Pac + _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1) - (-0.9390819440971575)*_battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputQ = 0.030459027951421223*(_battery_ess__generic_1_grid_converter1_power_meter1__Qac + _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q) - (-0.9390819440971575)*_battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputP0 = 0.030459027951421223*(_battery_ess__generic_1_grid_converter1_power_meter1__P0ac + _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0) - (-0.9390819440971575)*_battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0;

    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1 = _battery_ess__generic_1_grid_converter1_power_meter1__Pac;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1 = _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q = _battery_ess__generic_1_grid_converter1_power_meter1__Qac;;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q = _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0 = _battery_ess__generic_1_grid_converter1_power_meter1__P0ac;
    _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0 = _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputP0;

        _battery_ess__generic_1_grid_converter1_power_meter1__Pdc = _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_output;
        _battery_ess__generic_1_grid_converter1_power_meter1__Qdc = _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
        _battery_ess__generic_1_grid_converter1_power_meter1__P0dc = _battery_ess__generic_1_grid_converter1_power_meter1__filter_1_outputP0;

    _battery_ess__generic_1_grid_converter1_power_meter1__apparent = sqrt(pow(_battery_ess__generic_1_grid_converter1_power_meter1__Pdc,2) + pow(_battery_ess__generic_1_grid_converter1_power_meter1__Qdc,2));

    if (_battery_ess__generic_1_grid_converter1_power_meter1__apparent > 0)
        _battery_ess__generic_1_grid_converter1_power_meter1__k_factor = _battery_ess__generic_1_grid_converter1_power_meter1__Pdc / _battery_ess__generic_1_grid_converter1_power_meter1__apparent;
    else
        _battery_ess__generic_1_grid_converter1_power_meter1__k_factor = 0;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Va RMS
                        

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value;
            if (0)
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value * 1 + _battery_ess__generic_1_grid_converter1_vc1_va2__out * 1;
            else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value * 0.1 + _battery_ess__generic_1_grid_converter1_vc1_va2__out * 0.9;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer += 0.0001;
            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value >= 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value < 0.0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer >= 0.0) ) {
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc = 1;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0;
            } else
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state;


         // Generated from the component: Grid UI1.Bus Join1
        
	        	_grid_ui1_bus_join1__out[0] = _grid_ui1_connect__out;
 	        	_grid_ui1_bus_join1__out[1] = _grid_ui1_grid_vrms_cmd__out;
 	        	_grid_ui1_bus_join1__out[2] = _grid_ui1_grid_freq_cmd__out;
 	        	_grid_ui1_bus_join1__out[3] = _grid_ui1_reserved_outs__out[0];
 	        	_grid_ui1_bus_join1__out[4] = _grid_ui1_reserved_outs__out[1];
 	        	_grid_ui1_bus_join1__out[5] = _grid_ui1_reserved_outs__out[2];
 	        	_grid_ui1_bus_join1__out[6] = _grid_ui1_reserved_outs__out[3];
 	        	_grid_ui1_bus_join1__out[7] = _grid_ui1_reserved_outs__out[4];
 	        	_grid_ui1_bus_join1__out[8] = _grid_ui1_reserved_outs__out[5];
 	        	_grid_ui1_bus_join1__out[9] = _grid_ui1_reserved_outs__out[6];
 	        	_grid_ui1_bus_join1__out[10] = _grid_ui1_reserved_outs__out[7];
 	        	_grid_ui1_bus_join1__out[11] = _grid_ui1_reserved_outs__out[8];
 	        	_grid_ui1_bus_join1__out[12] = _grid_ui1_reserved_outs__out[9];
 	        	_grid_ui1_bus_join1__out[13] = _grid_ui1_reserved_outs__out[10];
 	        	_grid_ui1_bus_join1__out[14] = _grid_ui1_reserved_outs__out[11];
 	        	_grid_ui1_bus_join1__out[15] = _grid_ui1_reserved_outs__out[12];
 	        	_grid_ui1_bus_join1__out[16] = _grid_ui1_reserved_outs__out[13];
 	        	_grid_ui1_bus_join1__out[17] = _grid_ui1_reserved_outs__out[14];
 	        	_grid_ui1_bus_join1__out[18] = _grid_ui1_reserved_outs__out[15];
 	        	_grid_ui1_bus_join1__out[19] = _grid_ui1_reserved_outs__out[16];
 
         // Generated from the component: Grid1.PLL1.to_Hz
                    _grid1_pll1_to_hz__out = 0.15915494309189535 * _grid1_pll1_lpf_lpf__out;

         // Generated from the component: Grid1.Termination6
        

         // Generated from the component: Grid1.Termination4
        

         // Generated from the component: Grid1.PLL1.normalize
                    _grid1_pll1_normalize__in1 = _grid1_pll1_abc_to_dq_lpf_d__out;
            _grid1_pll1_normalize__in2 = _grid1_pll1_abc_to_dq_lpf_q__out;

    {
    _grid1_pll1_normalize__pk = ( powf ( _grid1_pll1_normalize__in1 , 2.0 ) + powf ( _grid1_pll1_normalize__in2 , 2.0 ) ) ; _grid1_pll1_normalize__pk = sqrt ( _grid1_pll1_normalize__pk ) ; if ( _grid1_pll1_normalize__pk < 0.1 )     {
        _grid1_pll1_normalize__in2_pu = _grid1_pll1_normalize__in2 / 0.1 ;
}
 else     {
        _grid1_pll1_normalize__in2_pu = _grid1_pll1_normalize__in2 / _grid1_pll1_normalize__pk ;
}

}

         // Generated from the component: Grid1.Termination5
        

         // Generated from the component: Grid1.PLL1.abc to dq.abc to alpha beta
        	_grid1_pll1_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_grid1_va_va2__out - _grid1_vb_va2__out - _grid1_vc_va2__out)*0.3333333333333333;
	_grid1_pll1_abc_to_dq_abc_to_alpha_beta__beta = (_grid1_vb_va2__out - _grid1_vc_va2__out)*0.5773502691896258;
	_grid1_pll1_abc_to_dq_abc_to_alpha_beta__gamma = (_grid1_va_va2__out + _grid1_vb_va2__out + _grid1_vc_va2__out)*0.3333333333333333;

         // Generated from the component: Grid1.Power Meter1
            _grid1_power_meter1__v_alpha = SQRT_2OVER3*( _grid1_va_va2__out - 0.5f* _grid1_vb_va2__out - 0.5f* _grid1_vc_va2__out);
    _grid1_power_meter1__v_beta = SQRT_2OVER3*(SQRT3_OVER_2* _grid1_vb_va2__out - SQRT3_OVER_2* _grid1_vc_va2__out);
    _grid1_power_meter1__i_alpha = SQRT_2OVER3*( _grid1_ia_ia2__out - 0.5f* _grid1_ib_ia2__out - 0.5f* _grid1_ic_ia2__out);
    _grid1_power_meter1__i_beta = SQRT_2OVER3*(SQRT3_OVER_2* _grid1_ib_ia2__out - SQRT3_OVER_2* _grid1_ic_ia2__out);
    _grid1_power_meter1__v_zero = ONE_DIV_BY_SQRT_3*(_grid1_va_va2__out+_grid1_vb_va2__out+_grid1_vc_va2__out);
    _grid1_power_meter1__i_zero = ONE_DIV_BY_SQRT_3*(_grid1_ia_ia2__out+_grid1_ib_ia2__out+_grid1_ic_ia2__out);

    _grid1_power_meter1__Pac = _grid1_power_meter1__v_alpha*_grid1_power_meter1__i_alpha + _grid1_power_meter1__v_beta*_grid1_power_meter1__i_beta;
    _grid1_power_meter1__Qac = _grid1_power_meter1__v_beta*_grid1_power_meter1__i_alpha - _grid1_power_meter1__v_alpha*_grid1_power_meter1__i_beta;
    _grid1_power_meter1__P0ac = _grid1_power_meter1__v_zero*_grid1_power_meter1__i_zero;

    _grid1_power_meter1__filter_1_output = 0.003131753958361355*(_grid1_power_meter1__Pac + _grid1_power_meter1__filter_1_input_k_minus_1) - (-0.9937364920832773)*_grid1_power_meter1__filter_1_output_k_minus_1;
    _grid1_power_meter1__filter_1_outputQ = 0.003131753958361355*(_grid1_power_meter1__Qac + _grid1_power_meter1__filter_1_input_k_minus_1Q) - (-0.9937364920832773)*_grid1_power_meter1__filter_1_output_k_minus_1Q;
    _grid1_power_meter1__filter_1_outputP0 = 0.003131753958361355*(_grid1_power_meter1__P0ac + _grid1_power_meter1__filter_1_input_k_minus_1P0) - (-0.9937364920832773)*_grid1_power_meter1__filter_1_output_k_minus_1P0;

    _grid1_power_meter1__filter_1_input_k_minus_1 = _grid1_power_meter1__Pac;
    _grid1_power_meter1__filter_1_output_k_minus_1 = _grid1_power_meter1__filter_1_output;
    _grid1_power_meter1__filter_1_input_k_minus_1Q = _grid1_power_meter1__Qac;;
    _grid1_power_meter1__filter_1_output_k_minus_1Q = _grid1_power_meter1__filter_1_outputQ;
    _grid1_power_meter1__filter_1_input_k_minus_1P0 = _grid1_power_meter1__P0ac;
    _grid1_power_meter1__filter_1_output_k_minus_1P0 = _grid1_power_meter1__filter_1_outputP0;

        _grid1_power_meter1__Pdc = _grid1_power_meter1__filter_1_output;
        _grid1_power_meter1__Qdc = _grid1_power_meter1__filter_1_outputQ;
        _grid1_power_meter1__P0dc = _grid1_power_meter1__filter_1_outputP0;

    _grid1_power_meter1__apparent = sqrt(pow(_grid1_power_meter1__Pdc,2) + pow(_grid1_power_meter1__Qdc,2));

    if (_grid1_power_meter1__apparent > 0)
        _grid1_power_meter1__k_factor = _grid1_power_meter1__Pdc / _grid1_power_meter1__apparent;
    else
        _grid1_power_meter1__k_factor = 0;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Termination2
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Ia RMS
                        

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value;
            if (0)
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value * 1 + _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out * 1;
            else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value * 0.1 + _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out * 0.9;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer += 0.0001;
            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value >= 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value < 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer >= 0.0) ) {
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc = 1;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0;
            } else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Ia RMS
                        

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value;
            if (0)
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value * 1 + _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out * 1;
            else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value * 0.1 + _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out * 0.9;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer += 0.0001;
            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value >= 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value < 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer >= 0.0) ) {
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc = 1;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0;
            } else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Subsystem2.abc to dq1.abc to alpha beta
        	_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha = (2.0*_pv_power_plant__generic_1_grid_converter1_ia_ia2__out - _pv_power_plant__generic_1_grid_converter1_ib_ia2__out - _pv_power_plant__generic_1_grid_converter1_ic_ia2__out)*0.3333333333333333;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta = (_pv_power_plant__generic_1_grid_converter1_ib_ia2__out - _pv_power_plant__generic_1_grid_converter1_ic_ia2__out)*0.5773502691896258;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__gamma = (_pv_power_plant__generic_1_grid_converter1_ia_ia2__out + _pv_power_plant__generic_1_grid_converter1_ib_ia2__out + _pv_power_plant__generic_1_grid_converter1_ic_ia2__out)*0.3333333333333333;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Ia RMS
                        

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value;
            if (0)
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value * 1 + _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out * 1;
            else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value * 0.1 + _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out * 0.9;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer += 0.0001;
            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value >= 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value < 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer >= 0.0) ) {
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc = 1;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0;
            } else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.to_Hz
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_to_hz__out = 0.15915494309189535 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.normalize
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in1 = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;

    {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk = ( powf ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in1 , 2.0 ) + powf ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 , 2.0 ) ) ; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk = sqrt ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk ) ; if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk < 0.1 )     {
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 / 0.1 ;
}
 else     {
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 / _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.to_Hz
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_to_hz__out = 0.15915494309189535 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.normalize
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in1 = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;

    {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk = ( powf ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in1 , 2.0 ) + powf ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 , 2.0 ) ) ; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk = sqrt ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk ) ; if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk < 0.1 )     {
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 / 0.1 ;
}
 else     {
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 / _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Bus Split3
                     _pv_power_plant__generic_1_grid_converter1_bus_split3__out=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[0];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out1=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[1];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out2=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[2];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out3=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[3];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out4=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[4];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out5=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[5];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out6=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[6];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out7=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[7];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out8=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[8];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out9=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[9];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out10=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[10];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out11=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[11];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out12=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[12];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out13=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[13];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out14=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[14];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out15=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[15];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out16=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[16];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out17=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[17];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out18=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[18];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out19=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[19];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out20=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[20];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out21=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[21];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out22=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[22];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out23=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[23];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split3__out24=_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__out[24];
 

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Degree to radians
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_radian__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Degree to radians
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_radian__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Degree to radians
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_radian__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Va RMS
                        

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value;
            if (0)
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value * 1 + _pv_power_plant__generic_1_grid_converter1_va1_va2__out * 1;
            else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value * 0.1 + _pv_power_plant__generic_1_grid_converter1_va1_va2__out * 0.9;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer += 0.0001;
            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value >= 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value < 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer >= 0.0) ) {
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc = 1;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0;
            } else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Va RMS
                        

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value;
            if (0)
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value * 1 + _pv_power_plant__generic_1_grid_converter1_vb1_va2__out * 1;
            else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value * 0.1 + _pv_power_plant__generic_1_grid_converter1_vb1_va2__out * 0.9;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer += 0.0001;
            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value >= 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value < 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer >= 0.0) ) {
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc = 1;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0;
            } else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.abc to alpha beta
        	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_pv_power_plant__generic_1_grid_converter1_va_va2__out - _pv_power_plant__generic_1_grid_converter1_vb_va2__out - _pv_power_plant__generic_1_grid_converter1_vc_va2__out)*0.3333333333333333;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta = (_pv_power_plant__generic_1_grid_converter1_vb_va2__out - _pv_power_plant__generic_1_grid_converter1_vc_va2__out)*0.5773502691896258;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__gamma = (_pv_power_plant__generic_1_grid_converter1_va_va2__out + _pv_power_plant__generic_1_grid_converter1_vb_va2__out + _pv_power_plant__generic_1_grid_converter1_vc_va2__out)*0.3333333333333333;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.abc to alpha beta
        	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_pv_power_plant__generic_1_grid_converter1_va1_va2__out - _pv_power_plant__generic_1_grid_converter1_vb1_va2__out - _pv_power_plant__generic_1_grid_converter1_vc1_va2__out)*0.3333333333333333;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta = (_pv_power_plant__generic_1_grid_converter1_vb1_va2__out - _pv_power_plant__generic_1_grid_converter1_vc1_va2__out)*0.5773502691896258;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__gamma = (_pv_power_plant__generic_1_grid_converter1_va1_va2__out + _pv_power_plant__generic_1_grid_converter1_vb1_va2__out + _pv_power_plant__generic_1_grid_converter1_vc1_va2__out)*0.3333333333333333;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Power Meter1
            _pv_power_plant__generic_1_grid_converter1_power_meter1__v_alpha = SQRT_2OVER3*( _pv_power_plant__generic_1_grid_converter1_va1_va2__out - 0.5f* _pv_power_plant__generic_1_grid_converter1_vb1_va2__out - 0.5f* _pv_power_plant__generic_1_grid_converter1_vc1_va2__out);
    _pv_power_plant__generic_1_grid_converter1_power_meter1__v_beta = SQRT_2OVER3*(SQRT3_OVER_2* _pv_power_plant__generic_1_grid_converter1_vb1_va2__out - SQRT3_OVER_2* _pv_power_plant__generic_1_grid_converter1_vc1_va2__out);
    _pv_power_plant__generic_1_grid_converter1_power_meter1__i_alpha = SQRT_2OVER3*( _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out - 0.5f* _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out - 0.5f* _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out);
    _pv_power_plant__generic_1_grid_converter1_power_meter1__i_beta = SQRT_2OVER3*(SQRT3_OVER_2* _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out - SQRT3_OVER_2* _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out);
    _pv_power_plant__generic_1_grid_converter1_power_meter1__v_zero = ONE_DIV_BY_SQRT_3*(_pv_power_plant__generic_1_grid_converter1_va1_va2__out+_pv_power_plant__generic_1_grid_converter1_vb1_va2__out+_pv_power_plant__generic_1_grid_converter1_vc1_va2__out);
    _pv_power_plant__generic_1_grid_converter1_power_meter1__i_zero = ONE_DIV_BY_SQRT_3*(_pv_power_plant__generic_1_grid_converter1_ia1_ia2__out+_pv_power_plant__generic_1_grid_converter1_ib1_ia2__out+_pv_power_plant__generic_1_grid_converter1_ic1_ia2__out);

    _pv_power_plant__generic_1_grid_converter1_power_meter1__Pac = _pv_power_plant__generic_1_grid_converter1_power_meter1__v_alpha*_pv_power_plant__generic_1_grid_converter1_power_meter1__i_alpha + _pv_power_plant__generic_1_grid_converter1_power_meter1__v_beta*_pv_power_plant__generic_1_grid_converter1_power_meter1__i_beta;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__Qac = _pv_power_plant__generic_1_grid_converter1_power_meter1__v_beta*_pv_power_plant__generic_1_grid_converter1_power_meter1__i_alpha - _pv_power_plant__generic_1_grid_converter1_power_meter1__v_alpha*_pv_power_plant__generic_1_grid_converter1_power_meter1__i_beta;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__P0ac = _pv_power_plant__generic_1_grid_converter1_power_meter1__v_zero*_pv_power_plant__generic_1_grid_converter1_power_meter1__i_zero;

    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output = 0.030459027951421223*(_pv_power_plant__generic_1_grid_converter1_power_meter1__Pac + _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1) - (-0.9390819440971575)*_pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputQ = 0.030459027951421223*(_pv_power_plant__generic_1_grid_converter1_power_meter1__Qac + _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q) - (-0.9390819440971575)*_pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputP0 = 0.030459027951421223*(_pv_power_plant__generic_1_grid_converter1_power_meter1__P0ac + _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0) - (-0.9390819440971575)*_pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0;

    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1 = _pv_power_plant__generic_1_grid_converter1_power_meter1__Pac;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1 = _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q = _pv_power_plant__generic_1_grid_converter1_power_meter1__Qac;;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q = _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0 = _pv_power_plant__generic_1_grid_converter1_power_meter1__P0ac;
    _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0 = _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputP0;

        _pv_power_plant__generic_1_grid_converter1_power_meter1__Pdc = _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_output;
        _pv_power_plant__generic_1_grid_converter1_power_meter1__Qdc = _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
        _pv_power_plant__generic_1_grid_converter1_power_meter1__P0dc = _pv_power_plant__generic_1_grid_converter1_power_meter1__filter_1_outputP0;

    _pv_power_plant__generic_1_grid_converter1_power_meter1__apparent = sqrt(pow(_pv_power_plant__generic_1_grid_converter1_power_meter1__Pdc,2) + pow(_pv_power_plant__generic_1_grid_converter1_power_meter1__Qdc,2));

    if (_pv_power_plant__generic_1_grid_converter1_power_meter1__apparent > 0)
        _pv_power_plant__generic_1_grid_converter1_power_meter1__k_factor = _pv_power_plant__generic_1_grid_converter1_power_meter1__Pdc / _pv_power_plant__generic_1_grid_converter1_power_meter1__apparent;
    else
        _pv_power_plant__generic_1_grid_converter1_power_meter1__k_factor = 0;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Va RMS
                        

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value;
            if (0)
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value * 1 + _pv_power_plant__generic_1_grid_converter1_vc1_va2__out * 1;
            else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value * 0.1 + _pv_power_plant__generic_1_grid_converter1_vc1_va2__out * 0.9;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer += 0.0001;
            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value >= 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value < 0.0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer >= 0.0) ) {
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc = 1;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0;
            } else
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Termination2
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Ia RMS
                        

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value;
            if (0)
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value * 1 + _variable_load__generic_1_grid_converter1_ia1_ia2__out * 1;
            else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value * 0.1 + _variable_load__generic_1_grid_converter1_ia1_ia2__out * 0.9;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer += 0.0001;
            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__filtered_value >= 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_filtered_value < 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer >= 0.0) ) {
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc = 1;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__db_timer = 0;
            } else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Ia RMS
                        

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value;
            if (0)
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value * 1 + _variable_load__generic_1_grid_converter1_ib1_ia2__out * 1;
            else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value * 0.1 + _variable_load__generic_1_grid_converter1_ib1_ia2__out * 0.9;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer += 0.0001;
            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__filtered_value >= 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_filtered_value < 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer >= 0.0) ) {
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc = 1;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__db_timer = 0;
            } else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Subsystem2.abc to dq1.abc to alpha beta
        	_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha = (2.0*_variable_load__generic_1_grid_converter1_ia_ia2__out - _variable_load__generic_1_grid_converter1_ib_ia2__out - _variable_load__generic_1_grid_converter1_ic_ia2__out)*0.3333333333333333;
	_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta = (_variable_load__generic_1_grid_converter1_ib_ia2__out - _variable_load__generic_1_grid_converter1_ic_ia2__out)*0.5773502691896258;
	_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__gamma = (_variable_load__generic_1_grid_converter1_ia_ia2__out + _variable_load__generic_1_grid_converter1_ib_ia2__out + _variable_load__generic_1_grid_converter1_ic_ia2__out)*0.3333333333333333;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Ia RMS
                        

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value;
            if (0)
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value * 1 + _variable_load__generic_1_grid_converter1_ic1_ia2__out * 1;
            else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value * 0.1 + _variable_load__generic_1_grid_converter1_ic1_ia2__out * 0.9;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer += 0.0001;
            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__filtered_value >= 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_filtered_value < 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer >= 0.0) ) {
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc = 1;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__db_timer = 0;
            } else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.to_Hz
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_to_hz__out = 0.15915494309189535 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.normalize
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in1 = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;

    {
    _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk = ( powf ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in1 , 2.0 ) + powf ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 , 2.0 ) ) ; _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk = sqrt ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk ) ; if ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk < 0.1 )     {
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu = _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 / 0.1 ;
}
 else     {
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu = _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2 / _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk ;
}

}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.to_Hz
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_to_hz__out = 0.15915494309189535 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.normalize
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in1 = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;

    {
    _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk = ( powf ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in1 , 2.0 ) + powf ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 , 2.0 ) ) ; _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk = sqrt ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk ) ; if ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk < 0.1 )     {
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu = _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 / 0.1 ;
}
 else     {
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu = _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2 / _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk ;
}

}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Bus Split3
                     _variable_load__generic_1_grid_converter1_bus_split3__out=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[0];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out1=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[1];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out2=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[2];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out3=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[3];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out4=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[4];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out5=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[5];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out6=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[6];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out7=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[7];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out8=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[8];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out9=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[9];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out10=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[10];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out11=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[11];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out12=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[12];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out13=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[13];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out14=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[14];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out15=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[15];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out16=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[16];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out17=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[17];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out18=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[18];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out19=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[19];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out20=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[20];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out21=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[21];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out22=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[22];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out23=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[23];
 
            _variable_load__generic_1_grid_converter1_bus_split3__out24=_variable_load__generic_1_grid_converter1_rate_transition17_output__out[24];
 

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Degree to radians
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_diff * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_radian__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Degree to radians
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_diff * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_radian__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Degree to radians
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_diff * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_radian__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Va RMS
                        

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value;
            if (0)
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value * 1 + _variable_load__generic_1_grid_converter1_va1_va2__out * 1;
            else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value * 0.1 + _variable_load__generic_1_grid_converter1_va1_va2__out * 0.9;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer += 0.0001;
            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__filtered_value >= 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_filtered_value < 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer >= 0.0) ) {
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc = 1;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__db_timer = 0;
            } else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Va RMS
                        

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value;
            if (0)
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value * 1 + _variable_load__generic_1_grid_converter1_vb1_va2__out * 1;
            else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value * 0.1 + _variable_load__generic_1_grid_converter1_vb1_va2__out * 0.9;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer += 0.0001;
            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__filtered_value >= 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_filtered_value < 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer >= 0.0) ) {
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc = 1;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__db_timer = 0;
            } else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.abc to alpha beta
        	_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_variable_load__generic_1_grid_converter1_va_va2__out - _variable_load__generic_1_grid_converter1_vb_va2__out - _variable_load__generic_1_grid_converter1_vc_va2__out)*0.3333333333333333;
	_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta = (_variable_load__generic_1_grid_converter1_vb_va2__out - _variable_load__generic_1_grid_converter1_vc_va2__out)*0.5773502691896258;
	_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__gamma = (_variable_load__generic_1_grid_converter1_va_va2__out + _variable_load__generic_1_grid_converter1_vb_va2__out + _variable_load__generic_1_grid_converter1_vc_va2__out)*0.3333333333333333;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.abc to alpha beta
        	_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha = (2.0*_variable_load__generic_1_grid_converter1_va1_va2__out - _variable_load__generic_1_grid_converter1_vb1_va2__out - _variable_load__generic_1_grid_converter1_vc1_va2__out)*0.3333333333333333;
	_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta = (_variable_load__generic_1_grid_converter1_vb1_va2__out - _variable_load__generic_1_grid_converter1_vc1_va2__out)*0.5773502691896258;
	_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__gamma = (_variable_load__generic_1_grid_converter1_va1_va2__out + _variable_load__generic_1_grid_converter1_vb1_va2__out + _variable_load__generic_1_grid_converter1_vc1_va2__out)*0.3333333333333333;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Power Meter1
            _variable_load__generic_1_grid_converter1_power_meter1__v_alpha = SQRT_2OVER3*( _variable_load__generic_1_grid_converter1_va1_va2__out - 0.5f* _variable_load__generic_1_grid_converter1_vb1_va2__out - 0.5f* _variable_load__generic_1_grid_converter1_vc1_va2__out);
    _variable_load__generic_1_grid_converter1_power_meter1__v_beta = SQRT_2OVER3*(SQRT3_OVER_2* _variable_load__generic_1_grid_converter1_vb1_va2__out - SQRT3_OVER_2* _variable_load__generic_1_grid_converter1_vc1_va2__out);
    _variable_load__generic_1_grid_converter1_power_meter1__i_alpha = SQRT_2OVER3*( _variable_load__generic_1_grid_converter1_ia1_ia2__out - 0.5f* _variable_load__generic_1_grid_converter1_ib1_ia2__out - 0.5f* _variable_load__generic_1_grid_converter1_ic1_ia2__out);
    _variable_load__generic_1_grid_converter1_power_meter1__i_beta = SQRT_2OVER3*(SQRT3_OVER_2* _variable_load__generic_1_grid_converter1_ib1_ia2__out - SQRT3_OVER_2* _variable_load__generic_1_grid_converter1_ic1_ia2__out);
    _variable_load__generic_1_grid_converter1_power_meter1__v_zero = ONE_DIV_BY_SQRT_3*(_variable_load__generic_1_grid_converter1_va1_va2__out+_variable_load__generic_1_grid_converter1_vb1_va2__out+_variable_load__generic_1_grid_converter1_vc1_va2__out);
    _variable_load__generic_1_grid_converter1_power_meter1__i_zero = ONE_DIV_BY_SQRT_3*(_variable_load__generic_1_grid_converter1_ia1_ia2__out+_variable_load__generic_1_grid_converter1_ib1_ia2__out+_variable_load__generic_1_grid_converter1_ic1_ia2__out);

    _variable_load__generic_1_grid_converter1_power_meter1__Pac = _variable_load__generic_1_grid_converter1_power_meter1__v_alpha*_variable_load__generic_1_grid_converter1_power_meter1__i_alpha + _variable_load__generic_1_grid_converter1_power_meter1__v_beta*_variable_load__generic_1_grid_converter1_power_meter1__i_beta;
    _variable_load__generic_1_grid_converter1_power_meter1__Qac = _variable_load__generic_1_grid_converter1_power_meter1__v_beta*_variable_load__generic_1_grid_converter1_power_meter1__i_alpha - _variable_load__generic_1_grid_converter1_power_meter1__v_alpha*_variable_load__generic_1_grid_converter1_power_meter1__i_beta;
    _variable_load__generic_1_grid_converter1_power_meter1__P0ac = _variable_load__generic_1_grid_converter1_power_meter1__v_zero*_variable_load__generic_1_grid_converter1_power_meter1__i_zero;

    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output = 0.030459027951421223*(_variable_load__generic_1_grid_converter1_power_meter1__Pac + _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1) - (-0.9390819440971575)*_variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputQ = 0.030459027951421223*(_variable_load__generic_1_grid_converter1_power_meter1__Qac + _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q) - (-0.9390819440971575)*_variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputP0 = 0.030459027951421223*(_variable_load__generic_1_grid_converter1_power_meter1__P0ac + _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0) - (-0.9390819440971575)*_variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0;

    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1 = _variable_load__generic_1_grid_converter1_power_meter1__Pac;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1 = _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1Q = _variable_load__generic_1_grid_converter1_power_meter1__Qac;;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1Q = _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_input_k_minus_1P0 = _variable_load__generic_1_grid_converter1_power_meter1__P0ac;
    _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output_k_minus_1P0 = _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputP0;

        _variable_load__generic_1_grid_converter1_power_meter1__Pdc = _variable_load__generic_1_grid_converter1_power_meter1__filter_1_output;
        _variable_load__generic_1_grid_converter1_power_meter1__Qdc = _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputQ;
        _variable_load__generic_1_grid_converter1_power_meter1__P0dc = _variable_load__generic_1_grid_converter1_power_meter1__filter_1_outputP0;

    _variable_load__generic_1_grid_converter1_power_meter1__apparent = sqrt(pow(_variable_load__generic_1_grid_converter1_power_meter1__Pdc,2) + pow(_variable_load__generic_1_grid_converter1_power_meter1__Qdc,2));

    if (_variable_load__generic_1_grid_converter1_power_meter1__apparent > 0)
        _variable_load__generic_1_grid_converter1_power_meter1__k_factor = _variable_load__generic_1_grid_converter1_power_meter1__Pdc / _variable_load__generic_1_grid_converter1_power_meter1__apparent;
    else
        _variable_load__generic_1_grid_converter1_power_meter1__k_factor = 0;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Va RMS
                        

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value;
            if (0)
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value * 1 + _variable_load__generic_1_grid_converter1_vc1_va2__out * 1;
            else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value * 0.1 + _variable_load__generic_1_grid_converter1_vc1_va2__out * 0.9;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer += 0.0001;
            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__filtered_value >= 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_filtered_value < 0.0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer >= 0.0) ) {
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc = 1;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__db_timer = 0;
            } else
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Subsystem2.abc to dq1.alpha beta to dq
                _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1 = cos(_battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);
        _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2 = sin(_battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);

	_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d = _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2*_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha - _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1*_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;
	_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q = _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1*_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha + _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2*_battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Termination4
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Gain10
                    _battery_ess__generic_1_grid_converter1_inverter_control_gain10__out = 0.16666666666666666 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Gain7
                    _battery_ess__generic_1_grid_converter1_inverter_control_gain7__out = 0.7071067811865475 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kd
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Ki
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out = 3200.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kp
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out = 100.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Termination2
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Gain11
                    _battery_ess__generic_1_grid_converter1_inverter_control_gain11__out = 0.7071067811865475 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Kp
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_kp__out = 0.0003280566619798899 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kd
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Ki
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out = 3200.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kp
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out = 100.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Bus Join3
        
	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[0] = _battery_ess__generic_1_grid_converter1_bus_split3__out16;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[1] = _battery_ess__generic_1_grid_converter1_bus_split3__out17;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[2] = _battery_ess__generic_1_grid_converter1_bus_split3__out18;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[3] = _battery_ess__generic_1_grid_converter1_bus_split3__out19;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[4] = _battery_ess__generic_1_grid_converter1_bus_split3__out20;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[5] = _battery_ess__generic_1_grid_converter1_bus_split3__out21;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[6] = _battery_ess__generic_1_grid_converter1_bus_split3__out22;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[7] = _battery_ess__generic_1_grid_converter1_bus_split3__out23;
 	        	_battery_ess__generic_1_grid_converter1_bus_join3__out[8] = _battery_ess__generic_1_grid_converter1_bus_split3__out24;
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Gain9
                    _battery_ess__generic_1_grid_converter1_inverter_control_gain9__out = 1.414213562373095 * _battery_ess__generic_1_grid_converter1_bus_split3__out2;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Limit3
        _battery_ess__generic_1_grid_converter1_inverter_control_limit3__out = MAX(_battery_ess__generic_1_grid_converter1_bus_split3__out3, 0.0);
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Logical operator4
        _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator4__out = !_battery_ess__generic_1_grid_converter1_bus_split3__out1;  

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Product8
        _battery_ess__generic_1_grid_converter1_product8__out = (_battery_ess__generic_1_grid_converter1_bus_split3__out * _battery_ess__generic_1_grid_converter1_fault_state_machine__cb_mask);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.cos
        
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_cos__out = cos(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out);


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.sin
        
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_sin__out = sin(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out);


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.cos
        
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_cos__out = cos(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out);


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.sin
        
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_sin__out = sin(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out);


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.cos
        
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_cos__out = cos(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out);


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.sin
        
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_sin__out = sin(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out);


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.calc S
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_calc_s__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.calc S
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_calc_s__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.alpha beta to dq
                _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1 = cos(_battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out);
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2 = sin(_battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out);

	_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2*_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1*_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;
	_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1*_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha + _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2*_battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.term_zero
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.alpha beta to dq
                _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1 = cos(_battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2 = sin(_battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);

	_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2*_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1*_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;
	_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1*_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha + _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2*_battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.term_zero
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Termination3
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Termination4
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.calc S
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_calc_s__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out);

         // Generated from the component: Grid1.Bus Split1
                     _grid1_bus_split1__out=_grid_ui1_bus_join1__out[0];
 
            _grid1_bus_split1__out1=_grid_ui1_bus_join1__out[1];
 
            _grid1_bus_split1__out2=_grid_ui1_bus_join1__out[2];
 
            _grid1_bus_split1__out3=_grid_ui1_bus_join1__out[3];
 
            _grid1_bus_split1__out4=_grid_ui1_bus_join1__out[4];
 
            _grid1_bus_split1__out5=_grid_ui1_bus_join1__out[5];
 
            _grid1_bus_split1__out6=_grid_ui1_bus_join1__out[6];
 
            _grid1_bus_split1__out7=_grid_ui1_bus_join1__out[7];
 
            _grid1_bus_split1__out8=_grid_ui1_bus_join1__out[8];
 
            _grid1_bus_split1__out9=_grid_ui1_bus_join1__out[9];
 
            _grid1_bus_split1__out10=_grid_ui1_bus_join1__out[10];
 
            _grid1_bus_split1__out11=_grid_ui1_bus_join1__out[11];
 
            _grid1_bus_split1__out12=_grid_ui1_bus_join1__out[12];
 
            _grid1_bus_split1__out13=_grid_ui1_bus_join1__out[13];
 
            _grid1_bus_split1__out14=_grid_ui1_bus_join1__out[14];
 
            _grid1_bus_split1__out15=_grid_ui1_bus_join1__out[15];
 
            _grid1_bus_split1__out16=_grid_ui1_bus_join1__out[16];
 
            _grid1_bus_split1__out17=_grid_ui1_bus_join1__out[17];
 
            _grid1_bus_split1__out18=_grid_ui1_bus_join1__out[18];
 
            _grid1_bus_split1__out19=_grid_ui1_bus_join1__out[19];
 

         // Generated from the component: Grid1.Gain7
                    _grid1_gain7__out = 0.7071067811865475 * _grid1_pll1_normalize__pk;

         // Generated from the component: Grid1.PLL1.PID.Kd
                    _grid1_pll1_pid_kd__out = 1.0 * _grid1_pll1_normalize__in2_pu;

         // Generated from the component: Grid1.PLL1.PID.Ki
                    _grid1_pll1_pid_ki__out = 3200.0 * _grid1_pll1_normalize__in2_pu;

         // Generated from the component: Grid1.PLL1.PID.Kp
                    _grid1_pll1_pid_kp__out = 100.0 * _grid1_pll1_normalize__in2_pu;

         // Generated from the component: Grid1.PLL1.abc to dq.alpha beta to dq
                _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k1 = cos(_grid1_pll1_unit_delay1__out);
        _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k2 = sin(_grid1_pll1_unit_delay1__out);

	_grid1_pll1_abc_to_dq_alpha_beta_to_dq__d = _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k2*_grid1_pll1_abc_to_dq_abc_to_alpha_beta__alpha - _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k1*_grid1_pll1_abc_to_dq_abc_to_alpha_beta__beta;
	_grid1_pll1_abc_to_dq_alpha_beta_to_dq__q = _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k1*_grid1_pll1_abc_to_dq_abc_to_alpha_beta__alpha + _grid1_pll1_abc_to_dq_alpha_beta_to_dq__k2*_grid1_pll1_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: Grid1.PLL1.term_zero
        

         // Generated from the component: Grid1.Gain36
                    _grid1_gain36__out = 0.001 * _grid1_power_meter1__Pac;

         // Generated from the component: Grid1.Gain37
                    _grid1_gain37__out = 0.001 * _grid1_power_meter1__Qac;

         // Generated from the component: Grid1.Gain38
                    _grid1_gain38__out = 0.001 * _grid1_power_meter1__apparent;

         // Generated from the component: Grid1.Termination2
        

         // Generated from the component: Grid1.Termination3
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Subsystem2.abc to dq1.alpha beta to dq
                _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1 = cos(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);
        _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2 = sin(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);

	_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d = _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha - _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q = _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha + _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Termination4
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Gain10
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_gain10__out = 0.16666666666666666 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Gain7
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_gain7__out = 0.7071067811865475 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kd
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Ki
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out = 3200.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kp
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out = 100.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Termination2
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Gain11
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_gain11__out = 0.7071067811865475 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Kp
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_kp__out = 0.0003280566619798899 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kd
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Ki
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out = 3200.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kp
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out = 100.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Bus Join3
        
	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[0] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out16;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[1] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out17;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[2] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out18;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[3] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out19;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[4] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out20;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[5] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out21;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[6] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out22;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[7] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out23;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join3__out[8] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out24;
 
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Gain9
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_gain9__out = 1.414213562373095 * _pv_power_plant__generic_1_grid_converter1_bus_split3__out2;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Limit3
        _pv_power_plant__generic_1_grid_converter1_inverter_control_limit3__out = MAX(_pv_power_plant__generic_1_grid_converter1_bus_split3__out3, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Logical operator4
        _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator4__out = !_pv_power_plant__generic_1_grid_converter1_bus_split3__out1;  

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Product8
        _pv_power_plant__generic_1_grid_converter1_product8__out = (_pv_power_plant__generic_1_grid_converter1_bus_split3__out * _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cb_mask);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.cos
        
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_cos__out = cos(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out);


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.sin
        
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_sin__out = sin(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out);


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.cos
        
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_cos__out = cos(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out);


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.sin
        
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_sin__out = sin(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out);


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.cos
        
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_cos__out = cos(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out);


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.sin
        
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_sin__out = sin(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out);


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.calc S
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_calc_s__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.calc S
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_calc_s__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.alpha beta to dq
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1 = cos(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out);
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2 = sin(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out);

	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha + _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.term_zero
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.alpha beta to dq
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1 = cos(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2 = sin(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);

	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha + _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.term_zero
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Termination3
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Termination4
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.calc S
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_calc_s__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Subsystem2.abc to dq1.alpha beta to dq
                _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1 = cos(_variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);
        _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2 = sin(_variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);

	_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d = _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2*_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha - _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1*_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;
	_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q = _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k1*_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__alpha + _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__k2*_variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_abc_to_alpha_beta__beta;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Termination4
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Gain10
                    _variable_load__generic_1_grid_converter1_inverter_control_gain10__out = 0.16666666666666666 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Gain7
                    _variable_load__generic_1_grid_converter1_inverter_control_gain7__out = 0.7071067811865475 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__pk;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kd
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Ki
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out = 3200.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kp
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out = 100.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_normalize__in2_pu;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Termination2
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Gain11
                    _variable_load__generic_1_grid_converter1_inverter_control_gain11__out = 0.7071067811865475 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Kp
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d_kp__out = 0.0003280566619798899 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kd
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Ki
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out = 3200.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kp
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out = 100.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__in2_pu;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Bus Join3
        
	        	_variable_load__generic_1_grid_converter1_bus_join3__out[0] = _variable_load__generic_1_grid_converter1_bus_split3__out16;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[1] = _variable_load__generic_1_grid_converter1_bus_split3__out17;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[2] = _variable_load__generic_1_grid_converter1_bus_split3__out18;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[3] = _variable_load__generic_1_grid_converter1_bus_split3__out19;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[4] = _variable_load__generic_1_grid_converter1_bus_split3__out20;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[5] = _variable_load__generic_1_grid_converter1_bus_split3__out21;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[6] = _variable_load__generic_1_grid_converter1_bus_split3__out22;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[7] = _variable_load__generic_1_grid_converter1_bus_split3__out23;
 	        	_variable_load__generic_1_grid_converter1_bus_join3__out[8] = _variable_load__generic_1_grid_converter1_bus_split3__out24;
 
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Gain9
                    _variable_load__generic_1_grid_converter1_inverter_control_gain9__out = 1.414213562373095 * _variable_load__generic_1_grid_converter1_bus_split3__out2;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Limit3
        _variable_load__generic_1_grid_converter1_inverter_control_limit3__out = MAX(_variable_load__generic_1_grid_converter1_bus_split3__out3, 0.0);
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Logical operator4
        _variable_load__generic_1_grid_converter1_inverter_control_logical_operator4__out = !_variable_load__generic_1_grid_converter1_bus_split3__out1;  

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Product8
        _variable_load__generic_1_grid_converter1_product8__out = (_variable_load__generic_1_grid_converter1_bus_split3__out * _variable_load__generic_1_grid_converter1_fault_state_machine__cb_mask);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.cos
        
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_cos__out = cos(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out);


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.sin
        
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_sin__out = sin(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_degree_to_radians__out);


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.cos
        
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_cos__out = cos(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out);


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.sin
        
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_sin__out = sin(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_degree_to_radians__out);


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.cos
        
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_cos__out = cos(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out);


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.sin
        
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_sin__out = sin(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_degree_to_radians__out);


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.calc S
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_calc_s__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.calc S
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_calc_s__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.alpha beta to dq
                _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1 = cos(_variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out);
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2 = sin(_variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__out);

	_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2*_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha - _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1*_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;
	_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k1*_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__alpha + _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__k2*_variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.term_zero
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.alpha beta to dq
                _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1 = cos(_variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2 = sin(_variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out);

	_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2*_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha - _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1*_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;
	_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k1*_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__alpha + _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__k2*_variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_abc_to_alpha_beta__beta;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.term_zero
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Termination3
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Termination4
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.calc S
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_calc_s__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Sum7
        _battery_ess__generic_1_grid_converter1_inverter_control_sum7__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d+_battery_ess__generic_1_grid_converter1_bus_split3__out4;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Sum8
        _battery_ess__generic_1_grid_converter1_inverter_control_sum8__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q+_battery_ess__generic_1_grid_converter1_bus_split3__out5;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum8
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out-_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum8
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out-_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Termination5
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Gain8
                    _battery_ess__generic_1_grid_converter1_inverter_control_gain8__out = 6.283185307179586 * _battery_ess__generic_1_grid_converter1_inverter_control_limit3__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Contactor.S1.Triple S1 ideal.CTC_Wrapper
        

        _battery_ess__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = HIL_InInt32(0xf80400);

        if (_battery_ess__generic_1_grid_converter1_product8__out == 0x0){
            HIL_OutInt32(0x8240480, 0x0);
        }
        else{
            HIL_OutInt32(0x8240480, 0x1);
        }

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Logical operator1
        _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator1__out =_battery_ess__generic_1_grid_converter1_product8__out && _battery_ess__generic_1_grid_converter1_bus_split3__out1 ;  

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Logical operator3
        _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out =_battery_ess__generic_1_grid_converter1_product8__out && _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator4__out ;  

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Logical operator5
        _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator5__out = !_battery_ess__generic_1_grid_converter1_product8__out;  

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Pmult
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_pmult__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_cos__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.conjugate
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out = -1.0 * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_sin__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Pmult
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_pmult__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_cos__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.conjugate
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out = -1.0 * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_sin__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Pmult
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_pmult__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_cos__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.conjugate
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out = -1.0 * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_sin__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Sag_meas
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Sbg_meas
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Scg_meas
        

         // Generated from the component: Grid1.Contactor.S1.Triple S1 ideal.CTC_Wrapper
        

        _grid1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = HIL_InInt32(0xf80401);

        if (_grid1_bus_split1__out == 0x0){
            HIL_OutInt32(0x8240481, 0x0);
        }
        else{
            HIL_OutInt32(0x8240481, 0x1);
        }

         // Generated from the component: Grid1.Gain40
                    _grid1_gain40__out = 50.0 * _grid1_bus_split1__out2;

         // Generated from the component: Grid1.Limit1
        _grid1_limit1__out = MAX(_grid1_bus_split1__out1, 0.0);
         // Generated from the component: Grid1.reserved_outs
        
	        	_grid1_reserved_outs__out[0] = _grid1_bus_split1__out3;
 	        	_grid1_reserved_outs__out[1] = _grid1_bus_split1__out4;
 	        	_grid1_reserved_outs__out[2] = _grid1_bus_split1__out5;
 	        	_grid1_reserved_outs__out[3] = _grid1_bus_split1__out6;
 	        	_grid1_reserved_outs__out[4] = _grid1_bus_split1__out7;
 	        	_grid1_reserved_outs__out[5] = _grid1_bus_split1__out8;
 	        	_grid1_reserved_outs__out[6] = _grid1_bus_split1__out9;
 	        	_grid1_reserved_outs__out[7] = _grid1_bus_split1__out10;
 	        	_grid1_reserved_outs__out[8] = _grid1_bus_split1__out11;
 	        	_grid1_reserved_outs__out[9] = _grid1_bus_split1__out12;
 	        	_grid1_reserved_outs__out[10] = _grid1_bus_split1__out13;
 	        	_grid1_reserved_outs__out[11] = _grid1_bus_split1__out14;
 	        	_grid1_reserved_outs__out[12] = _grid1_bus_split1__out15;
 	        	_grid1_reserved_outs__out[13] = _grid1_bus_split1__out16;
 	        	_grid1_reserved_outs__out[14] = _grid1_bus_split1__out17;
 	        	_grid1_reserved_outs__out[15] = _grid1_bus_split1__out18;
 	        	_grid1_reserved_outs__out[16] = _grid1_bus_split1__out19;
 
         // Generated from the component: Grid1.Gain35
                    _grid1_gain35__out = 0.0017320508075688772 * _grid1_gain7__out;

         // Generated from the component: Grid1.PLL1.PID.Sum8
        _grid1_pll1_pid_sum8__out = _grid1_pll1_pid_kd__out-_grid1_pll1_pid_integrator2__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Sum7
        _pv_power_plant__generic_1_grid_converter1_inverter_control_sum7__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d+_pv_power_plant__generic_1_grid_converter1_bus_split3__out4;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Sum8
        _pv_power_plant__generic_1_grid_converter1_inverter_control_sum8__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q+_pv_power_plant__generic_1_grid_converter1_bus_split3__out5;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum8
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out-_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum8
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out-_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Termination5
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Gain8
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_gain8__out = 6.283185307179586 * _pv_power_plant__generic_1_grid_converter1_inverter_control_limit3__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Contactor.S1.Triple S1 ideal.CTC_Wrapper
        

        _pv_power_plant__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = HIL_InInt32(0xf80402);

        if (_pv_power_plant__generic_1_grid_converter1_product8__out == 0x0){
            HIL_OutInt32(0x8240482, 0x0);
        }
        else{
            HIL_OutInt32(0x8240482, 0x1);
        }

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Logical operator1
        _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator1__out =_pv_power_plant__generic_1_grid_converter1_product8__out && _pv_power_plant__generic_1_grid_converter1_bus_split3__out1 ;  

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Logical operator3
        _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out =_pv_power_plant__generic_1_grid_converter1_product8__out && _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator4__out ;  

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Logical operator5
        _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator5__out = !_pv_power_plant__generic_1_grid_converter1_product8__out;  

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Pmult
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_pmult__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_cos__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.conjugate
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out = -1.0 * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_sin__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Pmult
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_pmult__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_cos__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.conjugate
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out = -1.0 * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_sin__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Pmult
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_pmult__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_cos__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.conjugate
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out = -1.0 * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_sin__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Sag_meas
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Sbg_meas
        

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Scg_meas
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Sum7
        _variable_load__generic_1_grid_converter1_inverter_control_sum7__out =  - _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d+_variable_load__generic_1_grid_converter1_bus_split3__out4;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Sum8
        _variable_load__generic_1_grid_converter1_inverter_control_sum8__out =  - _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q+_variable_load__generic_1_grid_converter1_bus_split3__out5;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum8
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kd__out-_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum8
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kd__out-_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Termination5
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Gain8
                    _variable_load__generic_1_grid_converter1_inverter_control_gain8__out = 6.283185307179586 * _variable_load__generic_1_grid_converter1_inverter_control_limit3__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Contactor.S1.Triple S1 ideal.CTC_Wrapper
        

        _variable_load__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out = HIL_InInt32(0xf80403);

        if (_variable_load__generic_1_grid_converter1_product8__out == 0x0){
            HIL_OutInt32(0x8240483, 0x0);
        }
        else{
            HIL_OutInt32(0x8240483, 0x1);
        }

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Logical operator1
        _variable_load__generic_1_grid_converter1_inverter_control_logical_operator1__out =_variable_load__generic_1_grid_converter1_product8__out && _variable_load__generic_1_grid_converter1_bus_split3__out1 ;  

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Logical operator3
        _variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out =_variable_load__generic_1_grid_converter1_product8__out && _variable_load__generic_1_grid_converter1_inverter_control_logical_operator4__out ;  

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Logical operator5
        _variable_load__generic_1_grid_converter1_inverter_control_logical_operator5__out = !_variable_load__generic_1_grid_converter1_product8__out;  

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Pmult
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_pmult__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_cos__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.conjugate
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out = -1.0 * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_sin__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Pmult
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_pmult__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_cos__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.conjugate
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out = -1.0 * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_sin__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Pmult
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_pmult__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_cos__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.conjugate
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out = -1.0 * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_sin__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Sag_meas
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Sbg_meas
        

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Scg_meas
        

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Bus Join4
        
	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join4__out[0] = _battery_ess__generic_1_grid_converter1_inverter_control_sum7__out;
 	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join4__out[1] = _battery_ess__generic_1_grid_converter1_inverter_control_sum8__out;
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Gain1
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out = 628.3185307179587 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Gain1
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out = 628.3185307179587 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.C function4
                    _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta_g = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
            _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_en = _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator1__out;
            _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_ref = _battery_ess__generic_1_grid_converter1_inverter_control_gain8__out;

    {
    if ( _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_en < 0.5 ) _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta = _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta_g + _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_ref * 0.0001 ; else _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta += _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__w_ref * 0.0001 ; _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta = fmod ( _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta , 2 * M_PI ) ; _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__out = _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__teta ;
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Signal switch7
                         _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch7__out = (_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator1__out > 0.5f) ? _battery_ess__generic_1_grid_converter1_inverter_control_gain9__out : _battery_ess__generic_1_grid_converter1_inverter_control_gain10__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Sum9
        _battery_ess__generic_1_grid_converter1_inverter_control_sum9__out = _battery_ess__generic_1_grid_converter1_inverter_control_constant2__out-_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Logical operator6
        _battery_ess__generic_1_grid_converter1_inverter_control_logical_operator6__out =_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator5__out || _battery_ess__generic_1_grid_converter1_bus_split3__out1 ;  

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Qmult
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_qmult__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Qmult
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_qmult__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Qmult
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_qmult__out = (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out * _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out);

         // Generated from the component: Grid1.Limit2
              _grid1_limit2__out = MIN(MAX(_grid1_gain40__out, 0.1), 10000.0);

         // Generated from the component: Grid1.Gain39
                    _grid1_gain39__out = 1385.640646055102 * _grid1_limit1__out;

         // Generated from the component: Grid1.Termination1
        

         // Generated from the component: Grid1.Bus Join2
        
	        	_grid1_bus_join2__out[0] = _grid1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out;
 	        	_grid1_bus_join2__out[1] = _grid1_gain35__out;
 	        	_grid1_bus_join2__out[2] = _grid1_pll1_to_hz__out;
 	        	_grid1_bus_join2__out[3] = _grid1_gain36__out;
 	        	_grid1_bus_join2__out[4] = _grid1_gain37__out;
 	        	_grid1_bus_join2__out[5] = _grid1_gain38__out;
 	        	_grid1_bus_join2__out[6] = _grid1_power_meter1__k_factor;
 	        	_grid1_bus_join2__out[7] = _grid1_reserved_ins__out[0];
 	        	_grid1_bus_join2__out[8] = _grid1_reserved_ins__out[1];
 	        	_grid1_bus_join2__out[9] = _grid1_reserved_ins__out[2];
 	        	_grid1_bus_join2__out[10] = _grid1_reserved_ins__out[3];
 	        	_grid1_bus_join2__out[11] = _grid1_reserved_ins__out[4];
 	        	_grid1_bus_join2__out[12] = _grid1_reserved_ins__out[5];
 	        	_grid1_bus_join2__out[13] = _grid1_reserved_ins__out[6];
 	        	_grid1_bus_join2__out[14] = _grid1_reserved_ins__out[7];
 	        	_grid1_bus_join2__out[15] = _grid1_reserved_ins__out[8];
 	        	_grid1_bus_join2__out[16] = _grid1_reserved_ins__out[9];
 	        	_grid1_bus_join2__out[17] = _grid1_reserved_ins__out[10];
 	        	_grid1_bus_join2__out[18] = _grid1_reserved_ins__out[11];
 	        	_grid1_bus_join2__out[19] = _grid1_reserved_ins__out[12];
 
         // Generated from the component: Grid1.PLL1.PID.Gain1
                    _grid1_pll1_pid_gain1__out = 628.3185307179587 * _grid1_pll1_pid_sum8__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Bus Join4
        
	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join4__out[0] = _pv_power_plant__generic_1_grid_converter1_inverter_control_sum7__out;
 	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join4__out[1] = _pv_power_plant__generic_1_grid_converter1_inverter_control_sum8__out;
 
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Gain1
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out = 628.3185307179587 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Gain1
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out = 628.3185307179587 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.C function4
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta_g = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_en = _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator1__out;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_ref = _pv_power_plant__generic_1_grid_converter1_inverter_control_gain8__out;

    {
    if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_en < 0.5 ) _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta = _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta_g + _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_ref * 0.0001 ; else _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta += _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__w_ref * 0.0001 ; _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta = fmod ( _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta , 2 * M_PI ) ; _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__teta ;
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Signal switch7
                         _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch7__out = (_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator1__out > 0.5f) ? _pv_power_plant__generic_1_grid_converter1_inverter_control_gain9__out : _pv_power_plant__generic_1_grid_converter1_inverter_control_gain10__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Sum9
        _pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_constant2__out-_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Logical operator6
        _pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator6__out =_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator5__out || _pv_power_plant__generic_1_grid_converter1_bus_split3__out1 ;  

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Qmult
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_qmult__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Qmult
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_qmult__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Qmult
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_qmult__out = (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out * _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Bus Join4
        
	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join4__out[0] = _variable_load__generic_1_grid_converter1_inverter_control_sum7__out;
 	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join4__out[1] = _variable_load__generic_1_grid_converter1_inverter_control_sum8__out;
 
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Gain1
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out = 628.3185307179587 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum8__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Gain1
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out = 628.3185307179587 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum8__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.C function4
                    _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta_g = _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
            _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_en = _variable_load__generic_1_grid_converter1_inverter_control_logical_operator1__out;
            _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_ref = _variable_load__generic_1_grid_converter1_inverter_control_gain8__out;

    {
    if ( _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_en < 0.5 ) _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta = _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta_g + _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_ref * 0.0001 ; else _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta += _variable_load__generic_1_grid_converter1_inverter_control_c_function4__w_ref * 0.0001 ; _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta = fmod ( _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta , 2 * M_PI ) ; _variable_load__generic_1_grid_converter1_inverter_control_c_function4__out = _variable_load__generic_1_grid_converter1_inverter_control_c_function4__teta ;
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Signal switch7
                         _variable_load__generic_1_grid_converter1_inverter_control_signal_switch7__out = (_variable_load__generic_1_grid_converter1_inverter_control_logical_operator1__out > 0.5f) ? _variable_load__generic_1_grid_converter1_inverter_control_gain9__out : _variable_load__generic_1_grid_converter1_inverter_control_gain10__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Sum9
        _variable_load__generic_1_grid_converter1_inverter_control_sum9__out = _variable_load__generic_1_grid_converter1_inverter_control_constant2__out-_variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Logical operator6
        _variable_load__generic_1_grid_converter1_inverter_control_logical_operator6__out =_variable_load__generic_1_grid_converter1_inverter_control_logical_operator5__out || _variable_load__generic_1_grid_converter1_bus_split3__out1 ;  

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Qmult
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_qmult__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter1_conjugate__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Qmult
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_qmult__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter2_conjugate__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Qmult
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_qmult__out = (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out * _variable_load__generic_1_grid_converter1_single_phase_power_meter3_conjugate__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Signal switch2
                          _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch2__out[0] = (_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _battery_ess__generic_1_grid_converter1_inverter_control_bus_join4__out[0] : _battery_ess__generic_1_grid_converter1_inverter_control_constant1__out[0];
            _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch2__out[1] = (_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _battery_ess__generic_1_grid_converter1_inverter_control_bus_join4__out[1] : _battery_ess__generic_1_grid_converter1_inverter_control_constant1__out[1];

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum5
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum5
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Signal switch12
                         _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch12__out = (_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out : _battery_ess__generic_1_grid_converter1_inverter_control_c_function4__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Sum1
        _battery_ess__generic_1_grid_converter1_inverter_control_sum1__out = _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch7__out-_battery_ess__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Integrator1
                 

    if (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic == 1){
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state =  _battery_ess__generic_1_grid_converter1_inverter_control_constant3__out;

        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic = 0;
    }
if (((_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out > 0.0) && (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state <= 0)) || ((_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out <= 0.0) && (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state == 1))) {_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state =  _battery_ess__generic_1_grid_converter1_inverter_control_constant3__out;
                }        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Sum11
        _battery_ess__generic_1_grid_converter1_inverter_control_sum11__out = _battery_ess__generic_1_grid_converter1_inverter_control_constant8__out-_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator6__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Bus Join2
        
	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[0] = _battery_ess__generic_1_grid_converter1_bus_split3__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[1] = _battery_ess__generic_1_grid_converter1_power_meter1__Pac;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[2] = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_pmult__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[3] = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_pmult__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[4] = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_pmult__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[5] = _battery_ess__generic_1_grid_converter1_power_meter1__Qac;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[6] = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_qmult__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[7] = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_qmult__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[8] = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_qmult__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[9] = _battery_ess__generic_1_grid_converter1_power_meter1__apparent;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[10] = _battery_ess__generic_1_grid_converter1_power_meter1__k_factor;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[11] = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[12] = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[13] = _battery_ess__generic_1_grid_converter1_inverter_control_gain7__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[14] = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[15] = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[16] = _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[17] = _battery_ess__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[18] = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[19] = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[20] = _battery_ess__generic_1_grid_converter1_inverter_control_gain11__out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[21] = _battery_ess__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[22] = _battery_ess__generic_1_grid_converter1_fault_state_machine__fault;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[23] = _battery_ess__generic_1_grid_converter1_fault_state_machine__fault_msg;
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[24] = _battery_ess__generic_1_grid_converter1_constant2__out[0];
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[25] = _battery_ess__generic_1_grid_converter1_constant2__out[1];
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[26] = _battery_ess__generic_1_grid_converter1_constant2__out[2];
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[27] = _battery_ess__generic_1_grid_converter1_constant2__out[3];
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[28] = _battery_ess__generic_1_grid_converter1_constant2__out[4];
 	        	_battery_ess__generic_1_grid_converter1_bus_join2__out[29] = _battery_ess__generic_1_grid_converter1_constant2__out[5];
 
         // Generated from the component: Grid1.Vsp_sin1.Limit2
              _grid1_vsp_sin1_limit2__out = MIN(MAX(_grid1_limit2__out, 0.1), 10000.0);

         // Generated from the component: Grid1.Vsp_sin2.Limit2
              _grid1_vsp_sin2_limit2__out = MIN(MAX(_grid1_limit2__out, 0.1), 10000.0);

         // Generated from the component: Grid1.Vsp_sin3.Limit2
              _grid1_vsp_sin3_limit2__out = MIN(MAX(_grid1_limit2__out, 0.1), 10000.0);

         // Generated from the component: Grid1.Vsp_sin1.Limit1
        _grid1_vsp_sin1_limit1__out = MAX(_grid1_gain39__out, 0.0);
         // Generated from the component: Grid1.Vsp_sin2.Limit1
        _grid1_vsp_sin2_limit1__out = MAX(_grid1_gain39__out, 0.0);
         // Generated from the component: Grid1.Vsp_sin3.Limit1
        _grid1_vsp_sin3_limit1__out = MAX(_grid1_gain39__out, 0.0);
         // Generated from the component: Grid UI1.Bus Split1
                     _grid_ui1_bus_split1__out=_grid1_bus_join2__out[0];
 
            _grid_ui1_bus_split1__out1=_grid1_bus_join2__out[1];
 
            _grid_ui1_bus_split1__out2=_grid1_bus_join2__out[2];
 
            _grid_ui1_bus_split1__out3=_grid1_bus_join2__out[3];
 
            _grid_ui1_bus_split1__out4=_grid1_bus_join2__out[4];
 
            _grid_ui1_bus_split1__out5=_grid1_bus_join2__out[5];
 
            _grid_ui1_bus_split1__out6=_grid1_bus_join2__out[6];
 
            _grid_ui1_bus_split1__out7=_grid1_bus_join2__out[7];
 
            _grid_ui1_bus_split1__out8=_grid1_bus_join2__out[8];
 
            _grid_ui1_bus_split1__out9=_grid1_bus_join2__out[9];
 
            _grid_ui1_bus_split1__out10=_grid1_bus_join2__out[10];
 
            _grid_ui1_bus_split1__out11=_grid1_bus_join2__out[11];
 
            _grid_ui1_bus_split1__out12=_grid1_bus_join2__out[12];
 
            _grid_ui1_bus_split1__out13=_grid1_bus_join2__out[13];
 
            _grid_ui1_bus_split1__out14=_grid1_bus_join2__out[14];
 
            _grid_ui1_bus_split1__out15=_grid1_bus_join2__out[15];
 
            _grid_ui1_bus_split1__out16=_grid1_bus_join2__out[16];
 
            _grid_ui1_bus_split1__out17=_grid1_bus_join2__out[17];
 
            _grid_ui1_bus_split1__out18=_grid1_bus_join2__out[18];
 
            _grid_ui1_bus_split1__out19=_grid1_bus_join2__out[19];
 

         // Generated from the component: Grid1.PLL1.PID.Sum5
        _grid1_pll1_pid_sum5__out = _grid1_pll1_pid_kp__out+_grid1_pll1_pid_gain1__out+_grid1_pll1_pid_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Signal switch2
                          _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch2__out[0] = (_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join4__out[0] : _pv_power_plant__generic_1_grid_converter1_inverter_control_constant1__out[0];
            _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch2__out[1] = (_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join4__out[1] : _pv_power_plant__generic_1_grid_converter1_inverter_control_constant1__out[1];

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum5
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum5
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Signal switch12
                         _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch12__out = (_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out : _pv_power_plant__generic_1_grid_converter1_inverter_control_c_function4__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Sum1
        _pv_power_plant__generic_1_grid_converter1_inverter_control_sum1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch7__out-_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Integrator1
                 

    if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic == 1){
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state =  _pv_power_plant__generic_1_grid_converter1_inverter_control_constant3__out;

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic = 0;
    }
if (((_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out > 0.0) && (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state <= 0)) || ((_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out <= 0.0) && (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state == 1))) {_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state =  _pv_power_plant__generic_1_grid_converter1_inverter_control_constant3__out;
                }        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Sum11
        _pv_power_plant__generic_1_grid_converter1_inverter_control_sum11__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_constant8__out-_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator6__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Bus Join2
        
	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[0] = _pv_power_plant__generic_1_grid_converter1_bus_split3__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[1] = _pv_power_plant__generic_1_grid_converter1_power_meter1__Pac;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[2] = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_pmult__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[3] = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_pmult__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[4] = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_pmult__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[5] = _pv_power_plant__generic_1_grid_converter1_power_meter1__Qac;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[6] = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_qmult__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[7] = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_qmult__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[8] = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_qmult__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[9] = _pv_power_plant__generic_1_grid_converter1_power_meter1__apparent;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[10] = _pv_power_plant__generic_1_grid_converter1_power_meter1__k_factor;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[11] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[12] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[13] = _pv_power_plant__generic_1_grid_converter1_inverter_control_gain7__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[14] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[15] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[16] = _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[17] = _pv_power_plant__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[18] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[19] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[20] = _pv_power_plant__generic_1_grid_converter1_inverter_control_gain11__out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[21] = _pv_power_plant__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[22] = _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[23] = _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault_msg;
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[24] = _pv_power_plant__generic_1_grid_converter1_constant2__out[0];
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[25] = _pv_power_plant__generic_1_grid_converter1_constant2__out[1];
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[26] = _pv_power_plant__generic_1_grid_converter1_constant2__out[2];
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[27] = _pv_power_plant__generic_1_grid_converter1_constant2__out[3];
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[28] = _pv_power_plant__generic_1_grid_converter1_constant2__out[4];
 	        	_pv_power_plant__generic_1_grid_converter1_bus_join2__out[29] = _pv_power_plant__generic_1_grid_converter1_constant2__out[5];
 
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Signal switch2
                          _variable_load__generic_1_grid_converter1_inverter_control_signal_switch2__out[0] = (_variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _variable_load__generic_1_grid_converter1_inverter_control_bus_join4__out[0] : _variable_load__generic_1_grid_converter1_inverter_control_constant1__out[0];
            _variable_load__generic_1_grid_converter1_inverter_control_signal_switch2__out[1] = (_variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _variable_load__generic_1_grid_converter1_inverter_control_bus_join4__out[1] : _variable_load__generic_1_grid_converter1_inverter_control_constant1__out[1];

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum5
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kp__out+_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out+_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum5
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kp__out+_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out+_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Signal switch12
                         _variable_load__generic_1_grid_converter1_inverter_control_signal_switch12__out = (_variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out : _variable_load__generic_1_grid_converter1_inverter_control_c_function4__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Sum1
        _variable_load__generic_1_grid_converter1_inverter_control_sum1__out = _variable_load__generic_1_grid_converter1_inverter_control_signal_switch7__out-_variable_load__generic_1_grid_converter1_inverter_control_pll2_normalize__pk;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Integrator1
                 

    if (_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic == 1){
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state =  _variable_load__generic_1_grid_converter1_inverter_control_constant3__out;

        _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__load_ic = 0;
    }
if (((_variable_load__generic_1_grid_converter1_inverter_control_sum9__out > 0.0) && (_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state <= 0)) || ((_variable_load__generic_1_grid_converter1_inverter_control_sum9__out <= 0.0) && (_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state == 1))) {_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state =  _variable_load__generic_1_grid_converter1_inverter_control_constant3__out;
                }        _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Sum11
        _variable_load__generic_1_grid_converter1_inverter_control_sum11__out = _variable_load__generic_1_grid_converter1_inverter_control_constant8__out-_variable_load__generic_1_grid_converter1_inverter_control_logical_operator6__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Bus Join2
        
	        	_variable_load__generic_1_grid_converter1_bus_join2__out[0] = _variable_load__generic_1_grid_converter1_bus_split3__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[1] = _variable_load__generic_1_grid_converter1_power_meter1__Pac;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[2] = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_pmult__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[3] = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_pmult__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[4] = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_pmult__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[5] = _variable_load__generic_1_grid_converter1_power_meter1__Qac;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[6] = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_qmult__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[7] = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_qmult__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[8] = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_qmult__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[9] = _variable_load__generic_1_grid_converter1_power_meter1__apparent;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[10] = _variable_load__generic_1_grid_converter1_power_meter1__k_factor;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[11] = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[12] = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[13] = _variable_load__generic_1_grid_converter1_inverter_control_gain7__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[14] = _variable_load__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[15] = _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[16] = _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__d;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[17] = _variable_load__generic_1_grid_converter1_inverter_control_subsystem2_abc_to_dq1_alpha_beta_to_dq__q;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[18] = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[19] = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[20] = _variable_load__generic_1_grid_converter1_inverter_control_gain11__out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[21] = _variable_load__generic_1_grid_converter1_contactor_s1_triple_s1_ideal_ctc_wrapper__feedback_out;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[22] = _variable_load__generic_1_grid_converter1_fault_state_machine__fault;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[23] = _variable_load__generic_1_grid_converter1_fault_state_machine__fault_msg;
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[24] = _variable_load__generic_1_grid_converter1_constant2__out[0];
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[25] = _variable_load__generic_1_grid_converter1_constant2__out[1];
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[26] = _variable_load__generic_1_grid_converter1_constant2__out[2];
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[27] = _variable_load__generic_1_grid_converter1_constant2__out[3];
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[28] = _variable_load__generic_1_grid_converter1_constant2__out[4];
 	        	_variable_load__generic_1_grid_converter1_bus_join2__out[29] = _variable_load__generic_1_grid_converter1_constant2__out[5];
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Bus Split2
                     _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out=_battery_ess__generic_1_grid_converter1_inverter_control_signal_switch2__out[0];
 
            _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out1=_battery_ess__generic_1_grid_converter1_inverter_control_signal_switch2__out[1];
 

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Limit1
              _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out = MIN(MAX(_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Limit1
              _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out = MIN(MAX(_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Ki
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_ki__out = 2.187044413199266 * _battery_ess__generic_1_grid_converter1_inverter_control_sum1__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Integrator1
                 

    if (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic == 1){
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state =  _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__out;

        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic = 0;
    }
if ((_battery_ess__generic_1_grid_converter1_inverter_control_sum11__out <= 0.0) && (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state == 1)) {_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state =  _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__out;
                }        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Rate Transition15.Input
        _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[0] = _battery_ess__generic_1_grid_converter1_bus_join2__out[0];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[1] = _battery_ess__generic_1_grid_converter1_bus_join2__out[1];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[2] = _battery_ess__generic_1_grid_converter1_bus_join2__out[2];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[3] = _battery_ess__generic_1_grid_converter1_bus_join2__out[3];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[4] = _battery_ess__generic_1_grid_converter1_bus_join2__out[4];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[5] = _battery_ess__generic_1_grid_converter1_bus_join2__out[5];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[6] = _battery_ess__generic_1_grid_converter1_bus_join2__out[6];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[7] = _battery_ess__generic_1_grid_converter1_bus_join2__out[7];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[8] = _battery_ess__generic_1_grid_converter1_bus_join2__out[8];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[9] = _battery_ess__generic_1_grid_converter1_bus_join2__out[9];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[10] = _battery_ess__generic_1_grid_converter1_bus_join2__out[10];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[11] = _battery_ess__generic_1_grid_converter1_bus_join2__out[11];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[12] = _battery_ess__generic_1_grid_converter1_bus_join2__out[12];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[13] = _battery_ess__generic_1_grid_converter1_bus_join2__out[13];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[14] = _battery_ess__generic_1_grid_converter1_bus_join2__out[14];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[15] = _battery_ess__generic_1_grid_converter1_bus_join2__out[15];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[16] = _battery_ess__generic_1_grid_converter1_bus_join2__out[16];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[17] = _battery_ess__generic_1_grid_converter1_bus_join2__out[17];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[18] = _battery_ess__generic_1_grid_converter1_bus_join2__out[18];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[19] = _battery_ess__generic_1_grid_converter1_bus_join2__out[19];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[20] = _battery_ess__generic_1_grid_converter1_bus_join2__out[20];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[21] = _battery_ess__generic_1_grid_converter1_bus_join2__out[21];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[22] = _battery_ess__generic_1_grid_converter1_bus_join2__out[22];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[23] = _battery_ess__generic_1_grid_converter1_bus_join2__out[23];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[24] = _battery_ess__generic_1_grid_converter1_bus_join2__out[24];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[25] = _battery_ess__generic_1_grid_converter1_bus_join2__out[25];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[26] = _battery_ess__generic_1_grid_converter1_bus_join2__out[26];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[27] = _battery_ess__generic_1_grid_converter1_bus_join2__out[27];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[28] = _battery_ess__generic_1_grid_converter1_bus_join2__out[28];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[29] = _battery_ess__generic_1_grid_converter1_bus_join2__out[29];
         // Generated from the component: Grid1.Vsp_sin1.tdf_sg_ctrl_sine1
        

               


    // calculate and write SG parameters
    X_UnInt32 _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i;
    _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sg_update_value = 0;

    for (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i=0; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i<1; _grid1_vsp_sin1_tdf_sg_ctrl_sine1__i++){
        // calculate amplitude
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__gain= _grid1_vsp_sin1_limit1__out * M_SQRT2;
        // calculate period
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__period = 1.0f/_grid1_vsp_sin1_limit2__out;
        // calculate sample_cnt increment value
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_real= _grid1_vsp_sin1_tdf_sg_ctrl_sine1__max_int40 / (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__period/2e-06);
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_lo = (X_UnInt32)(fmod(_grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_real, _grid1_vsp_sin1_tdf_sg_ctrl_sine1__max_int32));
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_hi = (X_UnInt32)(_grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_real / _grid1_vsp_sin1_tdf_sg_ctrl_sine1__max_int32);
        //calculate offset for each channel
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__shift = (double)(_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i) * 0.0;
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__phase_pu = fmod((_grid1_ph_a_ph__out/360.0f + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__shift/(2.0f * M_PI)),1.0f);
        if (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__phase_pu < 0.0f) {
            _grid1_vsp_sin1_tdf_sg_ctrl_sine1__phase_pu = _grid1_vsp_sin1_tdf_sg_ctrl_sine1__phase_pu + 1.0f;
        }
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__offset = (_grid1_vsp_sin1_tdf_sg_ctrl_sine1__max_int32 * _grid1_vsp_sin1_tdf_sg_ctrl_sine1__phase_pu);  // offset in SP
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__offset_uint = (X_UnInt32)_grid1_vsp_sin1_tdf_sg_ctrl_sine1__offset;  // offset in fp32
        // write parameters
        HIL_OutFloat(0x400200 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], (float) _grid1_vsp_sin1_tdf_sg_ctrl_sine1__gain);
        HIL_OutInt32(0x400180 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin1_tdf_sg_ctrl_sine1__offset_uint); // offset in fp32
        HIL_OutInt32(0x400000 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_lo);
        HIL_OutInt32(0x400280 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sample_cnt_inc_hi);
        HIL_OutFloat(0x400100 + _grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i], (float) _grid1_vsp_sin1_tdf_sg_ctrl_sine1__no_of_points);
        _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sg_update_value += 1<<_grid1_vsp_sin1_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin1_tdf_sg_ctrl_sine1__i];
    }
    HIL_OutInt32(0x400080, _grid1_vsp_sin1_tdf_sg_ctrl_sine1__sg_update_value);  // update SG parameters for all channels

         // Generated from the component: Grid1.Vsp_sin2.tdf_sg_ctrl_sine1
        

               


    // calculate and write SG parameters
    X_UnInt32 _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i;
    _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sg_update_value = 0;

    for (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i=0; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i<1; _grid1_vsp_sin2_tdf_sg_ctrl_sine1__i++){
        // calculate amplitude
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__gain= _grid1_vsp_sin2_limit1__out * M_SQRT2;
        // calculate period
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__period = 1.0f/_grid1_vsp_sin2_limit2__out;
        // calculate sample_cnt increment value
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_real= _grid1_vsp_sin2_tdf_sg_ctrl_sine1__max_int40 / (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__period/2e-06);
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_lo = (X_UnInt32)(fmod(_grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_real, _grid1_vsp_sin2_tdf_sg_ctrl_sine1__max_int32));
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_hi = (X_UnInt32)(_grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_real / _grid1_vsp_sin2_tdf_sg_ctrl_sine1__max_int32);
        //calculate offset for each channel
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__shift = (double)(_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i) * 0.0;
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__phase_pu = fmod((_grid1_ph_b_ph__out/360.0f + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__shift/(2.0f * M_PI)),1.0f);
        if (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__phase_pu < 0.0f) {
            _grid1_vsp_sin2_tdf_sg_ctrl_sine1__phase_pu = _grid1_vsp_sin2_tdf_sg_ctrl_sine1__phase_pu + 1.0f;
        }
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__offset = (_grid1_vsp_sin2_tdf_sg_ctrl_sine1__max_int32 * _grid1_vsp_sin2_tdf_sg_ctrl_sine1__phase_pu);  // offset in SP
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__offset_uint = (X_UnInt32)_grid1_vsp_sin2_tdf_sg_ctrl_sine1__offset;  // offset in fp32
        // write parameters
        HIL_OutFloat(0x400200 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], (float) _grid1_vsp_sin2_tdf_sg_ctrl_sine1__gain);
        HIL_OutInt32(0x400180 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin2_tdf_sg_ctrl_sine1__offset_uint); // offset in fp32
        HIL_OutInt32(0x400000 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_lo);
        HIL_OutInt32(0x400280 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sample_cnt_inc_hi);
        HIL_OutFloat(0x400100 + _grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i], (float) _grid1_vsp_sin2_tdf_sg_ctrl_sine1__no_of_points);
        _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sg_update_value += 1<<_grid1_vsp_sin2_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin2_tdf_sg_ctrl_sine1__i];
    }
    HIL_OutInt32(0x400080, _grid1_vsp_sin2_tdf_sg_ctrl_sine1__sg_update_value);  // update SG parameters for all channels

         // Generated from the component: Grid1.Vsp_sin3.tdf_sg_ctrl_sine1
        

               


    // calculate and write SG parameters
    X_UnInt32 _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i;
    _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sg_update_value = 0;

    for (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i=0; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i<1; _grid1_vsp_sin3_tdf_sg_ctrl_sine1__i++){
        // calculate amplitude
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__gain= _grid1_vsp_sin3_limit1__out * M_SQRT2;
        // calculate period
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__period = 1.0f/_grid1_vsp_sin3_limit2__out;
        // calculate sample_cnt increment value
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_real= _grid1_vsp_sin3_tdf_sg_ctrl_sine1__max_int40 / (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__period/2e-06);
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_lo = (X_UnInt32)(fmod(_grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_real, _grid1_vsp_sin3_tdf_sg_ctrl_sine1__max_int32));
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_hi = (X_UnInt32)(_grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_real / _grid1_vsp_sin3_tdf_sg_ctrl_sine1__max_int32);
        //calculate offset for each channel
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__shift = (double)(_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i) * 0.0;
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__phase_pu = fmod((_grid1_ph_c_ph__out/360.0f + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__shift/(2.0f * M_PI)),1.0f);
        if (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__phase_pu < 0.0f) {
            _grid1_vsp_sin3_tdf_sg_ctrl_sine1__phase_pu = _grid1_vsp_sin3_tdf_sg_ctrl_sine1__phase_pu + 1.0f;
        }
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__offset = (_grid1_vsp_sin3_tdf_sg_ctrl_sine1__max_int32 * _grid1_vsp_sin3_tdf_sg_ctrl_sine1__phase_pu);  // offset in SP
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__offset_uint = (X_UnInt32)_grid1_vsp_sin3_tdf_sg_ctrl_sine1__offset;  // offset in fp32
        // write parameters
        HIL_OutFloat(0x400200 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], (float) _grid1_vsp_sin3_tdf_sg_ctrl_sine1__gain);
        HIL_OutInt32(0x400180 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin3_tdf_sg_ctrl_sine1__offset_uint); // offset in fp32
        HIL_OutInt32(0x400000 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_lo);
        HIL_OutInt32(0x400280 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sample_cnt_inc_hi);
        HIL_OutFloat(0x400100 + _grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i], (float) _grid1_vsp_sin3_tdf_sg_ctrl_sine1__no_of_points);
        _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sg_update_value += 1<<_grid1_vsp_sin3_tdf_sg_ctrl_sine1__channels[_grid1_vsp_sin3_tdf_sg_ctrl_sine1__i];
    }
    HIL_OutInt32(0x400080, _grid1_vsp_sin3_tdf_sg_ctrl_sine1__sg_update_value);  // update SG parameters for all channels

         // Generated from the component: Grid UI1.Connect_fb
            HIL_OutAO(0x4021, (float)_grid_ui1_bus_split1__out);

         // Generated from the component: Grid UI1.Fmeas_Hz
            HIL_OutAO(0x4022, (float)_grid_ui1_bus_split1__out2);

      _grid_ui1_fmeas_hz__in = _grid_ui1_bus_split1__out2;
      sp_scope_buff_addr_cpu0_er0_dev0 = sp_scope_buff_start_addr_cpu0_er0_dev0 + sp_scope_buff_index_cpu0_er0_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er0_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er0_dev0, sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_fmeas_hz__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er0_dev0, &_grid_ui1_fmeas_hz__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_fmeas_hz__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er0_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er0_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er0_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_fmeas_hz__in);
      sp_scope_buff_index_cpu0_er0_dev0 = (sp_scope_buff_index_cpu0_er0_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Grid UI1.PFmeas
            HIL_OutAO(0x4023, (float)_grid_ui1_bus_split1__out6);

         // Generated from the component: Grid UI1.Pmeas_kW
            HIL_OutAO(0x4024, (float)_grid_ui1_bus_split1__out3);

      _grid_ui1_pmeas_kw__in = _grid_ui1_bus_split1__out3;
      sp_scope_buff_addr_cpu0_er0_dev0 = sp_scope_buff_start_addr_cpu0_er0_dev0 + sp_scope_buff_index_cpu0_er0_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er0_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er0_dev0, sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_pmeas_kw__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er0_dev0, &_grid_ui1_pmeas_kw__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_pmeas_kw__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er0_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er0_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er0_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_pmeas_kw__in);
      sp_scope_buff_index_cpu0_er0_dev0 = (sp_scope_buff_index_cpu0_er0_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Grid UI1.Qmeas_kVAr
            HIL_OutAO(0x4025, (float)_grid_ui1_bus_split1__out4);

      _grid_ui1_qmeas_kvar__in = _grid_ui1_bus_split1__out4;
      sp_scope_buff_addr_cpu0_er0_dev0 = sp_scope_buff_start_addr_cpu0_er0_dev0 + sp_scope_buff_index_cpu0_er0_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er0_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er0_dev0, sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_qmeas_kvar__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er0_dev0, &_grid_ui1_qmeas_kvar__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_qmeas_kvar__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er0_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er0_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er0_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er0_dev0, _grid_ui1_qmeas_kvar__in);
      sp_scope_buff_index_cpu0_er0_dev0 = (sp_scope_buff_index_cpu0_er0_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Grid UI1.Smeas_kVA
            HIL_OutAO(0x4026, (float)_grid_ui1_bus_split1__out5);

         // Generated from the component: Grid UI1.Vrms_meas_kV
            HIL_OutAO(0x4027, (float)_grid_ui1_bus_split1__out1);

         // Generated from the component: Grid UI1.reserved_ins
        
	        	_grid_ui1_reserved_ins__out[0] = _grid_ui1_bus_split1__out7;
 	        	_grid_ui1_reserved_ins__out[1] = _grid_ui1_bus_split1__out8;
 	        	_grid_ui1_reserved_ins__out[2] = _grid_ui1_bus_split1__out9;
 	        	_grid_ui1_reserved_ins__out[3] = _grid_ui1_bus_split1__out10;
 	        	_grid_ui1_reserved_ins__out[4] = _grid_ui1_bus_split1__out11;
 	        	_grid_ui1_reserved_ins__out[5] = _grid_ui1_bus_split1__out12;
 	        	_grid_ui1_reserved_ins__out[6] = _grid_ui1_bus_split1__out13;
 	        	_grid_ui1_reserved_ins__out[7] = _grid_ui1_bus_split1__out14;
 	        	_grid_ui1_reserved_ins__out[8] = _grid_ui1_bus_split1__out15;
 	        	_grid_ui1_reserved_ins__out[9] = _grid_ui1_bus_split1__out16;
 	        	_grid_ui1_reserved_ins__out[10] = _grid_ui1_bus_split1__out17;
 	        	_grid_ui1_reserved_ins__out[11] = _grid_ui1_bus_split1__out18;
 	        	_grid_ui1_reserved_ins__out[12] = _grid_ui1_bus_split1__out19;
 
         // Generated from the component: Grid1.PLL1.PID.Limit1
              _grid1_pll1_pid_limit1__out = MIN(MAX(_grid1_pll1_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Bus Split2
                     _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out=_pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch2__out[0];
 
            _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out1=_pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch2__out[1];
 

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Limit1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out = MIN(MAX(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Limit1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out = MIN(MAX(_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Ki
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_ki__out = 2.187044413199266 * _pv_power_plant__generic_1_grid_converter1_inverter_control_sum1__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Integrator1
                 

    if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic == 1){
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state =  _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__out;

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic = 0;
    }
if ((_pv_power_plant__generic_1_grid_converter1_inverter_control_sum11__out <= 0.0) && (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state == 1)) {_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state =  _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__out;
                }        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Rate Transition15.Input
        _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[0] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[0];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[1] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[1];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[2] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[2];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[3] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[3];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[4] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[4];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[5] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[5];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[6] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[6];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[7] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[7];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[8] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[8];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[9] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[9];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[10] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[10];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[11] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[11];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[12] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[12];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[13] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[13];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[14] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[14];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[15] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[15];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[16] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[16];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[17] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[17];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[18] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[18];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[19] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[19];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[20] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[20];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[21] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[21];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[22] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[22];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[23] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[23];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[24] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[24];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[25] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[25];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[26] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[26];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[27] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[27];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[28] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[28];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[29] = _pv_power_plant__generic_1_grid_converter1_bus_join2__out[29];
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Bus Split2
                     _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out=_variable_load__generic_1_grid_converter1_inverter_control_signal_switch2__out[0];
 
            _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out1=_variable_load__generic_1_grid_converter1_inverter_control_signal_switch2__out[1];
 

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Limit1
              _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out = MIN(MAX(_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Limit1
              _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out = MIN(MAX(_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out, -471.23889803846896), 471.23889803846896);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Ki
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d_ki__out = 2.187044413199266 * _variable_load__generic_1_grid_converter1_inverter_control_sum1__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Integrator1
                 

    if (_variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic == 1){
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state =  _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__out;

        _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__load_ic = 0;
    }
if ((_variable_load__generic_1_grid_converter1_inverter_control_sum11__out <= 0.0) && (_variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state == 1)) {_variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state =  _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__out;
                }        _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.converter_control.Rate Transition15.Input
        _variable_load__generic_1_converter_control_rate_transition15_output__state[0] = _variable_load__generic_1_grid_converter1_bus_join2__out[0];_variable_load__generic_1_converter_control_rate_transition15_output__state[1] = _variable_load__generic_1_grid_converter1_bus_join2__out[1];_variable_load__generic_1_converter_control_rate_transition15_output__state[2] = _variable_load__generic_1_grid_converter1_bus_join2__out[2];_variable_load__generic_1_converter_control_rate_transition15_output__state[3] = _variable_load__generic_1_grid_converter1_bus_join2__out[3];_variable_load__generic_1_converter_control_rate_transition15_output__state[4] = _variable_load__generic_1_grid_converter1_bus_join2__out[4];_variable_load__generic_1_converter_control_rate_transition15_output__state[5] = _variable_load__generic_1_grid_converter1_bus_join2__out[5];_variable_load__generic_1_converter_control_rate_transition15_output__state[6] = _variable_load__generic_1_grid_converter1_bus_join2__out[6];_variable_load__generic_1_converter_control_rate_transition15_output__state[7] = _variable_load__generic_1_grid_converter1_bus_join2__out[7];_variable_load__generic_1_converter_control_rate_transition15_output__state[8] = _variable_load__generic_1_grid_converter1_bus_join2__out[8];_variable_load__generic_1_converter_control_rate_transition15_output__state[9] = _variable_load__generic_1_grid_converter1_bus_join2__out[9];_variable_load__generic_1_converter_control_rate_transition15_output__state[10] = _variable_load__generic_1_grid_converter1_bus_join2__out[10];_variable_load__generic_1_converter_control_rate_transition15_output__state[11] = _variable_load__generic_1_grid_converter1_bus_join2__out[11];_variable_load__generic_1_converter_control_rate_transition15_output__state[12] = _variable_load__generic_1_grid_converter1_bus_join2__out[12];_variable_load__generic_1_converter_control_rate_transition15_output__state[13] = _variable_load__generic_1_grid_converter1_bus_join2__out[13];_variable_load__generic_1_converter_control_rate_transition15_output__state[14] = _variable_load__generic_1_grid_converter1_bus_join2__out[14];_variable_load__generic_1_converter_control_rate_transition15_output__state[15] = _variable_load__generic_1_grid_converter1_bus_join2__out[15];_variable_load__generic_1_converter_control_rate_transition15_output__state[16] = _variable_load__generic_1_grid_converter1_bus_join2__out[16];_variable_load__generic_1_converter_control_rate_transition15_output__state[17] = _variable_load__generic_1_grid_converter1_bus_join2__out[17];_variable_load__generic_1_converter_control_rate_transition15_output__state[18] = _variable_load__generic_1_grid_converter1_bus_join2__out[18];_variable_load__generic_1_converter_control_rate_transition15_output__state[19] = _variable_load__generic_1_grid_converter1_bus_join2__out[19];_variable_load__generic_1_converter_control_rate_transition15_output__state[20] = _variable_load__generic_1_grid_converter1_bus_join2__out[20];_variable_load__generic_1_converter_control_rate_transition15_output__state[21] = _variable_load__generic_1_grid_converter1_bus_join2__out[21];_variable_load__generic_1_converter_control_rate_transition15_output__state[22] = _variable_load__generic_1_grid_converter1_bus_join2__out[22];_variable_load__generic_1_converter_control_rate_transition15_output__state[23] = _variable_load__generic_1_grid_converter1_bus_join2__out[23];_variable_load__generic_1_converter_control_rate_transition15_output__state[24] = _variable_load__generic_1_grid_converter1_bus_join2__out[24];_variable_load__generic_1_converter_control_rate_transition15_output__state[25] = _variable_load__generic_1_grid_converter1_bus_join2__out[25];_variable_load__generic_1_converter_control_rate_transition15_output__state[26] = _variable_load__generic_1_grid_converter1_bus_join2__out[26];_variable_load__generic_1_converter_control_rate_transition15_output__state[27] = _variable_load__generic_1_grid_converter1_bus_join2__out[27];_variable_load__generic_1_converter_control_rate_transition15_output__state[28] = _variable_load__generic_1_grid_converter1_bus_join2__out[28];_variable_load__generic_1_converter_control_rate_transition15_output__state[29] = _variable_load__generic_1_grid_converter1_bus_join2__out[29];
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Ki
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_ki__out = 0.5560049801863396 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Kp
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_kp__out = 0.0018765168081288956 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Ki
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_ki__out = 0.5560049801863396 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out1;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Kp
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_kp__out = 0.0018765168081288956 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_split2__out1;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum6
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.Rate Limiter1
              

_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step) {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
        } else {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;if (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state > _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0])
                        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state + (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0]);
if (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state < _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0])
                        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state + (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.integrator
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__in = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;

    {
    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state += 0.0001 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__in ; if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__in >= 0.0 )     {
        if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state >= 6.283185307179586 )         {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state <= - 6.283185307179586 )         {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state += 6.283185307179586 ;
}

}
 _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__state ;
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum6
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.Rate Limiter1
              

_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step) {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
        } else {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;if (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state > _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0])
                        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state + (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0]);
if (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state < _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0])
                        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state + (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.integrator
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__in = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;

    {
    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state += 0.0001 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__in ; if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__in >= 0.0 )     {
        if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state >= 6.283185307179586 )         {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state <= - 6.283185307179586 )         {
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state += 6.283185307179586 ;
}

}
 _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__state ;
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Sum5
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum5__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_kp__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out;    

         // Generated from the component: Grid UI1.Termination1
        

         // Generated from the component: Grid1.PLL1.PID.Sum6
        _grid1_pll1_pid_sum6__out =  - _grid1_pll1_pid_sum5__out+_grid1_pll1_pid_limit1__out;    

         // Generated from the component: Grid1.PLL1.Rate Limiter1
              

_grid1_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_grid1_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_grid1_pll1_rate_limiter1__first_step) {
            _grid1_pll1_rate_limiter1__out = _grid1_pll1_pid_limit1__out;
            _grid1_pll1_rate_limiter1__state = _grid1_pll1_pid_limit1__out;
        } else {
            _grid1_pll1_rate_limiter1__out = _grid1_pll1_pid_limit1__out;if (_grid1_pll1_pid_limit1__out - _grid1_pll1_rate_limiter1__state > _grid1_pll1_rate_limiter1__rising_rate_lim[0])
                        _grid1_pll1_rate_limiter1__out = _grid1_pll1_rate_limiter1__state + (_grid1_pll1_rate_limiter1__rising_rate_lim[0]);
if (_grid1_pll1_pid_limit1__out - _grid1_pll1_rate_limiter1__state < _grid1_pll1_rate_limiter1__falling_rate_lim[0])
                        _grid1_pll1_rate_limiter1__out = _grid1_pll1_rate_limiter1__state + (_grid1_pll1_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: Grid1.PLL1.integrator
                    _grid1_pll1_integrator__in = _grid1_pll1_pid_limit1__out;

    {
    _grid1_pll1_integrator__state += 0.0001 * _grid1_pll1_integrator__in ; if ( _grid1_pll1_integrator__in >= 0.0 )     {
        if ( _grid1_pll1_integrator__state >= 6.283185307179586 )         {
            _grid1_pll1_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _grid1_pll1_integrator__state <= - 6.283185307179586 )         {
            _grid1_pll1_integrator__state += 6.283185307179586 ;
}

}
 _grid1_pll1_integrator__out = _grid1_pll1_integrator__state ;
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Ki
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_ki__out = 0.6672059762236073 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Kp
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_kp__out = 0.002251820169754675 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Ki
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_ki__out = 0.6672059762236073 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out1;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Kp
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_kp__out = 0.002251820169754675 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split2__out1;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum6
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.Rate Limiter1
              

_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step) {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
        } else {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state > _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0])
                        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state + (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0]);
if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state < _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0])
                        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state + (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.integrator
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;

    {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state += 0.0001 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__in ; if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__in >= 0.0 )     {
        if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state >= 6.283185307179586 )         {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state <= - 6.283185307179586 )         {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state += 6.283185307179586 ;
}

}
 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__state ;
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum6
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.Rate Limiter1
              

_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step) {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
        } else {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state > _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0])
                        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state + (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0]);
if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state < _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0])
                        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state + (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.integrator
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;

    {
    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state += 0.0001 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__in ; if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__in >= 0.0 )     {
        if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state >= 6.283185307179586 )         {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state <= - 6.283185307179586 )         {
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state += 6.283185307179586 ;
}

}
 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__state ;
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Sum5
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum5__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_kp__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Ki
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_ki__out = 0.6672059762236073 * _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Kp
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_kp__out = 0.002251820169754675 * _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Ki
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_ki__out = 0.6672059762236073 * _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out1;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Kp
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_kp__out = 0.002251820169754675 * _variable_load__generic_1_grid_converter1_inverter_control_bus_split2__out1;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum6
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out =  - _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum5__out+_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.Rate Limiter1
              

_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step) {
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;
        } else {
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;if (_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state > _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0])
                        _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state + (_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0]);
if (_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state < _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0])
                        _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state + (_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.integrator
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__in = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;

    {
    _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state += 0.0001 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__in ; if ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__in >= 0.0 )     {
        if ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state >= 6.283185307179586 )         {
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state <= - 6.283185307179586 )         {
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state += 6.283185307179586 ;
}

}
 _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__state ;
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum6
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out =  - _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum5__out+_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.Rate Limiter1
              

_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;
        if (_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step) {
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;
        } else {
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;if (_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state > _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0])
                        _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state + (_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0]);
if (_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state < _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0])
                        _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state + (_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0]);
        }

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.integrator
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__in = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;

    {
    _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state += 0.0001 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__in ; if ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__in >= 0.0 )     {
        if ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state >= 6.283185307179586 )         {
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state -= 6.283185307179586 ;
}

}
 else     {
        if ( _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state <= - 6.283185307179586 )         {
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state += 6.283185307179586 ;
}

}
 _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__state ;
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Sum5
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum5__out =  - _variable_load__generic_1_grid_converter1_inverter_control_pi_d_kp__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum5
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_kp__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kb
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kb
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Limit1
              _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_limit1__out = MIN(MAX(_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum5__out, 0.0), 1.0);

         // Generated from the component: Grid1.PLL1.PID.Kb
                    _grid1_pll1_pid_kb__out = 1.0 * _grid1_pll1_pid_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum5
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_kp__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kb
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kb
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Limit1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_limit1__out = MIN(MAX(_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum5__out, 0.0), 1.0);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum5
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_kp__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Kb
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum6__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Kb
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum6__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Limit1
              _variable_load__generic_1_grid_converter1_inverter_control_pi_d_limit1__out = MIN(MAX(_variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum5__out, 0.0), 1.0);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Limit1
              _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out = MIN(MAX(_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out, -1.0), 1.0);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum7
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum7
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out+_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Bus Join6
        
	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join6__out[0] = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
 	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join6__out[1] = _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__out;
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Sum6
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum6__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum5__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Integrator1
                 

    if (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic == 1){
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state =  _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;

        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic = 0;
    }
if (((_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out > 0.0) && (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state <= 0)) || ((_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out <= 0.0) && (_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state == 1))) {_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state =  _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
                }        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state;

         // Generated from the component: Grid1.PLL1.PID.Sum7
        _grid1_pll1_pid_sum7__out = _grid1_pll1_pid_ki__out+_grid1_pll1_pid_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Limit1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out = MIN(MAX(_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out, -1.0), 1.0);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum7
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum7
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Bus Join6
        
	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join6__out[0] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
 	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join6__out[1] = _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__out;
 
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Sum6
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum6__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum5__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Integrator1
                 

    if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic == 1){
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state =  _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic = 0;
    }
if (((_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out > 0.0) && (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state <= 0)) || ((_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out <= 0.0) && (_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state == 1))) {_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state =  _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
                }        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Limit1
              _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out = MIN(MAX(_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out, -1.0), 1.0);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Sum7
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_ki__out+_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_kb__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Sum7
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_ki__out+_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_kb__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Bus Join6
        
	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join6__out[0] = _variable_load__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
 	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join6__out[1] = _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__out;
 
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Sum6
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum6__out =  - _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum5__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Integrator1
                 

    if (_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic == 1){
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state =  _variable_load__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;

        _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__load_ic = 0;
    }
if (((_variable_load__generic_1_grid_converter1_inverter_control_sum9__out > 0.0) && (_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state <= 0)) || ((_variable_load__generic_1_grid_converter1_inverter_control_sum9__out <= 0.0) && (_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state == 1))) {_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state =  _variable_load__generic_1_grid_converter1_inverter_control_pi_d_limit1__out;
                }        _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum6
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Kb
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_kb__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum5
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_kp__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum6
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Kb
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_kb__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum5
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_kp__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum6
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out =  - _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum5__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Kb
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d_kb__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum6__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum5
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_kp__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Kb
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_kb__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Sum7
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum7__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_ki__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Limit1
              _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out = MIN(MAX(_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out, -1.0), 1.0);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Kb
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_kb__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Sum7
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum7__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_ki__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Limit1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out = MIN(MAX(_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out, -1.0), 1.0);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Kb
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_kb__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum6__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Sum7
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum7__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d_ki__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d_kb__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Limit1
              _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out = MIN(MAX(_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out, -1.0), 1.0);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum7
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_ki__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Bus Join3
        
	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join3__out[0] = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;
 	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join3__out[1] = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum6
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out =  - _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum7
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_ki__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Bus Join3
        
	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join3__out[0] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;
 	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join3__out[1] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;
 
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum6
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out =  - _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Sum7
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_ki__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d3_kb__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Bus Join3
        
	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join3__out[0] = _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;
 	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join3__out[1] = _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;
 
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum6
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out =  - _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum5__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Signal switch3
                          _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch3__out[0] = (_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _battery_ess__generic_1_grid_converter1_inverter_control_bus_join3__out[0] : _battery_ess__generic_1_grid_converter1_inverter_control_bus_join6__out[0];
            _battery_ess__generic_1_grid_converter1_inverter_control_signal_switch3__out[1] = (_battery_ess__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _battery_ess__generic_1_grid_converter1_inverter_control_bus_join3__out[1] : _battery_ess__generic_1_grid_converter1_inverter_control_bus_join6__out[1];

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Kb
                    _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_kb__out = 1.0 * _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Signal switch3
                          _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch3__out[0] = (_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join3__out[0] : _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join6__out[0];
            _pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch3__out[1] = (_pv_power_plant__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join3__out[1] : _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join6__out[1];

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Kb
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_kb__out = 1.0 * _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Signal switch3
                          _variable_load__generic_1_grid_converter1_inverter_control_signal_switch3__out[0] = (_variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _variable_load__generic_1_grid_converter1_inverter_control_bus_join3__out[0] : _variable_load__generic_1_grid_converter1_inverter_control_bus_join6__out[0];
            _variable_load__generic_1_grid_converter1_inverter_control_signal_switch3__out[1] = (_variable_load__generic_1_grid_converter1_inverter_control_logical_operator3__out > 0.5f) ? _variable_load__generic_1_grid_converter1_inverter_control_bus_join3__out[1] : _variable_load__generic_1_grid_converter1_inverter_control_bus_join6__out[1];

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Kb
                    _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_kb__out = 1.0 * _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Bus Split1
                     _battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out=_battery_ess__generic_1_grid_converter1_inverter_control_signal_switch3__out[0];
 
            _battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out1=_battery_ess__generic_1_grid_converter1_inverter_control_signal_switch3__out[1];
 

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum7
        _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_ki__out+_battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Bus Split1
                     _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out=_pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch3__out[0];
 
            _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out1=_pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch3__out[1];
 

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum7
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_ki__out+_pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_kb__out;    

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Bus Split1
                     _variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out=_variable_load__generic_1_grid_converter1_inverter_control_signal_switch3__out[0];
 
            _variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out1=_variable_load__generic_1_grid_converter1_inverter_control_signal_switch3__out[1];
 

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Sum7
        _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out = _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_ki__out+_variable_load__generic_1_grid_converter1_inverter_control_pi_d2_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.dq to abc1.dq to abc2.dq to alpha beta
                _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1 = cos(_battery_ess__generic_1_grid_converter1_inverter_control_signal_switch12__out);
        _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2 = sin(_battery_ess__generic_1_grid_converter1_inverter_control_signal_switch12__out);

	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2*_battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out + _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1*_battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out1;
	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2*_battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out1 - _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1*_battery_ess__generic_1_grid_converter1_inverter_control_bus_split1__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.dq to abc1.dq to abc2.dq to alpha beta
                _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1 = cos(_pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch12__out);
        _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2 = sin(_pv_power_plant__generic_1_grid_converter1_inverter_control_signal_switch12__out);

	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out + _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out1;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2*_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out1 - _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1*_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_split1__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.dq to abc1.dq to abc2.dq to alpha beta
                _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1 = cos(_variable_load__generic_1_grid_converter1_inverter_control_signal_switch12__out);
        _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2 = sin(_variable_load__generic_1_grid_converter1_inverter_control_signal_switch12__out);

	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2*_variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out + _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1*_variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out1;
	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k2*_variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out1 - _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__k1*_variable_load__generic_1_grid_converter1_inverter_control_bus_split1__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.dq to abc1.dq to abc2.alpha beta to abc
        	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A = 1*_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_o_ref__out;
	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A - 0.5*_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;
	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B - 0.8660254037844386*_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B += 0.8660254037844386*_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
	_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A += 1*_battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.dq to abc1.dq to abc2.alpha beta to abc
        	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A = 1*_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_o_ref__out;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A - 0.5*_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B - 0.8660254037844386*_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B += 0.8660254037844386*_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
	_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A += 1*_pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.dq to abc1.dq to abc2.alpha beta to abc
        	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A = 1*_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_o_ref__out;
	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A - 0.5*_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;
	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B - 0.8660254037844386*_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B += 0.8660254037844386*_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__beta;
	_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A += 1*_variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_dq_to_alpha_beta__alpha;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Bus Join2
        
	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[0] = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A;
 	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[1] = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B;
 	        	_battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[2] = _battery_ess__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C;
 
         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Bus Join2
        
	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[0] = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A;
 	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[1] = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B;
 	        	_pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[2] = _pv_power_plant__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C;
 
         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Bus Join2
        
	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[0] = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__A;
 	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[1] = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__B;
 	        	_variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[2] = _variable_load__generic_1_grid_converter1_inverter_control_dq_to_abc1_dq_to_abc2_alpha_beta_to_abc__C;
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Gain28
                        _battery_ess__generic_1_grid_converter1_gain28__out[0] = 457.2380853195266 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[0];
                _battery_ess__generic_1_grid_converter1_gain28__out[1] = 457.2380853195266 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[1];
                _battery_ess__generic_1_grid_converter1_gain28__out[2] = 457.2380853195266 * _battery_ess__generic_1_grid_converter1_inverter_control_bus_join2__out[2];

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Gain28
                        _pv_power_plant__generic_1_grid_converter1_gain28__out[0] = 457.2380853195266 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[0];
                _pv_power_plant__generic_1_grid_converter1_gain28__out[1] = 457.2380853195266 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[1];
                _pv_power_plant__generic_1_grid_converter1_gain28__out[2] = 457.2380853195266 * _pv_power_plant__generic_1_grid_converter1_inverter_control_bus_join2__out[2];

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Gain28
                        _variable_load__generic_1_grid_converter1_gain28__out[0] = 457.2380853195266 * _variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[0];
                _variable_load__generic_1_grid_converter1_gain28__out[1] = 457.2380853195266 * _variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[1];
                _variable_load__generic_1_grid_converter1_gain28__out[2] = 457.2380853195266 * _variable_load__generic_1_grid_converter1_inverter_control_bus_join2__out[2];

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Bus Split2
                     _battery_ess__generic_1_grid_converter1_bus_split2__out=_battery_ess__generic_1_grid_converter1_gain28__out[0];
 
            _battery_ess__generic_1_grid_converter1_bus_split2__out1=_battery_ess__generic_1_grid_converter1_gain28__out[1];
 
            _battery_ess__generic_1_grid_converter1_bus_split2__out2=_battery_ess__generic_1_grid_converter1_gain28__out[2];
 

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Bus Split2
                     _pv_power_plant__generic_1_grid_converter1_bus_split2__out=_pv_power_plant__generic_1_grid_converter1_gain28__out[0];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split2__out1=_pv_power_plant__generic_1_grid_converter1_gain28__out[1];
 
            _pv_power_plant__generic_1_grid_converter1_bus_split2__out2=_pv_power_plant__generic_1_grid_converter1_gain28__out[2];
 

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Bus Split2
                     _variable_load__generic_1_grid_converter1_bus_split2__out=_variable_load__generic_1_grid_converter1_gain28__out[0];
 
            _variable_load__generic_1_grid_converter1_bus_split2__out1=_variable_load__generic_1_grid_converter1_gain28__out[1];
 
            _variable_load__generic_1_grid_converter1_bus_split2__out2=_variable_load__generic_1_grid_converter1_gain28__out[2];
 

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vsp1.Vs1
        
HIL_OutFloat(137101312, (float) _battery_ess__generic_1_grid_converter1_bus_split2__out);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vsp2.Vs1
        
HIL_OutFloat(137101313, (float) _battery_ess__generic_1_grid_converter1_bus_split2__out1);

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Vsp3.Vs1
        
HIL_OutFloat(137101314, (float) _battery_ess__generic_1_grid_converter1_bus_split2__out2);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vsp1.Vs1
        
HIL_OutFloat(137101315, (float) _pv_power_plant__generic_1_grid_converter1_bus_split2__out);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vsp2.Vs1
        
HIL_OutFloat(137101316, (float) _pv_power_plant__generic_1_grid_converter1_bus_split2__out1);

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Vsp3.Vs1
        
HIL_OutFloat(137101317, (float) _pv_power_plant__generic_1_grid_converter1_bus_split2__out2);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vsp1.Vs1
        
HIL_OutFloat(137101318, (float) _variable_load__generic_1_grid_converter1_bus_split2__out);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vsp2.Vs1
        
HIL_OutFloat(137101319, (float) _variable_load__generic_1_grid_converter1_bus_split2__out1);

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Vsp3.Vs1
        
HIL_OutFloat(137101320, (float) _variable_load__generic_1_grid_converter1_bus_split2__out2);

//@cmp.out.block.end


    //////////////////////////////////////////////////////////////////////////
    // Update block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.update.block.start
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Fault state machine
                    _battery_ess__generic_1_grid_converter1_fault_state_machine__Ia = _battery_ess__generic_1_grid_converter1_ia_ia2__out;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__Ib = _battery_ess__generic_1_grid_converter1_ib_ia2__out;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__Ic = _battery_ess__generic_1_grid_converter1_ic_ia2__out;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__Sg = _battery_ess__generic_1_grid_converter1_power_meter1__apparent;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__Vgrms = _battery_ess__generic_1_grid_converter1_inverter_control_gain7__out;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__fault_ack_input = _battery_ess__generic_1_grid_converter1_bus_split3__out6;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__fg = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__grid_forming = _battery_ess__generic_1_grid_converter1_bus_split3__out1;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm = _battery_ess__generic_1_grid_converter1_bus_split3__out13;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm = _battery_ess__generic_1_grid_converter1_bus_split3__out11;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect = _battery_ess__generic_1_grid_converter1_bus_split3__out9;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__lvrt_en = _battery_ess__generic_1_grid_converter1_bus_split3__out8;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__system_level_fault1 = _battery_ess__generic_1_grid_converter1_bus_split3__out7;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input = _battery_ess__generic_1_grid_converter1_constant1__out;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm = _battery_ess__generic_1_grid_converter1_bus_split3__out12;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm = _battery_ess__generic_1_grid_converter1_bus_split3__out15;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm = _battery_ess__generic_1_grid_converter1_bus_split3__out14;
            _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm = _battery_ess__generic_1_grid_converter1_bus_split3__out10;

    {
    if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state == 1 )     {
        _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up + 1 ; if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up > ( _battery_ess__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = ( _battery_ess__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) + 1 ;
}

}
 else     {
        _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = 0.0 ;
}
 
 switch ( _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state )     {
        case 1 : if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__cnt_boot_up < ( _battery_ess__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 1 ;
}
 else         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 2 ;
}
 break; case 2 : if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__Ia > _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1224.744871391589 )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__Ib > _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1224.744871391589 )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__Ic > _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1224.744871391589 )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__grid_forming < 0.5 )         {
            if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__lvrt_en > 0.5 )             {
                if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect > 0.5 )                 {
                    _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 2.0 ; break;
}

}
 else             {
                if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__Vgrms > _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm * 1385.640646055102 || _battery_ess__generic_1_grid_converter1_fault_state_machine__Vgrms < _battery_ess__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm * 1385.640646055102 )                 {
                    _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 2.0 ; break;
}

}
 if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__fg > _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm * 50.0 || _battery_ess__generic_1_grid_converter1_fault_state_machine__fg < _battery_ess__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm * 50.0 )             {
                _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 3.0 ; break;
}

}
 if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__Sg > _battery_ess__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm * 600000.0 )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 4.0 ; break;
}
 if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__system_level_fault1 > 0.5 )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 5.0 ; break;
}
 break; case 3 : if ( _battery_ess__generic_1_grid_converter1_fault_state_machine__fault_ack_input < 0.5 )         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 3 ;
}
 else         {
            _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 4 ;
}
 break; case 4 : _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; break; default : _battery_ess__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; _battery_ess__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Low-Pass Filter1
                

        _battery_ess__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.LPF.LPF
                  
            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 1; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i > 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i--){
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum += _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i+1] * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i];
    }
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum += _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[0] * _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[1];
        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum;


            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 1; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i > 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i--){
                _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i-1];
            }
            _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[0] = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator1
                 _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out * 0.0001;



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator2
                 _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state += _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out * 0.0001;



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.Unit Delay1
              _battery_ess__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_integrator__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_d
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_q
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.LPF.LPF
                  
            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 1; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i > 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i--){
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum += _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i+1] * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i];
    }
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum += _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[0] * _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[1];
        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum;


            for (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 1; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i > 0; _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i--){
                _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i-1];
            }
            _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[0] = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator1
                 _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out * 0.0001;



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator2
                 _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state += _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out * 0.0001;



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.Unit Delay1
              _battery_ess__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_integrator__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_d
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_q
                

        _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.Unit Delay1
              _battery_ess__generic_1_grid_converter1_inverter_control_unit_delay1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.phi
        
             

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref += 1;

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref * 0.7322694683406874 + _battery_ess__generic_1_grid_converter1_va1_va2__out * 0.26773053165931254;

    if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref >= 5000 ){
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0;
    }
    else if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref >= 0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref < 0) ){
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 1;
    }
    else{
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 0;
    }


        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in += 1;

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in * 0.7322694683406874 + _battery_ess__generic_1_grid_converter1_ia1_ia2__out * 0.26773053165931254;

        if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in >= 5000 ){
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 1;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0;
        }
        else if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in >= 0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in < 0) ){
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 1;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 0;
        }
        else{
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 0;
        }


    if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref ) {
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref/( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref );

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref += _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref;


            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref > 1e-6) || (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref < -1e-6) ){
                if( !_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in ){
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 360.0 * ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in + _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in ) / _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref;
                }
            }

            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state > 360.0) || (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state < -360.0) ){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = fmod(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state, 360.0);
            }

            if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state < -180.0){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state += 360.0;
            }
            else if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state > 180.0){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state -= 360.0;
            }


        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref;
    }



        if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in ) {
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in/( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in );

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in;
        }



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.phi
        
             

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref += 1;

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref * 0.7322694683406874 + _battery_ess__generic_1_grid_converter1_vb1_va2__out * 0.26773053165931254;

    if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref >= 5000 ){
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0;
    }
    else if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref >= 0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref < 0) ){
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 1;
    }
    else{
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 0;
    }


        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in += 1;

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in * 0.7322694683406874 + _battery_ess__generic_1_grid_converter1_ib1_ia2__out * 0.26773053165931254;

        if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in >= 5000 ){
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 1;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0;
        }
        else if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in >= 0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in < 0) ){
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 1;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 0;
        }
        else{
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 0;
        }


    if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref ) {
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref/( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref );

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref += _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref;


            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref > 1e-6) || (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref < -1e-6) ){
                if( !_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in ){
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 360.0 * ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in + _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in ) / _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref;
                }
            }

            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state > 360.0) || (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state < -360.0) ){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = fmod(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state, 360.0);
            }

            if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state < -180.0){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state += 360.0;
            }
            else if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state > 180.0){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state -= 360.0;
            }


        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref;
    }



        if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in ) {
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in/( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in );

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in;
        }



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.phi
        
             

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref += 1;

    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref;
    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref * 0.7322694683406874 + _battery_ess__generic_1_grid_converter1_vc1_va2__out * 0.26773053165931254;

    if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref >= 5000 ){
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0;
    }
    else if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref >= 0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref < 0) ){
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 1;
    }
    else{
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 0;
    }


        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in += 1;

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in * 0.7322694683406874 + _battery_ess__generic_1_grid_converter1_ic1_ia2__out * 0.26773053165931254;

        if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in >= 5000 ){
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 1;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = 0;

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0;
        }
        else if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in >= 0) && (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in < 0) ){
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 1;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 0;
        }
        else{
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 0;
        }


    if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref ) {
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref/( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref );

        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref += _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref;


            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref > 1e-6) || (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref < -1e-6) ){
                if( !_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in ){
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 360.0 * ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in + _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in ) / _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref;
                }
            }

            if( (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state > 360.0) || (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state < -360.0) ){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = fmod(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state, 360.0);
            }

            if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state < -180.0){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state += 360.0;
            }
            else if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state > 180.0){
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state -= 360.0;
            }


        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0;
        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref;
    }



        if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in ) {
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in/( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in );

            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0;
            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in;
        }



         // Generated from the component: Grid1.PLL1.LPF.LPF
                  
            for (_grid1_pll1_lpf_lpf__i = 1; _grid1_pll1_lpf_lpf__i > 0; _grid1_pll1_lpf_lpf__i--){
        _grid1_pll1_lpf_lpf__a_sum += _grid1_pll1_lpf_lpf__a_coeff[_grid1_pll1_lpf_lpf__i+1] * _grid1_pll1_lpf_lpf__states[_grid1_pll1_lpf_lpf__i];
    }
        _grid1_pll1_lpf_lpf__a_sum += _grid1_pll1_lpf_lpf__states[0] * _grid1_pll1_lpf_lpf__a_coeff[1];
        _grid1_pll1_lpf_lpf__delay_line_in = _grid1_pll1_rate_limiter1__out - _grid1_pll1_lpf_lpf__a_sum;


            for (_grid1_pll1_lpf_lpf__i = 1; _grid1_pll1_lpf_lpf__i > 0; _grid1_pll1_lpf_lpf__i--){
                _grid1_pll1_lpf_lpf__states[_grid1_pll1_lpf_lpf__i] = _grid1_pll1_lpf_lpf__states[_grid1_pll1_lpf_lpf__i-1];
            }
            _grid1_pll1_lpf_lpf__states[0] = _grid1_pll1_lpf_lpf__delay_line_in;


         // Generated from the component: Grid1.PLL1.PID.Integrator1
                 _grid1_pll1_pid_integrator1__state += _grid1_pll1_pid_sum7__out * 0.0001;



         // Generated from the component: Grid1.PLL1.PID.Integrator2
                 _grid1_pll1_pid_integrator2__state += _grid1_pll1_pid_gain1__out * 0.0001;



         // Generated from the component: Grid1.PLL1.Unit Delay1
              _grid1_pll1_unit_delay1__state = _grid1_pll1_integrator__out;

         // Generated from the component: Grid1.PLL1.abc to dq.LPF_d
                

        _grid1_pll1_abc_to_dq_lpf_d__previous_in = _grid1_pll1_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: Grid1.PLL1.abc to dq.LPF_q
                

        _grid1_pll1_abc_to_dq_lpf_q__previous_in = _grid1_pll1_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Fault state machine
                    _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ia = _pv_power_plant__generic_1_grid_converter1_ia_ia2__out;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ib = _pv_power_plant__generic_1_grid_converter1_ib_ia2__out;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ic = _pv_power_plant__generic_1_grid_converter1_ic_ia2__out;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Sg = _pv_power_plant__generic_1_grid_converter1_power_meter1__apparent;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Vgrms = _pv_power_plant__generic_1_grid_converter1_inverter_control_gain7__out;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault_ack_input = _pv_power_plant__generic_1_grid_converter1_bus_split3__out6;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fg = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__grid_forming = _pv_power_plant__generic_1_grid_converter1_bus_split3__out1;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm = _pv_power_plant__generic_1_grid_converter1_bus_split3__out13;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm = _pv_power_plant__generic_1_grid_converter1_bus_split3__out11;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect = _pv_power_plant__generic_1_grid_converter1_bus_split3__out9;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lvrt_en = _pv_power_plant__generic_1_grid_converter1_bus_split3__out8;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__system_level_fault1 = _pv_power_plant__generic_1_grid_converter1_bus_split3__out7;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input = _pv_power_plant__generic_1_grid_converter1_constant1__out;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm = _pv_power_plant__generic_1_grid_converter1_bus_split3__out12;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm = _pv_power_plant__generic_1_grid_converter1_bus_split3__out15;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm = _pv_power_plant__generic_1_grid_converter1_bus_split3__out14;
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm = _pv_power_plant__generic_1_grid_converter1_bus_split3__out10;

    {
    if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state == 1 )     {
        _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up + 1 ; if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up > ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) + 1 ;
}

}
 else     {
        _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = 0.0 ;
}
 
 switch ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state )     {
        case 1 : if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__cnt_boot_up < ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 1 ;
}
 else         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 2 ;
}
 break; case 2 : if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ia > _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1020.6207261596576 )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ib > _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1020.6207261596576 )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Ic > _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1020.6207261596576 )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__grid_forming < 0.5 )         {
            if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lvrt_en > 0.5 )             {
                if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect > 0.5 )                 {
                    _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 2.0 ; break;
}

}
 else             {
                if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Vgrms > _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm * 1385.640646055102 || _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Vgrms < _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm * 1385.640646055102 )                 {
                    _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 2.0 ; break;
}

}
 if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fg > _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm * 50.0 || _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fg < _pv_power_plant__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm * 50.0 )             {
                _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 3.0 ; break;
}

}
 if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__Sg > _pv_power_plant__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm * 500000.0 )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 4.0 ; break;
}
 if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__system_level_fault1 > 0.5 )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 5.0 ; break;
}
 break; case 3 : if ( _pv_power_plant__generic_1_grid_converter1_fault_state_machine__fault_ack_input < 0.5 )         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 3 ;
}
 else         {
            _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 4 ;
}
 break; case 4 : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; break; default : _pv_power_plant__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; _pv_power_plant__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Low-Pass Filter1
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.LPF.LPF
                  
            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 1; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i > 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i--){
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i+1] * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i];
    }
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[0] * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[1];
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum;


            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 1; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i > 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i--){
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i-1];
            }
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[0] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator1
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out * 0.0001;



         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator2
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out * 0.0001;



         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.Unit Delay1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_integrator__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_d
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_q
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.LPF.LPF
                  
            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 1; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i > 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i--){
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i+1] * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i];
    }
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[0] * _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[1];
        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum;


            for (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 1; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i > 0; _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i--){
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i-1];
            }
            _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[0] = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator1
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out * 0.0001;



         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator2
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out * 0.0001;



         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.Unit Delay1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_integrator__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_d
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_q
                

        _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.Unit Delay1
              _pv_power_plant__generic_1_grid_converter1_inverter_control_unit_delay1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.phi
        
             

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref += 1;

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref * 0.7322694683406874 + _pv_power_plant__generic_1_grid_converter1_va1_va2__out * 0.26773053165931254;

    if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref >= 5000 ){
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0;
    }
    else if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref >= 0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref < 0) ){
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 1;
    }
    else{
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 0;
    }


        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in += 1;

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in * 0.7322694683406874 + _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out * 0.26773053165931254;

        if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in >= 5000 ){
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 1;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0;
        }
        else if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in >= 0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in < 0) ){
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 1;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 0;
        }
        else{
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 0;
        }


    if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref ) {
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref/( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref );

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref;


            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref > 1e-6) || (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref < -1e-6) ){
                if( !_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in ){
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 360.0 * ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in + _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in ) / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref;
                }
            }

            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state > 360.0) || (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state < -360.0) ){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = fmod(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state, 360.0);
            }

            if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state < -180.0){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state += 360.0;
            }
            else if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state > 180.0){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state -= 360.0;
            }


        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref;
    }



        if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in ) {
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in/( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in );

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in;
        }



         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.phi
        
             

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref += 1;

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref * 0.7322694683406874 + _pv_power_plant__generic_1_grid_converter1_vb1_va2__out * 0.26773053165931254;

    if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref >= 5000 ){
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0;
    }
    else if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref >= 0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref < 0) ){
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 1;
    }
    else{
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 0;
    }


        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in += 1;

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in * 0.7322694683406874 + _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out * 0.26773053165931254;

        if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in >= 5000 ){
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 1;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0;
        }
        else if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in >= 0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in < 0) ){
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 1;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 0;
        }
        else{
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 0;
        }


    if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref ) {
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref/( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref );

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref;


            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref > 1e-6) || (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref < -1e-6) ){
                if( !_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in ){
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 360.0 * ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in + _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in ) / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref;
                }
            }

            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state > 360.0) || (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state < -360.0) ){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = fmod(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state, 360.0);
            }

            if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state < -180.0){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state += 360.0;
            }
            else if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state > 180.0){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state -= 360.0;
            }


        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref;
    }



        if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in ) {
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in/( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in );

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in;
        }



         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.phi
        
             

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref += 1;

    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref;
    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref * 0.7322694683406874 + _pv_power_plant__generic_1_grid_converter1_vc1_va2__out * 0.26773053165931254;

    if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref >= 5000 ){
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0;
    }
    else if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref >= 0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref < 0) ){
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 1;
    }
    else{
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 0;
    }


        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in += 1;

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in * 0.7322694683406874 + _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out * 0.26773053165931254;

        if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in >= 5000 ){
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 1;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = 0;

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0;
        }
        else if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in >= 0) && (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in < 0) ){
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 1;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 0;
        }
        else{
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 0;
        }


    if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref ) {
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref/( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref );

        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref;


            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref > 1e-6) || (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref < -1e-6) ){
                if( !_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in ){
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 360.0 * ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in + _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in ) / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref;
                }
            }

            if( (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state > 360.0) || (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state < -360.0) ){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = fmod(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state, 360.0);
            }

            if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state < -180.0){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state += 360.0;
            }
            else if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state > 180.0){
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state -= 360.0;
            }


        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0;
        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref;
    }



        if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in ) {
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in/( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in );

            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0;
            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in;
        }



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Fault state machine
                    _variable_load__generic_1_grid_converter1_fault_state_machine__Ia = _variable_load__generic_1_grid_converter1_ia_ia2__out;
            _variable_load__generic_1_grid_converter1_fault_state_machine__Ib = _variable_load__generic_1_grid_converter1_ib_ia2__out;
            _variable_load__generic_1_grid_converter1_fault_state_machine__Ic = _variable_load__generic_1_grid_converter1_ic_ia2__out;
            _variable_load__generic_1_grid_converter1_fault_state_machine__Sg = _variable_load__generic_1_grid_converter1_power_meter1__apparent;
            _variable_load__generic_1_grid_converter1_fault_state_machine__Vgrms = _variable_load__generic_1_grid_converter1_inverter_control_gain7__out;
            _variable_load__generic_1_grid_converter1_fault_state_machine__fault_ack_input = _variable_load__generic_1_grid_converter1_bus_split3__out6;
            _variable_load__generic_1_grid_converter1_fault_state_machine__fg = _variable_load__generic_1_grid_converter1_inverter_control_pll1_to_hz__out;
            _variable_load__generic_1_grid_converter1_fault_state_machine__grid_forming = _variable_load__generic_1_grid_converter1_bus_split3__out1;
            _variable_load__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm = _variable_load__generic_1_grid_converter1_bus_split3__out13;
            _variable_load__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm = _variable_load__generic_1_grid_converter1_bus_split3__out11;
            _variable_load__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect = _variable_load__generic_1_grid_converter1_bus_split3__out9;
            _variable_load__generic_1_grid_converter1_fault_state_machine__lvrt_en = _variable_load__generic_1_grid_converter1_bus_split3__out8;
            _variable_load__generic_1_grid_converter1_fault_state_machine__system_level_fault1 = _variable_load__generic_1_grid_converter1_bus_split3__out7;
            _variable_load__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input = _variable_load__generic_1_grid_converter1_constant1__out;
            _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm = _variable_load__generic_1_grid_converter1_bus_split3__out12;
            _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm = _variable_load__generic_1_grid_converter1_bus_split3__out15;
            _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm = _variable_load__generic_1_grid_converter1_bus_split3__out14;
            _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm = _variable_load__generic_1_grid_converter1_bus_split3__out10;

    {
    if ( _variable_load__generic_1_grid_converter1_fault_state_machine__current_state == 1 )     {
        _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up + 1 ; if ( _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up > ( _variable_load__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = ( _variable_load__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) + 1 ;
}

}
 else     {
        _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up = 0.0 ;
}
 
 switch ( _variable_load__generic_1_grid_converter1_fault_state_machine__current_state )     {
        case 1 : if ( _variable_load__generic_1_grid_converter1_fault_state_machine__cnt_boot_up < ( _variable_load__generic_1_grid_converter1_fault_state_machine__time_out_boot_up_input / 0.0001 ) )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 1 ;
}
 else         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 2 ;
}
 break; case 2 : if ( _variable_load__generic_1_grid_converter1_fault_state_machine__Ia > _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1224.744871391589 )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _variable_load__generic_1_grid_converter1_fault_state_machine__Ib > _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1224.744871391589 )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _variable_load__generic_1_grid_converter1_fault_state_machine__Ic > _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_i_alarm * 1224.744871391589 )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 1.0 ; break;
}
 if ( _variable_load__generic_1_grid_converter1_fault_state_machine__grid_forming < 0.5 )         {
            if ( _variable_load__generic_1_grid_converter1_fault_state_machine__lvrt_en > 0.5 )             {
                if ( _variable_load__generic_1_grid_converter1_fault_state_machine__lvrt_disconnect > 0.5 )                 {
                    _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 2.0 ; break;
}

}
 else             {
                if ( _variable_load__generic_1_grid_converter1_fault_state_machine__Vgrms > _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_v_alarm * 1385.640646055102 || _variable_load__generic_1_grid_converter1_fault_state_machine__Vgrms < _variable_load__generic_1_grid_converter1_fault_state_machine__lower_lim_v_alarm * 1385.640646055102 )                 {
                    _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 2.0 ; break;
}

}
 if ( _variable_load__generic_1_grid_converter1_fault_state_machine__fg > _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_f_alarm * 50.0 || _variable_load__generic_1_grid_converter1_fault_state_machine__fg < _variable_load__generic_1_grid_converter1_fault_state_machine__lower_lim_f_alarm * 50.0 )             {
                _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 3.0 ; break;
}

}
 if ( _variable_load__generic_1_grid_converter1_fault_state_machine__Sg > _variable_load__generic_1_grid_converter1_fault_state_machine__upper_lim_s_alarm * 600000.0 )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 4.0 ; break;
}
 if ( _variable_load__generic_1_grid_converter1_fault_state_machine__system_level_fault1 > 0.5 )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 5.0 ; break;
}
 break; case 3 : if ( _variable_load__generic_1_grid_converter1_fault_state_machine__fault_ack_input < 0.5 )         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 3 ;
}
 else         {
            _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 4 ;
}
 break; case 4 : _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ; _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; break; default : _variable_load__generic_1_grid_converter1_fault_state_machine__current_state = 1 ; _variable_load__generic_1_grid_converter1_fault_state_machine__msg_num = 0.0 ;
}

}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Low-Pass Filter1
                

        _variable_load__generic_1_grid_converter1_inverter_control_low_pass_filter1__previous_in = _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_limit1__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.LPF.LPF
                  
            for (_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 1; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i > 0; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i--){
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum += _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i+1] * _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i];
    }
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum += _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[0] * _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_coeff[1];
        _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in = _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__a_sum;


            for (_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i = 1; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i > 0; _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i--){
                _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i] = _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__i-1];
            }
            _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__states[0] = _variable_load__generic_1_grid_converter1_inverter_control_pll1_lpf_lpf__delay_line_in;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator1
                 _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator1__state += _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_sum7__out * 0.0001;



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.PID.Integrator2
                 _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_integrator2__state += _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_gain1__out * 0.0001;



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.Unit Delay1
              _variable_load__generic_1_grid_converter1_inverter_control_pll1_unit_delay1__state = _variable_load__generic_1_grid_converter1_inverter_control_pll1_integrator__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_d
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_d__previous_in = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.abc to dq.LPF_q
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_lpf_q__previous_in = _variable_load__generic_1_grid_converter1_inverter_control_pll1_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.LPF.LPF
                  
            for (_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 1; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i > 0; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i--){
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum += _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i+1] * _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i];
    }
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum += _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[0] * _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_coeff[1];
        _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in = _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__a_sum;


            for (_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i = 1; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i > 0; _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i--){
                _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i] = _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[_variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__i-1];
            }
            _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__states[0] = _variable_load__generic_1_grid_converter1_inverter_control_pll2_lpf_lpf__delay_line_in;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator1
                 _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator1__state += _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_sum7__out * 0.0001;



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.PID.Integrator2
                 _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_integrator2__state += _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_gain1__out * 0.0001;



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.Unit Delay1
              _variable_load__generic_1_grid_converter1_inverter_control_pll2_unit_delay1__state = _variable_load__generic_1_grid_converter1_inverter_control_pll2_integrator__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_d
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_d__previous_in = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__d;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.abc to dq.LPF_q
                

        _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_lpf_q__previous_in = _variable_load__generic_1_grid_converter1_inverter_control_pll2_abc_to_dq_alpha_beta_to_dq__q;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.Unit Delay1
              _variable_load__generic_1_grid_converter1_inverter_control_unit_delay1__state = _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_limit1__out;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.phi
        
             

    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref += 1;

    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref * 0.7322694683406874 + _variable_load__generic_1_grid_converter1_va1_va2__out * 0.26773053165931254;

    if( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref >= 5000 ){
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0;
    }
    else if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref >= 0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref < 0) ){
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 1;
    }
    else{
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref = 0;
    }


        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in += 1;

        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in * 0.7322694683406874 + _variable_load__generic_1_grid_converter1_ia1_ia2__out * 0.26773053165931254;

        if( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in >= 5000 ){
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 1;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 0;
        }
        else if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in >= 0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in < 0) ){
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 1;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in = 0;
        }
        else{
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in = 0;
        }


    if( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_ref ) {
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref = - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref/( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_ref );

        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref += _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref;


            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref > 1e-6) || (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref < -1e-6) ){
                if( !_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__no_zc_flag_in ){
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = 360.0 * ( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in + _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in ) / _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref;
                }
            }

            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state > 360.0) || (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state < -360.0) ){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state = fmod(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state, 360.0);
            }

            if (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state < -180.0){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state += 360.0;
            }
            else if (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state > 180.0){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__phase_state -= 360.0;
            }


        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_ref;
    }



        if( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__zc_flag_in ) {
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in = - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in/( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__filtered_in - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_filtered_in );

            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__sample_cnt_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__previous_correction_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_phi__correction_in;
        }



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.phi
        
             

    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref += 1;

    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref * 0.7322694683406874 + _variable_load__generic_1_grid_converter1_vb1_va2__out * 0.26773053165931254;

    if( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref >= 5000 ){
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0;
    }
    else if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref >= 0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref < 0) ){
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 1;
    }
    else{
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref = 0;
    }


        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in += 1;

        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in * 0.7322694683406874 + _variable_load__generic_1_grid_converter1_ib1_ia2__out * 0.26773053165931254;

        if( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in >= 5000 ){
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 1;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 0;
        }
        else if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in >= 0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in < 0) ){
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 1;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in = 0;
        }
        else{
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in = 0;
        }


    if( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_ref ) {
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref = - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref/( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_ref );

        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref += _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref;


            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref > 1e-6) || (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref < -1e-6) ){
                if( !_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__no_zc_flag_in ){
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = 360.0 * ( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in + _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in ) / _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref;
                }
            }

            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state > 360.0) || (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state < -360.0) ){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state = fmod(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state, 360.0);
            }

            if (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state < -180.0){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state += 360.0;
            }
            else if (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state > 180.0){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__phase_state -= 360.0;
            }


        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_ref;
    }



        if( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__zc_flag_in ) {
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in = - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in/( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__filtered_in - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_filtered_in );

            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__sample_cnt_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__previous_correction_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_phi__correction_in;
        }



         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.phi
        
             

    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref += 1;

    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref;
    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref * 0.7322694683406874 + _variable_load__generic_1_grid_converter1_vc1_va2__out * 0.26773053165931254;

    if( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref >= 5000 ){
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0;
    }
    else if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref >= 0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref < 0) ){
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 1;
    }
    else{
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref = 0;
    }


        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in += 1;

        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in * 0.7322694683406874 + _variable_load__generic_1_grid_converter1_ic1_ia2__out * 0.26773053165931254;

        if( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in >= 5000 ){
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 1;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = 0;

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 0;
        }
        else if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in >= 0) && (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in < 0) ){
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 1;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in = 0;
        }
        else{
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in = 0;
        }


    if( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_ref ) {
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref = - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref/( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_ref );

        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref += _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref;


            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref > 1e-6) || (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref < -1e-6) ){
                if( !_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__no_zc_flag_in ){
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = 360.0 * ( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in + _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in ) / _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref;
                }
            }

            if( (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state > 360.0) || (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state < -360.0) ){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state = fmod(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state, 360.0);
            }

            if (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state < -180.0){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state += 360.0;
            }
            else if (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state > 180.0){
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__phase_state -= 360.0;
            }


        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_ref = 0;
        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_ref = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_ref;
    }



        if( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__zc_flag_in ) {
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in = - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in/( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__filtered_in - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_filtered_in );

            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__sample_cnt_in = 0;
            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__previous_correction_in = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_phi__correction_in;
        }



         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Ia RMS
                        

                if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc ) {
                    if (_battery_ess__generic_1_grid_converter1_ia1_ia2__out != _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value)
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value/(_battery_ess__generic_1_grid_converter1_ia1_ia2__out - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value);
                        if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction < 0)
                            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0;
                    else
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt += _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction;

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt);

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0;

                } else if ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt >= 5000 ) {
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt);
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0;
                }

                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value = _battery_ess__generic_1_grid_converter1_ia1_ia2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum += _battery_ess__generic_1_grid_converter1_ia1_ia2__out * _battery_ess__generic_1_grid_converter1_ia1_ia2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt ++;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Ia RMS
                        

                if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc ) {
                    if (_battery_ess__generic_1_grid_converter1_ib1_ia2__out != _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value)
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value/(_battery_ess__generic_1_grid_converter1_ib1_ia2__out - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value);
                        if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction < 0)
                            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0;
                    else
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt += _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction;

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt);

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0;

                } else if ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt >= 5000 ) {
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt);
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0;
                }

                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value = _battery_ess__generic_1_grid_converter1_ib1_ia2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum += _battery_ess__generic_1_grid_converter1_ib1_ia2__out * _battery_ess__generic_1_grid_converter1_ib1_ia2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt ++;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Ia RMS
                        

                if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc ) {
                    if (_battery_ess__generic_1_grid_converter1_ic1_ia2__out != _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value)
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value/(_battery_ess__generic_1_grid_converter1_ic1_ia2__out - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value);
                        if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction < 0)
                            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0;
                    else
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt += _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction;

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt);

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0;

                } else if ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt >= 5000 ) {
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt);
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0;
                }

                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value = _battery_ess__generic_1_grid_converter1_ic1_ia2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum += _battery_ess__generic_1_grid_converter1_ic1_ia2__out * _battery_ess__generic_1_grid_converter1_ic1_ia2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt ++;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.normalize
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.normalize
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter1.Va RMS
                        

                if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc ) {
                    if (_battery_ess__generic_1_grid_converter1_va1_va2__out != _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value)
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value/(_battery_ess__generic_1_grid_converter1_va1_va2__out - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value);
                        if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction < 0)
                            _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0;
                    else
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt += _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction - _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction;

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt);

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction = _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0;

                } else if ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt >= 5000 ) {
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt);
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0;
                }

                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value = _battery_ess__generic_1_grid_converter1_va1_va2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum += _battery_ess__generic_1_grid_converter1_va1_va2__out * _battery_ess__generic_1_grid_converter1_va1_va2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt ++;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter2.Va RMS
                        

                if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc ) {
                    if (_battery_ess__generic_1_grid_converter1_vb1_va2__out != _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value)
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value/(_battery_ess__generic_1_grid_converter1_vb1_va2__out - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value);
                        if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction < 0)
                            _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0;
                    else
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt += _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction - _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction;

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt);

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction = _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0;

                } else if ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt >= 5000 ) {
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt);
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0;
                }

                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value = _battery_ess__generic_1_grid_converter1_vb1_va2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum += _battery_ess__generic_1_grid_converter1_vb1_va2__out * _battery_ess__generic_1_grid_converter1_vb1_va2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt ++;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Single Phase Power Meter3.Va RMS
                        

                if( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc ) {
                    if (_battery_ess__generic_1_grid_converter1_vc1_va2__out != _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value)
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value/(_battery_ess__generic_1_grid_converter1_vc1_va2__out - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value);
                        if (_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction < 0)
                            _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0;
                    else
                        _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt += _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction - _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction;

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt);

                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction = _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0;

                } else if ( _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt >= 5000 ) {
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = sqrt(_battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum / _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt);
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0;
                    _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0;
                }

                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value = _battery_ess__generic_1_grid_converter1_vc1_va2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum += _battery_ess__generic_1_grid_converter1_vc1_va2__out * _battery_ess__generic_1_grid_converter1_vc1_va2__out;
                _battery_ess__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt ++;

         // Generated from the component: Grid1.PLL1.normalize
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Ia RMS
                        

                if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc ) {
                    if (_pv_power_plant__generic_1_grid_converter1_ia1_ia2__out != _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value)
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value/(_pv_power_plant__generic_1_grid_converter1_ia1_ia2__out - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value);
                        if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction < 0)
                            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0;
                    else
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction;

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt);

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0;

                } else if ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt >= 5000 ) {
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt);
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0;
                }

                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value = _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum += _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out * _pv_power_plant__generic_1_grid_converter1_ia1_ia2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt ++;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Ia RMS
                        

                if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc ) {
                    if (_pv_power_plant__generic_1_grid_converter1_ib1_ia2__out != _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value)
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value/(_pv_power_plant__generic_1_grid_converter1_ib1_ia2__out - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value);
                        if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction < 0)
                            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0;
                    else
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction;

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt);

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0;

                } else if ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt >= 5000 ) {
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt);
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0;
                }

                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value = _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum += _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out * _pv_power_plant__generic_1_grid_converter1_ib1_ia2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt ++;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Ia RMS
                        

                if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc ) {
                    if (_pv_power_plant__generic_1_grid_converter1_ic1_ia2__out != _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value)
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value/(_pv_power_plant__generic_1_grid_converter1_ic1_ia2__out - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value);
                        if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction < 0)
                            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0;
                    else
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction;

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt);

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0;

                } else if ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt >= 5000 ) {
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt);
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0;
                }

                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value = _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum += _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out * _pv_power_plant__generic_1_grid_converter1_ic1_ia2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt ++;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.normalize
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.normalize
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter1.Va RMS
                        

                if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc ) {
                    if (_pv_power_plant__generic_1_grid_converter1_va1_va2__out != _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value)
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value/(_pv_power_plant__generic_1_grid_converter1_va1_va2__out - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value);
                        if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction < 0)
                            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0;
                    else
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction;

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt);

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0;

                } else if ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt >= 5000 ) {
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt);
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0;
                }

                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value = _pv_power_plant__generic_1_grid_converter1_va1_va2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum += _pv_power_plant__generic_1_grid_converter1_va1_va2__out * _pv_power_plant__generic_1_grid_converter1_va1_va2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt ++;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter2.Va RMS
                        

                if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc ) {
                    if (_pv_power_plant__generic_1_grid_converter1_vb1_va2__out != _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value)
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value/(_pv_power_plant__generic_1_grid_converter1_vb1_va2__out - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value);
                        if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction < 0)
                            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0;
                    else
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction;

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt);

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0;

                } else if ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt >= 5000 ) {
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt);
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0;
                }

                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value = _pv_power_plant__generic_1_grid_converter1_vb1_va2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum += _pv_power_plant__generic_1_grid_converter1_vb1_va2__out * _pv_power_plant__generic_1_grid_converter1_vb1_va2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt ++;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Single Phase Power Meter3.Va RMS
                        

                if( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc ) {
                    if (_pv_power_plant__generic_1_grid_converter1_vc1_va2__out != _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value)
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value/(_pv_power_plant__generic_1_grid_converter1_vc1_va2__out - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value);
                        if (_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction < 0)
                            _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0;
                    else
                        _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt += _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction - _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction;

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt);

                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction = _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0;

                } else if ( _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt >= 5000 ) {
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = sqrt(_pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum / _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt);
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0;
                    _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0;
                }

                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value = _pv_power_plant__generic_1_grid_converter1_vc1_va2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum += _pv_power_plant__generic_1_grid_converter1_vc1_va2__out * _pv_power_plant__generic_1_grid_converter1_vc1_va2__out;
                _pv_power_plant__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt ++;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Ia RMS
                        

                if( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__zc ) {
                    if (_variable_load__generic_1_grid_converter1_ia1_ia2__out != _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value)
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value/(_variable_load__generic_1_grid_converter1_ia1_ia2__out - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value);
                        if (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction < 0)
                            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0;
                    else
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt += _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction;

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt);

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_correction = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__correction;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0;

                } else if ( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt >= 5000 ) {
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt);
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum = 0;
                }

                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__previous_value = _variable_load__generic_1_grid_converter1_ia1_ia2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__square_sum += _variable_load__generic_1_grid_converter1_ia1_ia2__out * _variable_load__generic_1_grid_converter1_ia1_ia2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_ia_rms__sample_cnt ++;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Ia RMS
                        

                if( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__zc ) {
                    if (_variable_load__generic_1_grid_converter1_ib1_ia2__out != _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value)
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value/(_variable_load__generic_1_grid_converter1_ib1_ia2__out - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value);
                        if (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction < 0)
                            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0;
                    else
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt += _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction;

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt);

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_correction = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__correction;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0;

                } else if ( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt >= 5000 ) {
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt);
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum = 0;
                }

                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__previous_value = _variable_load__generic_1_grid_converter1_ib1_ia2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__square_sum += _variable_load__generic_1_grid_converter1_ib1_ia2__out * _variable_load__generic_1_grid_converter1_ib1_ia2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_ia_rms__sample_cnt ++;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Ia RMS
                        

                if( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__zc ) {
                    if (_variable_load__generic_1_grid_converter1_ic1_ia2__out != _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value)
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value/(_variable_load__generic_1_grid_converter1_ic1_ia2__out - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value);
                        if (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction < 0)
                            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0;
                    else
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt += _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction;

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt);

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_correction = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__correction;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0;

                } else if ( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt >= 5000 ) {
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt);
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum = 0;
                }

                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__previous_value = _variable_load__generic_1_grid_converter1_ic1_ia2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__square_sum += _variable_load__generic_1_grid_converter1_ic1_ia2__out * _variable_load__generic_1_grid_converter1_ic1_ia2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_ia_rms__sample_cnt ++;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.normalize
        
    {
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.normalize
        
    {
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter1.Va RMS
                        

                if( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__zc ) {
                    if (_variable_load__generic_1_grid_converter1_va1_va2__out != _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value)
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value/(_variable_load__generic_1_grid_converter1_va1_va2__out - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value);
                        if (_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction < 0)
                            _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0;
                    else
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt += _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction - _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction;

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt);

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_correction = _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__correction;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0;

                } else if ( _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt >= 5000 ) {
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt);
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum = 0;
                }

                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__previous_value = _variable_load__generic_1_grid_converter1_va1_va2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__square_sum += _variable_load__generic_1_grid_converter1_va1_va2__out * _variable_load__generic_1_grid_converter1_va1_va2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter1_va_rms__sample_cnt ++;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter2.Va RMS
                        

                if( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__zc ) {
                    if (_variable_load__generic_1_grid_converter1_vb1_va2__out != _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value)
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value/(_variable_load__generic_1_grid_converter1_vb1_va2__out - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value);
                        if (_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction < 0)
                            _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0;
                    else
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt += _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction - _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction;

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt);

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_correction = _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__correction;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0;

                } else if ( _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt >= 5000 ) {
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt);
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum = 0;
                }

                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__previous_value = _variable_load__generic_1_grid_converter1_vb1_va2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__square_sum += _variable_load__generic_1_grid_converter1_vb1_va2__out * _variable_load__generic_1_grid_converter1_vb1_va2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter2_va_rms__sample_cnt ++;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Single Phase Power Meter3.Va RMS
                        

                if( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__zc ) {
                    if (_variable_load__generic_1_grid_converter1_vc1_va2__out != _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value)
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value/(_variable_load__generic_1_grid_converter1_vc1_va2__out - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value);
                        if (_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction < 0)
                            _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0;
                    else
                        _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt += _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction - _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction;

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt);

                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_correction = _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__correction;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0;

                } else if ( _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt >= 5000 ) {
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__out_state = sqrt(_variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum / _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt);
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt = 0;
                    _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum = 0;
                }

                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__previous_value = _variable_load__generic_1_grid_converter1_vc1_va2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__square_sum += _variable_load__generic_1_grid_converter1_vc1_va2__out * _variable_load__generic_1_grid_converter1_vc1_va2__out;
                _variable_load__generic_1_grid_converter1_single_phase_power_meter3_va_rms__sample_cnt ++;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.C function4
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.C function4
        
    {
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.C function4
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d3.Integrator1
                 _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out * 0.0001;


            if (_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out > 0)
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 1;
            else if (_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out < 0)
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = -1;
            else
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 0;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d3.Integrator1
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out * 0.0001;


            if (_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out > 0)
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 1;
            else if (_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out < 0)
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = -1;
            else
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 0;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d3.Integrator1
                 _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__state += _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_sum7__out * 0.0001;


            if (_variable_load__generic_1_grid_converter1_inverter_control_sum9__out > 0)
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 1;
            else if (_variable_load__generic_1_grid_converter1_inverter_control_sum9__out < 0)
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = -1;
            else
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d3_integrator1__reset_state = 0;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d.Integrator1
                 _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_sum7__out * 0.0001;


            if (_battery_ess__generic_1_grid_converter1_inverter_control_sum11__out > 0)
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 1;
            else if (_battery_ess__generic_1_grid_converter1_inverter_control_sum11__out < 0)
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = -1;
            else
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 0;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d.Integrator1
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_sum7__out * 0.0001;


            if (_pv_power_plant__generic_1_grid_converter1_inverter_control_sum11__out > 0)
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 1;
            else if (_pv_power_plant__generic_1_grid_converter1_inverter_control_sum11__out < 0)
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = -1;
            else
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 0;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d.Integrator1
                 _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__state += _variable_load__generic_1_grid_converter1_inverter_control_pi_d_sum7__out * 0.0001;


            if (_variable_load__generic_1_grid_converter1_inverter_control_sum11__out > 0)
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 1;
            else if (_variable_load__generic_1_grid_converter1_inverter_control_sum11__out < 0)
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = -1;
            else
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d_integrator1__reset_state = 0;


         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.Rate Limiter1
              

_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state > _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0])
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0];
else  if (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state < _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0])
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state += (_battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0]);
else
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;

    _battery_ess__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step = 0;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL1.integrator
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.Rate Limiter1
              

_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state > _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0])
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0];
else  if (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state < _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0])
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state += (_battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0]);
else
                    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = _battery_ess__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;

    _battery_ess__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step = 0;

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PLL2.integrator
        
    {
}

         // Generated from the component: Grid1.PLL1.Rate Limiter1
              

_grid1_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_grid1_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_grid1_pll1_pid_limit1__out - _grid1_pll1_rate_limiter1__state > _grid1_pll1_rate_limiter1__rising_rate_lim[0])
                    _grid1_pll1_rate_limiter1__state += _grid1_pll1_rate_limiter1__rising_rate_lim[0];
else  if (_grid1_pll1_pid_limit1__out - _grid1_pll1_rate_limiter1__state < _grid1_pll1_rate_limiter1__falling_rate_lim[0])
                    _grid1_pll1_rate_limiter1__state += (_grid1_pll1_rate_limiter1__falling_rate_lim[0]);
else
                    _grid1_pll1_rate_limiter1__state = _grid1_pll1_pid_limit1__out;

    _grid1_pll1_rate_limiter1__first_step = 0;

         // Generated from the component: Grid1.PLL1.integrator
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.Rate Limiter1
              

_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state > _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0])
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0];
else  if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state < _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0])
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state += (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0]);
else
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;

    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step = 0;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL1.integrator
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.Rate Limiter1
              

_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state > _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0])
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0];
else  if (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state < _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0])
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state += (_pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0]);
else
                    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;

    _pv_power_plant__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step = 0;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PLL2.integrator
        
    {
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.Rate Limiter1
              

_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state > _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0])
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state += _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__rising_rate_lim[0];
else  if (_variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state < _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0])
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state += (_variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__falling_rate_lim[0]);
else
                    _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__state = _variable_load__generic_1_grid_converter1_inverter_control_pll1_pid_limit1__out;

    _variable_load__generic_1_grid_converter1_inverter_control_pll1_rate_limiter1__first_step = 0;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL1.integrator
        
    {
}

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.Rate Limiter1
              

_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0] = 75.39822368615503 * 0.0001;
_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0] = -75.39822368615503 * 0.0001;


if (_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state > _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0])
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state += _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__rising_rate_lim[0];
else  if (_variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out - _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state < _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0])
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state += (_variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__falling_rate_lim[0]);
else
                    _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__state = _variable_load__generic_1_grid_converter1_inverter_control_pll2_pid_limit1__out;

    _variable_load__generic_1_grid_converter1_inverter_control_pll2_rate_limiter1__first_step = 0;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PLL2.integrator
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Inverter control.PI_d2.Integrator1
                 _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state += _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out * 0.0001;


            if (_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out > 0)
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 1;
            else if (_battery_ess__generic_1_grid_converter1_inverter_control_sum9__out < 0)
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = -1;
            else
                _battery_ess__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 0;


         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Inverter control.PI_d2.Integrator1
                 _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state += _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out * 0.0001;


            if (_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out > 0)
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 1;
            else if (_pv_power_plant__generic_1_grid_converter1_inverter_control_sum9__out < 0)
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = -1;
            else
                _pv_power_plant__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 0;


         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Inverter control.PI_d2.Integrator1
                 _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__state += _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_sum7__out * 0.0001;


            if (_variable_load__generic_1_grid_converter1_inverter_control_sum9__out > 0)
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 1;
            else if (_variable_load__generic_1_grid_converter1_inverter_control_sum9__out < 0)
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = -1;
            else
                _variable_load__generic_1_grid_converter1_inverter_control_pi_d2_integrator1__reset_state = 0;


    //@cmp.update.block.end
}
void TimerCounterHandler_1_user_sp_cpu0_dev0() {

#if DEBUG_MODE
    printf("\n\rTimerCounterHandler_1");
#endif

    //////////////////////////////////////////////////////////////////////////
    // Set tunable parameters
    //////////////////////////////////////////////////////////////////////////
             // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Control Join1.Reserved
            


             // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) External Join1.Reserved
            


             // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Constant1
            


             // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Constant2
            


             // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Constant3
            


             // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Constant2
            


             // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Constant3
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant1
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant11
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant12
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant14
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant15
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant16
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant17
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant2
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant20
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant23
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant24
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant25
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant26
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Constant3
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Constant1
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Constant2
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Constant3
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Constant4
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Constant27
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Constant28
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Constant29
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Constant30
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Constant31
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Constant32
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.fs1_hzwatt
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.fsn_hzwatt
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.reserved_ins
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.reserved_outs1
            


             // Generated from the component: Battery ESS (Generic)1.battery_converter_control.reserved_outs2
            


             // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Control Join1.Reserved
            


             // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) External Join1.Reserved
            


             // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Constant1
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant1
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant2
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant26
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant3
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant5
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant6
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Constant7
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Constant1
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Constant2
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Constant3
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Constant4
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Constant27
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Constant28
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Constant29
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Constant30
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Constant31
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Constant32
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.fs1_hzwatt
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.fsn_hzwatt
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.reserved_outs
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.reserved_outs1
            


             // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.reserved_outs2
            


             // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Control Join.Reserved
            


             // Generated from the component: Variable Load (Generic) UI1.DER (Generic) External Join1.Reserved
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant1
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant12
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant15
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant18
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant2
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant3
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant6
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant7
            


             // Generated from the component: Variable Load (Generic)1.converter_control.Constant8
            


             // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Constant1
            


             // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Constant2
            


             // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Constant3
            


             // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Constant4
            


             // Generated from the component: Variable Load (Generic)1.converter_control.reserved_ins
            


//////////////////////////////////////////////////////////////////////////
    // Output block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.out.block.start
         // Generated from the component: Battery ESS (Generic) UI1.Converter mode
                    _battery_ess__generic__ui1_converter_mode__out = XIo_InFloat(0x55000100);

         // Generated from the component: Battery ESS (Generic) UI1.Enable
                    _battery_ess__generic__ui1_enable__out = XIo_InFloat(0x55000104);

         // Generated from the component: Battery ESS (Generic) UI1.F alarm lower limit
                    _battery_ess__generic__ui1_f_alarm_lower_limit__out = XIo_InFloat(0x55000108);

         // Generated from the component: Battery ESS (Generic) UI1.F alarm upper limit
                    _battery_ess__generic__ui1_f_alarm_upper_limit__out = XIo_InFloat(0x5500010c);

         // Generated from the component: Battery ESS (Generic) UI1.Fref
                    _battery_ess__generic__ui1_fref__out = XIo_InFloat(0x55000110);

         // Generated from the component: Battery ESS (Generic) UI1.Fref rate of change
                    _battery_ess__generic__ui1_fref_rate_of_change__out = XIo_InFloat(0x55000114);

         // Generated from the component: Battery ESS (Generic) UI1.Frequency droop coeff
                    _battery_ess__generic__ui1_frequency_droop_coeff__out = XIo_InFloat(0x55000118);

         // Generated from the component: Battery ESS (Generic) UI1.Frequency droop offset
                    _battery_ess__generic__ui1_frequency_droop_offset__out = XIo_InFloat(0x5500011c);

         // Generated from the component: Battery ESS (Generic) UI1.HzWatt enable
                    _battery_ess__generic__ui1_hzwatt_enable__out = XIo_InFloat(0x55000120);

         // Generated from the component: Battery ESS (Generic) UI1.I alarm upper limit
                    _battery_ess__generic__ui1_i_alarm_upper_limit__out = XIo_InFloat(0x55000124);

         // Generated from the component: Battery ESS (Generic) UI1.Initial SOC
                    _battery_ess__generic__ui1_initial_soc__out = XIo_InFloat(0x55000128);

         // Generated from the component: Battery ESS (Generic) UI1.Initial SOH
                    _battery_ess__generic__ui1_initial_soh__out = XIo_InFloat(0x5500012c);

         // Generated from the component: Battery ESS (Generic) UI1.LVRT P set
                    _battery_ess__generic__ui1_lvrt_p_set__out = XIo_InFloat(0x55000130);

         // Generated from the component: Battery ESS (Generic) UI1.LVRT Q contribution
                    _battery_ess__generic__ui1_lvrt_q_contribution__out = XIo_InFloat(0x55000134);

         // Generated from the component: Battery ESS (Generic) UI1.LVRT enable
                    _battery_ess__generic__ui1_lvrt_enable__out = XIo_InFloat(0x55000138);

         // Generated from the component: Battery ESS (Generic) UI1.Max SOC
                    _battery_ess__generic__ui1_max_soc__out = XIo_InFloat(0x5500013c);

         // Generated from the component: Battery ESS (Generic) UI1.Min SOC
                    _battery_ess__generic__ui1_min_soc__out = XIo_InFloat(0x55000140);

         // Generated from the component: Battery ESS (Generic) UI1.Pref
                    _battery_ess__generic__ui1_pref__out = XIo_InFloat(0x55000144);

         // Generated from the component: Battery ESS (Generic) UI1.Pref rate of change
                    _battery_ess__generic__ui1_pref_rate_of_change__out = XIo_InFloat(0x55000148);

         // Generated from the component: Battery ESS (Generic) UI1.Qref
                    _battery_ess__generic__ui1_qref__out = XIo_InFloat(0x5500014c);

         // Generated from the component: Battery ESS (Generic) UI1.Qref rate of change
                    _battery_ess__generic__ui1_qref_rate_of_change__out = XIo_InFloat(0x55000150);

         // Generated from the component: Battery ESS (Generic) UI1.Reset alarms
                    _battery_ess__generic__ui1_reset_alarms__out = XIo_InFloat(0x55000154);

         // Generated from the component: Battery ESS (Generic) UI1.S alarm upper limit
                    _battery_ess__generic__ui1_s_alarm_upper_limit__out = XIo_InFloat(0x55000158);

         // Generated from the component: Battery ESS (Generic) UI1.V alarm lower limit
                    _battery_ess__generic__ui1_v_alarm_lower_limit__out = XIo_InFloat(0x5500015c);

         // Generated from the component: Battery ESS (Generic) UI1.V alarm upper limit
                    _battery_ess__generic__ui1_v_alarm_upper_limit__out = XIo_InFloat(0x55000160);

         // Generated from the component: Battery ESS (Generic) UI1.VoltVAr enable
                    _battery_ess__generic__ui1_voltvar_enable__out = XIo_InFloat(0x55000164);

         // Generated from the component: Battery ESS (Generic) UI1.VoltWatt enable
                    _battery_ess__generic__ui1_voltwatt_enable__out = XIo_InFloat(0x55000168);

         // Generated from the component: Battery ESS (Generic) UI1.Voltage droop coeff
                    _battery_ess__generic__ui1_voltage_droop_coeff__out = XIo_InFloat(0x5500016c);

         // Generated from the component: Battery ESS (Generic) UI1.Voltage droop offset
                    _battery_ess__generic__ui1_voltage_droop_offset__out = XIo_InFloat(0x55000170);

         // Generated from the component: Battery ESS (Generic) UI1.Vrms_ref
                    _battery_ess__generic__ui1_vrms_ref__out = XIo_InFloat(0x55000174);

         // Generated from the component: Battery ESS (Generic) UI1.Vrms_ref rate of change
                    _battery_ess__generic__ui1_vrms_ref_rate_of_change__out = XIo_InFloat(0x55000178);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter1.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Main state machine
        
    {
    switch ( _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state )     {
        case 1 : _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out = 1 ; _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out = 0.0 ; break; case 2 : _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out = 2 ; _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out = 1.0 ; break; case 3 : _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out = 3 ; _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out = 0.0 ; break; case 4 : _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out = 4 ; _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out = 0.0 ; break; default : _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out = 3 ; _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out = 0.0 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping1.Ramping
        
    {
    _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a * 0.0005 * _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i + _battery_ess__generic_1_battery_converter_control_ramping1_ramping__b ; if ( _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out > _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a >= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i + 1 ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out < _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a <= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i + 1 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping2.Ramping
        
    {
    _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a * 0.0005 * _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i + _battery_ess__generic_1_battery_converter_control_ramping2_ramping__b ; if ( _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out > _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a >= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i + 1 ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out < _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a <= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i + 1 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping3.Ramping
        
    {
    _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a * 0.0005 * _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i + _battery_ess__generic_1_battery_converter_control_ramping3_ramping__b ; if ( _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out > _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a >= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i + 1 ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out < _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a <= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i + 1 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping4.Ramping
        
    {
    _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a * 0.0005 * _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i + _battery_ess__generic_1_battery_converter_control_ramping4_ramping__b ; if ( _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out > _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a >= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i + 1 ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out < _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref && _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a <= 0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i + 1 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Rate Transition15.Output
        _battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[0] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[0];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[1] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[1];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[2] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[2];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[3] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[3];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[4] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[4];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[5] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[5];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[6] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[6];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[7] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[7];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[8] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[8];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[9] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[9];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[10] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[10];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[11] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[11];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[12] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[12];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[13] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[13];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[14] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[14];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[15] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[15];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[16] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[16];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[17] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[17];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[18] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[18];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[19] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[19];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[20] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[20];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[21] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[21];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[22] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[22];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[23] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[23];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[24] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[24];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[25] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[25];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[26] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[26];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[27] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[27];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[28] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[28];_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[29] = _battery_ess__generic_1_battery_converter_control_rate_transition15_output__state[29];
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__out = _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__out = _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic) UI1.Enable
                    _pv_power_plant__generic__ui1_enable__out = XIo_InFloat(0x55000188);

         // Generated from the component: PV Power Plant (Generic) UI1.F alarm lower limit
                    _pv_power_plant__generic__ui1_f_alarm_lower_limit__out = XIo_InFloat(0x5500018c);

         // Generated from the component: PV Power Plant (Generic) UI1.F alarm upper limit
                    _pv_power_plant__generic__ui1_f_alarm_upper_limit__out = XIo_InFloat(0x55000190);

         // Generated from the component: PV Power Plant (Generic) UI1.HzWatt enable
                    _pv_power_plant__generic__ui1_hzwatt_enable__out = XIo_InFloat(0x55000194);

         // Generated from the component: PV Power Plant (Generic) UI1.I alarm upper limit
                    _pv_power_plant__generic__ui1_i_alarm_upper_limit__out = XIo_InFloat(0x55000198);

         // Generated from the component: PV Power Plant (Generic) UI1.Irradiance
                    _pv_power_plant__generic__ui1_irradiance__out = XIo_InFloat(0x5500019c);

         // Generated from the component: PV Power Plant (Generic) UI1.LVRT P set
                    _pv_power_plant__generic__ui1_lvrt_p_set__out = XIo_InFloat(0x550001a0);

         // Generated from the component: PV Power Plant (Generic) UI1.LVRT Q contribution
                    _pv_power_plant__generic__ui1_lvrt_q_contribution__out = XIo_InFloat(0x550001a4);

         // Generated from the component: PV Power Plant (Generic) UI1.LVRT enable
                    _pv_power_plant__generic__ui1_lvrt_enable__out = XIo_InFloat(0x550001a8);

         // Generated from the component: PV Power Plant (Generic) UI1.MPPT rate of change
                    _pv_power_plant__generic__ui1_mppt_rate_of_change__out = XIo_InFloat(0x550001ac);

         // Generated from the component: PV Power Plant (Generic) UI1.Pcurtailment
                    _pv_power_plant__generic__ui1_pcurtailment__out = XIo_InFloat(0x550001b0);

         // Generated from the component: PV Power Plant (Generic) UI1.Pcurtailment rate of change
                    _pv_power_plant__generic__ui1_pcurtailment_rate_of_change__out = XIo_InFloat(0x550001b4);

         // Generated from the component: PV Power Plant (Generic) UI1.Qref
                    _pv_power_plant__generic__ui1_qref__out = XIo_InFloat(0x550001b8);

         // Generated from the component: PV Power Plant (Generic) UI1.Qref rate of change
                    _pv_power_plant__generic__ui1_qref_rate_of_change__out = XIo_InFloat(0x550001bc);

         // Generated from the component: PV Power Plant (Generic) UI1.Reset alarms
                    _pv_power_plant__generic__ui1_reset_alarms__out = XIo_InFloat(0x550001c0);

         // Generated from the component: PV Power Plant (Generic) UI1.S alarm upper limit
                    _pv_power_plant__generic__ui1_s_alarm_upper_limit__out = XIo_InFloat(0x550001c4);

         // Generated from the component: PV Power Plant (Generic) UI1.Temperature
                    _pv_power_plant__generic__ui1_temperature__out = XIo_InFloat(0x550001c8);

         // Generated from the component: PV Power Plant (Generic) UI1.V alarm lower limit
                    _pv_power_plant__generic__ui1_v_alarm_lower_limit__out = XIo_InFloat(0x550001cc);

         // Generated from the component: PV Power Plant (Generic) UI1.V alarm upper limit
                    _pv_power_plant__generic__ui1_v_alarm_upper_limit__out = XIo_InFloat(0x550001d0);

         // Generated from the component: PV Power Plant (Generic) UI1.VoltVAr enable
                    _pv_power_plant__generic__ui1_voltvar_enable__out = XIo_InFloat(0x550001d4);

         // Generated from the component: PV Power Plant (Generic) UI1.VoltWatt enable
                    _pv_power_plant__generic__ui1_voltwatt_enable__out = XIo_InFloat(0x550001d8);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter1.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Main state machine
        
    {
    switch ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state )     {
        case 1 : _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out = 1 ; _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out = 0.0 ; break; case 2 : _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out = 2 ; _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out = 1.0 ; break; case 3 : _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out = 3 ; _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out = 0.0 ; break; case 4 : _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out = 4 ; _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out = 0.0 ; break; default : _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out = 3 ; _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out = 0.0 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping1.Ramping
        
    {
    _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a * 0.0005 * _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i + _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__b ; if ( _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out > _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref && _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a >= 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i + 1 ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out < _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref && _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a <= 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i + 1 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping2.Ramping
        
    {
    _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a * 0.0005 * _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i + _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__b ; if ( _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out > _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref && _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a >= 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i + 1 ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out < _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref && _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a <= 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i + 1 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping3.Ramping
        
    {
    _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a * 0.0005 * _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i + _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__b ; if ( _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out > _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref && _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a >= 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i + 1 ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out < _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref && _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a <= 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i + 1 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Rate Transition15.Output
        _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[0] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[0];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[1] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[1];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[2] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[2];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[3] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[3];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[4] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[4];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[5] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[5];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[6] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[6];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[7] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[7];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[8] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[8];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[9] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[9];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[10] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[10];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[11] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[11];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[12] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[12];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[13] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[13];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[14] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[14];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[15] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[15];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[16] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[16];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[17] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[17];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[18] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[18];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[19] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[19];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[20] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[20];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[21] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[21];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[22] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[22];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[23] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[23];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[24] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[24];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[25] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[25];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[26] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[26];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[27] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[27];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[28] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[28];_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[29] = _pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__state[29];
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__out = _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__out = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__state;

         // Generated from the component: Variable Load (Generic) UI1.Enable
                    _variable_load__generic__ui1_enable__out = XIo_InFloat(0x550001dc);

         // Generated from the component: Variable Load (Generic) UI1.F alarm lower limit
                    _variable_load__generic__ui1_f_alarm_lower_limit__out = XIo_InFloat(0x550001e0);

         // Generated from the component: Variable Load (Generic) UI1.F alarm upper limit
                    _variable_load__generic__ui1_f_alarm_upper_limit__out = XIo_InFloat(0x550001e4);

         // Generated from the component: Variable Load (Generic) UI1.I alarm upper limit
                    _variable_load__generic__ui1_i_alarm_upper_limit__out = XIo_InFloat(0x550001e8);

         // Generated from the component: Variable Load (Generic) UI1.P dependency type
                    _variable_load__generic__ui1_p_dependency_type__out = XIo_InFloat(0x550001ec);

         // Generated from the component: Variable Load (Generic) UI1.P(V) k1
                    _variable_load__generic__ui1_p_v__k1__out = XIo_InFloat(0x550001f0);

         // Generated from the component: Variable Load (Generic) UI1.P(V) k2
                    _variable_load__generic__ui1_p_v__k2__out = XIo_InFloat(0x550001f4);

         // Generated from the component: Variable Load (Generic) UI1.P(f) k1
                    _variable_load__generic__ui1_p_f__k1__out = XIo_InFloat(0x550001f8);

         // Generated from the component: Variable Load (Generic) UI1.P(f) k2
                    _variable_load__generic__ui1_p_f__k2__out = XIo_InFloat(0x550001fc);

         // Generated from the component: Variable Load (Generic) UI1.Pref
                    _variable_load__generic__ui1_pref__out = XIo_InFloat(0x55000200);

         // Generated from the component: Variable Load (Generic) UI1.Pref rate of change
                    _variable_load__generic__ui1_pref_rate_of_change__out = XIo_InFloat(0x55000204);

         // Generated from the component: Variable Load (Generic) UI1.Q dependency type
                    _variable_load__generic__ui1_q_dependency_type__out = XIo_InFloat(0x55000208);

         // Generated from the component: Variable Load (Generic) UI1.Q(V) k1
                    _variable_load__generic__ui1_q_v__k1__out = XIo_InFloat(0x5500020c);

         // Generated from the component: Variable Load (Generic) UI1.Q(V) k2
                    _variable_load__generic__ui1_q_v__k2__out = XIo_InFloat(0x55000210);

         // Generated from the component: Variable Load (Generic) UI1.Q(f) k1
                    _variable_load__generic__ui1_q_f__k1__out = XIo_InFloat(0x55000214);

         // Generated from the component: Variable Load (Generic) UI1.Q(f) k2
                    _variable_load__generic__ui1_q_f__k2__out = XIo_InFloat(0x55000218);

         // Generated from the component: Variable Load (Generic) UI1.Qref
                    _variable_load__generic__ui1_qref__out = XIo_InFloat(0x5500021c);

         // Generated from the component: Variable Load (Generic) UI1.Qref rate of change
                    _variable_load__generic__ui1_qref_rate_of_change__out = XIo_InFloat(0x55000220);

         // Generated from the component: Variable Load (Generic) UI1.Reset alarms
                    _variable_load__generic__ui1_reset_alarms__out = XIo_InFloat(0x55000224);

         // Generated from the component: Variable Load (Generic) UI1.S alarm upper limit
                    _variable_load__generic__ui1_s_alarm_upper_limit__out = XIo_InFloat(0x55000228);

         // Generated from the component: Variable Load (Generic) UI1.V alarm lower limit
                    _variable_load__generic__ui1_v_alarm_lower_limit__out = XIo_InFloat(0x5500022c);

         // Generated from the component: Variable Load (Generic) UI1.V alarm upper limit
                    _variable_load__generic__ui1_v_alarm_upper_limit__out = XIo_InFloat(0x55000230);

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter.Unit Delay1
              _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state;

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter1.Unit Delay1
              _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state;

         // Generated from the component: Variable Load (Generic)1.converter_control.Main state machine
        
    {
    switch ( _variable_load__generic_1_converter_control_main_state_machine__current_state )     {
        case 1 : _variable_load__generic_1_converter_control_main_state_machine__state_out = 1 ; _variable_load__generic_1_converter_control_main_state_machine__enable_out = 0.0 ; break; case 2 : _variable_load__generic_1_converter_control_main_state_machine__state_out = 2 ; _variable_load__generic_1_converter_control_main_state_machine__enable_out = 1.0 ; break; case 3 : _variable_load__generic_1_converter_control_main_state_machine__state_out = 3 ; _variable_load__generic_1_converter_control_main_state_machine__enable_out = 0.0 ; break; case 4 : _variable_load__generic_1_converter_control_main_state_machine__state_out = 4 ; _variable_load__generic_1_converter_control_main_state_machine__enable_out = 0.0 ; break; default : _variable_load__generic_1_converter_control_main_state_machine__state_out = 3 ; _variable_load__generic_1_converter_control_main_state_machine__enable_out = 0.0 ;
}

}

         // Generated from the component: Variable Load (Generic)1.converter_control.Ramping P.Ramping
        
    {
    _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out = _variable_load__generic_1_converter_control_ramping_p_ramping__a * 0.0005 * _variable_load__generic_1_converter_control_ramping_p_ramping__i + _variable_load__generic_1_converter_control_ramping_p_ramping__b ; if ( _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out > _variable_load__generic_1_converter_control_ramping_p_ramping__pref && _variable_load__generic_1_converter_control_ramping_p_ramping__a >= 0 )     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out = _variable_load__generic_1_converter_control_ramping_p_ramping__pref ;
}
 else     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__i = _variable_load__generic_1_converter_control_ramping_p_ramping__i + 1 ;
}
 if ( _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out < _variable_load__generic_1_converter_control_ramping_p_ramping__pref && _variable_load__generic_1_converter_control_ramping_p_ramping__a <= 0 )     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out = _variable_load__generic_1_converter_control_ramping_p_ramping__pref ;
}
 else     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__i = _variable_load__generic_1_converter_control_ramping_p_ramping__i + 1 ;
}

}

         // Generated from the component: Variable Load (Generic)1.converter_control.Ramping Q.Ramping
        
    {
    _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out = _variable_load__generic_1_converter_control_ramping_q_ramping__a * 0.0005 * _variable_load__generic_1_converter_control_ramping_q_ramping__i + _variable_load__generic_1_converter_control_ramping_q_ramping__b ; if ( _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out > _variable_load__generic_1_converter_control_ramping_q_ramping__pref && _variable_load__generic_1_converter_control_ramping_q_ramping__a >= 0 )     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out = _variable_load__generic_1_converter_control_ramping_q_ramping__pref ;
}
 else     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__i = _variable_load__generic_1_converter_control_ramping_q_ramping__i + 1 ;
}
 if ( _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out < _variable_load__generic_1_converter_control_ramping_q_ramping__pref && _variable_load__generic_1_converter_control_ramping_q_ramping__a <= 0 )     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out = _variable_load__generic_1_converter_control_ramping_q_ramping__pref ;
}
 else     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__i = _variable_load__generic_1_converter_control_ramping_q_ramping__i + 1 ;
}

}

         // Generated from the component: Variable Load (Generic)1.converter_control.Rate Transition15.Output
        _variable_load__generic_1_converter_control_rate_transition15_output__out[0] = _variable_load__generic_1_converter_control_rate_transition15_output__state[0];_variable_load__generic_1_converter_control_rate_transition15_output__out[1] = _variable_load__generic_1_converter_control_rate_transition15_output__state[1];_variable_load__generic_1_converter_control_rate_transition15_output__out[2] = _variable_load__generic_1_converter_control_rate_transition15_output__state[2];_variable_load__generic_1_converter_control_rate_transition15_output__out[3] = _variable_load__generic_1_converter_control_rate_transition15_output__state[3];_variable_load__generic_1_converter_control_rate_transition15_output__out[4] = _variable_load__generic_1_converter_control_rate_transition15_output__state[4];_variable_load__generic_1_converter_control_rate_transition15_output__out[5] = _variable_load__generic_1_converter_control_rate_transition15_output__state[5];_variable_load__generic_1_converter_control_rate_transition15_output__out[6] = _variable_load__generic_1_converter_control_rate_transition15_output__state[6];_variable_load__generic_1_converter_control_rate_transition15_output__out[7] = _variable_load__generic_1_converter_control_rate_transition15_output__state[7];_variable_load__generic_1_converter_control_rate_transition15_output__out[8] = _variable_load__generic_1_converter_control_rate_transition15_output__state[8];_variable_load__generic_1_converter_control_rate_transition15_output__out[9] = _variable_load__generic_1_converter_control_rate_transition15_output__state[9];_variable_load__generic_1_converter_control_rate_transition15_output__out[10] = _variable_load__generic_1_converter_control_rate_transition15_output__state[10];_variable_load__generic_1_converter_control_rate_transition15_output__out[11] = _variable_load__generic_1_converter_control_rate_transition15_output__state[11];_variable_load__generic_1_converter_control_rate_transition15_output__out[12] = _variable_load__generic_1_converter_control_rate_transition15_output__state[12];_variable_load__generic_1_converter_control_rate_transition15_output__out[13] = _variable_load__generic_1_converter_control_rate_transition15_output__state[13];_variable_load__generic_1_converter_control_rate_transition15_output__out[14] = _variable_load__generic_1_converter_control_rate_transition15_output__state[14];_variable_load__generic_1_converter_control_rate_transition15_output__out[15] = _variable_load__generic_1_converter_control_rate_transition15_output__state[15];_variable_load__generic_1_converter_control_rate_transition15_output__out[16] = _variable_load__generic_1_converter_control_rate_transition15_output__state[16];_variable_load__generic_1_converter_control_rate_transition15_output__out[17] = _variable_load__generic_1_converter_control_rate_transition15_output__state[17];_variable_load__generic_1_converter_control_rate_transition15_output__out[18] = _variable_load__generic_1_converter_control_rate_transition15_output__state[18];_variable_load__generic_1_converter_control_rate_transition15_output__out[19] = _variable_load__generic_1_converter_control_rate_transition15_output__state[19];_variable_load__generic_1_converter_control_rate_transition15_output__out[20] = _variable_load__generic_1_converter_control_rate_transition15_output__state[20];_variable_load__generic_1_converter_control_rate_transition15_output__out[21] = _variable_load__generic_1_converter_control_rate_transition15_output__state[21];_variable_load__generic_1_converter_control_rate_transition15_output__out[22] = _variable_load__generic_1_converter_control_rate_transition15_output__state[22];_variable_load__generic_1_converter_control_rate_transition15_output__out[23] = _variable_load__generic_1_converter_control_rate_transition15_output__state[23];_variable_load__generic_1_converter_control_rate_transition15_output__out[24] = _variable_load__generic_1_converter_control_rate_transition15_output__state[24];_variable_load__generic_1_converter_control_rate_transition15_output__out[25] = _variable_load__generic_1_converter_control_rate_transition15_output__state[25];_variable_load__generic_1_converter_control_rate_transition15_output__out[26] = _variable_load__generic_1_converter_control_rate_transition15_output__state[26];_variable_load__generic_1_converter_control_rate_transition15_output__out[27] = _variable_load__generic_1_converter_control_rate_transition15_output__state[27];_variable_load__generic_1_converter_control_rate_transition15_output__out[28] = _variable_load__generic_1_converter_control_rate_transition15_output__state[28];_variable_load__generic_1_converter_control_rate_transition15_output__out[29] = _variable_load__generic_1_converter_control_rate_transition15_output__state[29];
         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) External Join1.Bus Join
        
	        	_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[0] = _battery_ess__generic__ui1_initial_soc__out;
 	        	_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[1] = _battery_ess__generic__ui1_initial_soh__out;
 	        	_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[2] = _battery_ess__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[3] = _battery_ess__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[4] = _battery_ess__generic__ui1_der__generic__external_join1_reserved__out;
 
         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Control Join1.Bus Join
        
	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[0] = _battery_ess__generic__ui1_enable__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[1] = _battery_ess__generic__ui1_converter_mode__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[2] = _battery_ess__generic__ui1_reset_alarms__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[3] = _battery_ess__generic__ui1_pref__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[4] = _battery_ess__generic__ui1_qref__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[5] = _battery_ess__generic__ui1_frequency_droop_offset__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[6] = _battery_ess__generic__ui1_frequency_droop_coeff__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[7] = _battery_ess__generic__ui1_voltage_droop_coeff__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[8] = _battery_ess__generic__ui1_vrms_ref__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[9] = _battery_ess__generic__ui1_fref__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[10] = _battery_ess__generic__ui1_max_soc__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[11] = _battery_ess__generic__ui1_min_soc__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[12] = _battery_ess__generic__ui1_pref_rate_of_change__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[13] = _battery_ess__generic__ui1_qref_rate_of_change__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[14] = _battery_ess__generic__ui1_vrms_ref_rate_of_change__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[15] = _battery_ess__generic__ui1_fref_rate_of_change__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[16] = _battery_ess__generic__ui1_lvrt_enable__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[17] = _battery_ess__generic__ui1_lvrt_q_contribution__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[18] = _battery_ess__generic__ui1_lvrt_p_set__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[19] = _battery_ess__generic__ui1_v_alarm_upper_limit__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[20] = _battery_ess__generic__ui1_v_alarm_lower_limit__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[21] = _battery_ess__generic__ui1_f_alarm_upper_limit__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[22] = _battery_ess__generic__ui1_f_alarm_lower_limit__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[23] = _battery_ess__generic__ui1_s_alarm_upper_limit__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[24] = _battery_ess__generic__ui1_i_alarm_upper_limit__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[25] = _battery_ess__generic__ui1_voltvar_enable__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[26] = _battery_ess__generic__ui1_hzwatt_enable__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[27] = _battery_ess__generic__ui1_voltwatt_enable__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[28] = _battery_ess__generic__ui1_voltage_droop_offset__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[29] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[30] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[31] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[32] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[33] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[34] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[35] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[36] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[37] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[38] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[39] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[40] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[41] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[42] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[43] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[44] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[45] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[46] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[47] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[48] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[49] = _battery_ess__generic__ui1_der__generic__control_join1_reserved__out;
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter.a
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_a__out = 0.6 * _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter1.a
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_a__out = 0.6 * _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain47
                    _battery_ess__generic_1_battery_converter_control_gain47__out = 0.001 * _battery_ess__generic_1_battery_converter_control_constant1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain48
                    _battery_ess__generic_1_battery_converter_control_gain48__out = 0.001 * _battery_ess__generic_1_battery_converter_control_constant2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain49
                    _battery_ess__generic_1_battery_converter_control_gain49__out = 0.001 * _battery_ess__generic_1_battery_converter_control_constant3__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.filter.a
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_a__out = 0.5 * _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Split1
                     _battery_ess__generic_1_battery_converter_control_bus_split1__out=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[0];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out1=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[1];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out2=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[2];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out3=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[3];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out4=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[4];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out5=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[5];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out6=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[6];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out7=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[7];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out8=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[8];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out9=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[9];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out10=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[10];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out11=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[11];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out12=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[12];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out13=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[13];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out14=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[14];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out15=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[15];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out16=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[16];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out17=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[17];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out18=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[18];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out19=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[19];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out20=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[20];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out21=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[21];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out22=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[22];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out23=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[23];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out24=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[24];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out25=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[25];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out26=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[26];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out27=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[27];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out28=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[28];
 
            _battery_ess__generic_1_battery_converter_control_bus_split1__out29=_battery_ess__generic_1_battery_converter_control_rate_transition15_output__out[29];
 

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.filter.a
                    _battery_ess__generic_1_battery_converter_control_voltvar1_filter_a__out = 0.5 * _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.filter.a
                    _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_a__out = 0.9 * _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain54
                    _battery_ess__generic_1_battery_converter_control_gain54__out = 0.02 * _battery_ess__generic_1_battery_converter_control_fs1_hzwatt__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain55
                    _battery_ess__generic_1_battery_converter_control_gain55__out = 0.02 * _battery_ess__generic_1_battery_converter_control_fsn_hzwatt__out;

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) External Join1.Bus Join
        
	        	_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[0] = _pv_power_plant__generic__ui1_temperature__out;
 	        	_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[1] = _pv_power_plant__generic__ui1_irradiance__out;
 	        	_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[2] = _pv_power_plant__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[3] = _pv_power_plant__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[4] = _pv_power_plant__generic__ui1_der__generic__external_join1_reserved__out;
 
         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Control Join1.Bus Join
        
	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[0] = _pv_power_plant__generic__ui1_enable__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[1] = _pv_power_plant__generic__ui1_reset_alarms__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[2] = _pv_power_plant__generic__ui1_pcurtailment__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[3] = _pv_power_plant__generic__ui1_qref__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[4] = _pv_power_plant__generic__ui1_pcurtailment_rate_of_change__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[5] = _pv_power_plant__generic__ui1_qref_rate_of_change__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[6] = _pv_power_plant__generic__ui1_mppt_rate_of_change__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[7] = _pv_power_plant__generic__ui1_lvrt_enable__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[8] = _pv_power_plant__generic__ui1_lvrt_q_contribution__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[9] = _pv_power_plant__generic__ui1_lvrt_p_set__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[10] = _pv_power_plant__generic__ui1_v_alarm_upper_limit__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[11] = _pv_power_plant__generic__ui1_v_alarm_lower_limit__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[12] = _pv_power_plant__generic__ui1_f_alarm_upper_limit__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[13] = _pv_power_plant__generic__ui1_f_alarm_lower_limit__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[14] = _pv_power_plant__generic__ui1_s_alarm_upper_limit__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[15] = _pv_power_plant__generic__ui1_i_alarm_upper_limit__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[16] = _pv_power_plant__generic__ui1_voltvar_enable__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[17] = _pv_power_plant__generic__ui1_hzwatt_enable__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[18] = _pv_power_plant__generic__ui1_voltwatt_enable__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[19] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[20] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[21] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[22] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[23] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[24] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[25] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[26] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[27] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[28] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[29] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[30] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[31] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[32] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[33] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[34] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[35] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[36] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[37] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[38] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 	        	_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[39] = _pv_power_plant__generic__ui1_der__generic__control_join1_reserved__out;
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter.a
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter1.a
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain45
                    _pv_power_plant__generic_1_pv_converter_control_gain45__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_constant1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain46
                    _pv_power_plant__generic_1_pv_converter_control_gain46__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_constant2__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain47
                    _pv_power_plant__generic_1_pv_converter_control_gain47__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_constant3__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.filter.a
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Sum9
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant2__out-_pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Split1
                     _pv_power_plant__generic_1_pv_converter_control_bus_split1__out=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[0];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out1=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[1];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out2=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[2];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out3=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[3];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out4=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[4];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out5=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[5];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out6=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[6];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out7=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[7];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out8=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[8];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out9=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[9];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out10=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[10];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out11=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[11];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out12=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[12];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out13=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[13];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out14=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[14];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out15=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[15];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out16=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[16];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out17=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[17];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out18=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[18];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out19=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[19];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out20=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[20];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out21=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[21];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out22=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[22];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out23=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[23];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out24=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[24];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out25=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[25];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out26=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[26];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out27=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[27];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out28=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[28];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split1__out29=_pv_power_plant__generic_1_pv_converter_control_rate_transition15_output__out[29];
 

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.filter.a
                    _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.filter.a
                    _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_a__out = 0.92 * _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain54
                    _pv_power_plant__generic_1_pv_converter_control_gain54__out = 0.02 * _pv_power_plant__generic_1_pv_converter_control_fs1_hzwatt__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain55
                    _pv_power_plant__generic_1_pv_converter_control_gain55__out = 0.02 * _pv_power_plant__generic_1_pv_converter_control_fsn_hzwatt__out;

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Bus Split1
                     _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[0];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out1=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[1];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out2=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[2];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out3=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[3];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out4=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[4];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out5=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[5];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out6=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[6];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out7=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[7];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out8=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[8];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out9=_pv_power_plant__generic_1_pv_converter_control_reserved_outs1__out[9];
 

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) External Join1.Bus Join
        
	        	_variable_load__generic__ui1_der__generic__external_join1_bus_join__out[0] = _variable_load__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__external_join1_bus_join__out[1] = _variable_load__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__external_join1_bus_join__out[2] = _variable_load__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__external_join1_bus_join__out[3] = _variable_load__generic__ui1_der__generic__external_join1_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__external_join1_bus_join__out[4] = _variable_load__generic__ui1_der__generic__external_join1_reserved__out;
 
         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Control Join.Bus Join
        
	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[0] = _variable_load__generic__ui1_enable__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[1] = _variable_load__generic__ui1_reset_alarms__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[2] = _variable_load__generic__ui1_pref__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[3] = _variable_load__generic__ui1_qref__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[4] = _variable_load__generic__ui1_pref_rate_of_change__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[5] = _variable_load__generic__ui1_qref_rate_of_change__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[6] = _variable_load__generic__ui1_p_dependency_type__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[7] = _variable_load__generic__ui1_q_dependency_type__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[8] = _variable_load__generic__ui1_p_v__k1__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[9] = _variable_load__generic__ui1_p_v__k2__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[10] = _variable_load__generic__ui1_p_f__k1__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[11] = _variable_load__generic__ui1_p_f__k2__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[12] = _variable_load__generic__ui1_q_v__k1__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[13] = _variable_load__generic__ui1_q_v__k2__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[14] = _variable_load__generic__ui1_q_f__k1__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[15] = _variable_load__generic__ui1_q_f__k2__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[16] = _variable_load__generic__ui1_v_alarm_upper_limit__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[17] = _variable_load__generic__ui1_v_alarm_lower_limit__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[18] = _variable_load__generic__ui1_f_alarm_upper_limit__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[19] = _variable_load__generic__ui1_f_alarm_lower_limit__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[20] = _variable_load__generic__ui1_s_alarm_upper_limit__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[21] = _variable_load__generic__ui1_i_alarm_upper_limit__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[22] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[23] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[24] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[25] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[26] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[27] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[28] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[29] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[30] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[31] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[32] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[33] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[34] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[35] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[36] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[37] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[38] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 	        	_variable_load__generic__ui1_der__generic__control_join_bus_join__out[39] = _variable_load__generic__ui1_der__generic__control_join_reserved__out;
 
         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter.a
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_a__out = 0.5 * _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter1.a
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_a__out = 0.5 * _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain46
                    _variable_load__generic_1_converter_control_gain46__out = 0.001 * _variable_load__generic_1_converter_control_constant1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain47
                    _variable_load__generic_1_converter_control_gain47__out = 0.001 * _variable_load__generic_1_converter_control_constant2__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain48
                    _variable_load__generic_1_converter_control_gain48__out = 0.001 * _variable_load__generic_1_converter_control_constant3__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Sum9
        _variable_load__generic_1_converter_control_pq_control1_sum9__out = _variable_load__generic_1_converter_control_pq_control1_constant2__out-_variable_load__generic_1_converter_control_main_state_machine__enable_out;    

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain42
                    _variable_load__generic_1_converter_control_gain42__out = 2.222222222222222e-06 * _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain43
                    _variable_load__generic_1_converter_control_gain43__out = 4.588314677411236e-06 * _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Bus Split1
                     _variable_load__generic_1_converter_control_bus_split1__out=_variable_load__generic_1_converter_control_rate_transition15_output__out[0];
 
            _variable_load__generic_1_converter_control_bus_split1__out1=_variable_load__generic_1_converter_control_rate_transition15_output__out[1];
 
            _variable_load__generic_1_converter_control_bus_split1__out2=_variable_load__generic_1_converter_control_rate_transition15_output__out[2];
 
            _variable_load__generic_1_converter_control_bus_split1__out3=_variable_load__generic_1_converter_control_rate_transition15_output__out[3];
 
            _variable_load__generic_1_converter_control_bus_split1__out4=_variable_load__generic_1_converter_control_rate_transition15_output__out[4];
 
            _variable_load__generic_1_converter_control_bus_split1__out5=_variable_load__generic_1_converter_control_rate_transition15_output__out[5];
 
            _variable_load__generic_1_converter_control_bus_split1__out6=_variable_load__generic_1_converter_control_rate_transition15_output__out[6];
 
            _variable_load__generic_1_converter_control_bus_split1__out7=_variable_load__generic_1_converter_control_rate_transition15_output__out[7];
 
            _variable_load__generic_1_converter_control_bus_split1__out8=_variable_load__generic_1_converter_control_rate_transition15_output__out[8];
 
            _variable_load__generic_1_converter_control_bus_split1__out9=_variable_load__generic_1_converter_control_rate_transition15_output__out[9];
 
            _variable_load__generic_1_converter_control_bus_split1__out10=_variable_load__generic_1_converter_control_rate_transition15_output__out[10];
 
            _variable_load__generic_1_converter_control_bus_split1__out11=_variable_load__generic_1_converter_control_rate_transition15_output__out[11];
 
            _variable_load__generic_1_converter_control_bus_split1__out12=_variable_load__generic_1_converter_control_rate_transition15_output__out[12];
 
            _variable_load__generic_1_converter_control_bus_split1__out13=_variable_load__generic_1_converter_control_rate_transition15_output__out[13];
 
            _variable_load__generic_1_converter_control_bus_split1__out14=_variable_load__generic_1_converter_control_rate_transition15_output__out[14];
 
            _variable_load__generic_1_converter_control_bus_split1__out15=_variable_load__generic_1_converter_control_rate_transition15_output__out[15];
 
            _variable_load__generic_1_converter_control_bus_split1__out16=_variable_load__generic_1_converter_control_rate_transition15_output__out[16];
 
            _variable_load__generic_1_converter_control_bus_split1__out17=_variable_load__generic_1_converter_control_rate_transition15_output__out[17];
 
            _variable_load__generic_1_converter_control_bus_split1__out18=_variable_load__generic_1_converter_control_rate_transition15_output__out[18];
 
            _variable_load__generic_1_converter_control_bus_split1__out19=_variable_load__generic_1_converter_control_rate_transition15_output__out[19];
 
            _variable_load__generic_1_converter_control_bus_split1__out20=_variable_load__generic_1_converter_control_rate_transition15_output__out[20];
 
            _variable_load__generic_1_converter_control_bus_split1__out21=_variable_load__generic_1_converter_control_rate_transition15_output__out[21];
 
            _variable_load__generic_1_converter_control_bus_split1__out22=_variable_load__generic_1_converter_control_rate_transition15_output__out[22];
 
            _variable_load__generic_1_converter_control_bus_split1__out23=_variable_load__generic_1_converter_control_rate_transition15_output__out[23];
 
            _variable_load__generic_1_converter_control_bus_split1__out24=_variable_load__generic_1_converter_control_rate_transition15_output__out[24];
 
            _variable_load__generic_1_converter_control_bus_split1__out25=_variable_load__generic_1_converter_control_rate_transition15_output__out[25];
 
            _variable_load__generic_1_converter_control_bus_split1__out26=_variable_load__generic_1_converter_control_rate_transition15_output__out[26];
 
            _variable_load__generic_1_converter_control_bus_split1__out27=_variable_load__generic_1_converter_control_rate_transition15_output__out[27];
 
            _variable_load__generic_1_converter_control_bus_split1__out28=_variable_load__generic_1_converter_control_rate_transition15_output__out[28];
 
            _variable_load__generic_1_converter_control_bus_split1__out29=_variable_load__generic_1_converter_control_rate_transition15_output__out[29];
 

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Bus Split2
                     _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out=_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[0];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out1=_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[1];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out2=_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[2];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out3=_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[3];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out4=_battery_ess__generic__ui1_der__generic__external_join1_bus_join__out[4];
 

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Split3
                     _battery_ess__generic_1_battery_converter_control_bus_split3__out=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[0];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out1=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[1];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out2=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[2];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out3=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[3];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out4=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[4];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out5=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[5];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out6=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[6];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out7=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[7];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out8=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[8];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out9=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[9];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out10=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[10];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out11=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[11];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out12=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[12];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out13=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[13];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out14=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[14];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out15=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[15];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out16=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[16];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out17=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[17];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out18=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[18];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out19=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[19];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out20=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[20];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out21=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[21];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out22=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[22];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out23=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[23];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out24=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[24];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out25=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[25];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out26=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[26];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out27=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[27];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out28=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[28];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out29=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[29];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out30=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[30];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out31=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[31];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out32=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[32];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out33=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[33];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out34=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[34];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out35=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[35];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out36=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[36];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out37=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[37];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out38=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[38];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out39=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[39];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out40=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[40];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out41=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[41];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out42=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[42];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out43=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[43];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out44=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[44];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out45=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[45];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out46=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[46];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out47=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[47];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out48=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[48];
 
            _battery_ess__generic_1_battery_converter_control_bus_split3__out49=_battery_ess__generic__ui1_der__generic__control_join1_bus_join__out[49];
 

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter.1-a
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_1_a__out = 0.4 * _battery_ess__generic_1_battery_converter_control_bus_split1__out13;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter1.1-a
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_1_a__out = 0.4 * _battery_ess__generic_1_battery_converter_control_bus_split1__out14;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Join4
        
	        	_battery_ess__generic_1_battery_converter_control_bus_join4__out[0] = _battery_ess__generic_1_battery_converter_control_bus_split1__out24;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join4__out[1] = _battery_ess__generic_1_battery_converter_control_bus_split1__out25;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join4__out[2] = _battery_ess__generic_1_battery_converter_control_bus_split1__out26;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join4__out[3] = _battery_ess__generic_1_battery_converter_control_bus_split1__out27;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join4__out[4] = _battery_ess__generic_1_battery_converter_control_bus_split1__out28;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join4__out[5] = _battery_ess__generic_1_battery_converter_control_bus_split1__out29;
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.LPF_P
                    X_UnInt32 _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i;
          

        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__a_sum = 0.0f;
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_sum = 0.0f;
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__delay_line_in = 0.0f;
            for (_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i = 0; _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i < 1; _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i++){
                     _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_sum += _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_coeff[_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i+1] * _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__states[_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__i];
            }
                    _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__a_sum += _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__states[0] * _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__a_coeff[1];
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__delay_line_in = _battery_ess__generic_1_battery_converter_control_bus_split1__out1 - _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__a_sum;

            _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_sum += _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_coeff[0] * _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__delay_line_in;
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__out = _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__b_sum;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain35
                    _battery_ess__generic_1_battery_converter_control_gain35__out = 0.0017320508075688772 * _battery_ess__generic_1_battery_converter_control_bus_split1__out13;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain36
                    _battery_ess__generic_1_battery_converter_control_gain36__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out1;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain37
                    _battery_ess__generic_1_battery_converter_control_gain37__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out2;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain38
                    _battery_ess__generic_1_battery_converter_control_gain38__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out3;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain39
                    _battery_ess__generic_1_battery_converter_control_gain39__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out4;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain40
                    _battery_ess__generic_1_battery_converter_control_gain40__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out5;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain41
                    _battery_ess__generic_1_battery_converter_control_gain41__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out6;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain42
                    _battery_ess__generic_1_battery_converter_control_gain42__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out7;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain43
                    _battery_ess__generic_1_battery_converter_control_gain43__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out8;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain44
                    _battery_ess__generic_1_battery_converter_control_gain44__out = 0.001 * _battery_ess__generic_1_battery_converter_control_bus_split1__out9;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain53
                    _battery_ess__generic_1_battery_converter_control_gain53__out = 1.7320508075688772 * _battery_ess__generic_1_battery_converter_control_bus_split1__out20;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.HzWatt1.1D look-up table1
        

        if(_battery_ess__generic_1_battery_converter_control_bus_split1__out14 <= _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[0]) {
                _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_bus_split1__out14 - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[0])
                    / (_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[1] - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[0]);
            _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_battery_ess__generic_1_battery_converter_control_bus_split1__out14 < _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[4]) {
            _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__curAddr = 4 >> 1;
            _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex = 0;
            _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__rightIndex = 4;
            while (1 < _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__rightIndex - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex) {
                if (_battery_ess__generic_1_battery_converter_control_bus_split1__out14 < _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__curAddr]) {
                    _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__rightIndex = _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__curAddr;
                }
                else {
                    _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex = _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__curAddr;
                }
                _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__curAddr = (_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex + _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__rightIndex) >> 1;
            }
            _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_bus_split1__out14 - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex])
                / (_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex]);
        }
        else {
                _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_bus_split1__out14 - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[3])
                    / (_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[4] - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[3]);
            _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex = 3;
        }

        _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__value = (_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex])
            * _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__fraction + _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__leftIndex];



         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.filter.1-a
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_1_a__out = 0.5 * _battery_ess__generic_1_battery_converter_control_bus_split1__out20;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Product2
        _battery_ess__generic_1_battery_converter_control_product2__out = (_battery_ess__generic_1_battery_converter_control_bus_split1__out18 * _battery_ess__generic_1_battery_converter_control_bus_split1__out16);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Product3
        _battery_ess__generic_1_battery_converter_control_product3__out = (_battery_ess__generic_1_battery_converter_control_bus_split1__out19 * _battery_ess__generic_1_battery_converter_control_bus_split1__out17);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Vdg
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.filter.1-a
                    _battery_ess__generic_1_battery_converter_control_voltvar1_filter_1_a__out = 0.5 * _battery_ess__generic_1_battery_converter_control_bus_split1__out20;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.filter.1-a
                    _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_1_a__out = 0.09999999999999998 * _battery_ess__generic_1_battery_converter_control_bus_split1__out20;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.LPF_V
                    X_UnInt32 _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i;
          

        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__a_sum = 0.0f;
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_sum = 0.0f;
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__delay_line_in = 0.0f;
            for (_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i = 0; _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i < 1; _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i++){
                     _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_sum += _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_coeff[_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i+1] * _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__states[_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__i];
            }
                    _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__a_sum += _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__states[0] * _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__a_coeff[1];
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__delay_line_in = _battery_ess__generic_1_battery_converter_control_bus_split1__out5 - _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__a_sum;

            _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_sum += _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_coeff[0] * _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__delay_line_in;
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__out = _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__b_sum;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Vqg
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.wtg
        

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Bus Split2
                     _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out=_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[0];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out1=_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[1];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out2=_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[2];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out3=_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[3];
 
            _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out4=_pv_power_plant__generic__ui1_der__generic__external_join1_bus_join__out[4];
 

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Split3
                     _pv_power_plant__generic_1_pv_converter_control_bus_split3__out=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[0];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out1=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[1];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out2=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[2];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out3=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[3];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out4=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[4];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out5=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[5];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out6=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[6];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out7=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[7];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out8=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[8];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out9=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[9];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out10=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[10];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out11=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[11];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out12=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[12];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out13=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[13];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out14=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[14];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out15=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[15];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out16=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[16];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out17=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[17];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out18=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[18];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out19=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[19];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out20=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[20];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out21=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[21];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out22=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[22];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out23=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[23];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out24=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[24];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out25=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[25];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out26=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[26];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out27=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[27];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out28=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[28];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out29=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[29];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out30=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[30];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out31=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[31];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out32=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[32];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out33=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[33];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out34=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[34];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out35=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[35];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out36=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[36];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out37=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[37];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out38=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[38];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split3__out39=_pv_power_plant__generic__ui1_der__generic__control_join1_bus_join__out[39];
 

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter.1-a
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_1_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out13;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter1.1-a
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_1_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out14;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Join6
        
	        	_pv_power_plant__generic_1_pv_converter_control_bus_join6__out[0] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out24;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join6__out[1] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out25;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join6__out[2] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out26;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join6__out[3] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out27;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join6__out[4] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out28;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join6__out[5] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out29;
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain34
                    _pv_power_plant__generic_1_pv_converter_control_gain34__out = 0.0017320508075688772 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out13;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain36
                    _pv_power_plant__generic_1_pv_converter_control_gain36__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out1;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain37
                    _pv_power_plant__generic_1_pv_converter_control_gain37__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out2;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain38
                    _pv_power_plant__generic_1_pv_converter_control_gain38__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out3;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain39
                    _pv_power_plant__generic_1_pv_converter_control_gain39__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out4;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain40
                    _pv_power_plant__generic_1_pv_converter_control_gain40__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out5;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain41
                    _pv_power_plant__generic_1_pv_converter_control_gain41__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out6;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain42
                    _pv_power_plant__generic_1_pv_converter_control_gain42__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out7;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain43
                    _pv_power_plant__generic_1_pv_converter_control_gain43__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out8;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain44
                    _pv_power_plant__generic_1_pv_converter_control_gain44__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out9;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain48
                    _pv_power_plant__generic_1_pv_converter_control_gain48__out = 1.7320508075688772 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out20;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.HzWatt1.1D look-up table1
        

        if(_pv_power_plant__generic_1_pv_converter_control_bus_split1__out14 <= _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[0]) {
                _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_bus_split1__out14 - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[0])
                    / (_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[1] - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[0]);
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_pv_power_plant__generic_1_pv_converter_control_bus_split1__out14 < _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[4]) {
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__curAddr = 4 >> 1;
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex = 0;
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__rightIndex = 4;
            while (1 < _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__rightIndex - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex) {
                if (_pv_power_plant__generic_1_pv_converter_control_bus_split1__out14 < _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__curAddr]) {
                    _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__rightIndex = _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__curAddr;
                }
                else {
                    _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex = _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__curAddr;
                }
                _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__curAddr = (_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex + _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__rightIndex) >> 1;
            }
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_bus_split1__out14 - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex])
                / (_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex]);
        }
        else {
                _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_bus_split1__out14 - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[3])
                    / (_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[4] - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_addrs[3]);
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex = 3;
        }

        _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__value = (_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex])
            * _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__fraction + _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__leftIndex];



         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.filter.1-a
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_1_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out20;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Integrator1
                 

    if (_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__load_ic == 1){
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__state =  _pv_power_plant__generic_1_pv_converter_control_bus_split1__out16;

        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__load_ic = 0;
    }
if (((_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out > 0.0) && (_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state <= 0)) || ((_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out <= 0.0) && (_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state == 1))) {_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__state =  _pv_power_plant__generic_1_pv_converter_control_bus_split1__out16;
                }        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Integrator1
                 

    if (_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__load_ic == 1){
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__state =  _pv_power_plant__generic_1_pv_converter_control_bus_split1__out17;

        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__load_ic = 0;
    }
if (((_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out > 0.0) && (_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state <= 0)) || ((_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out <= 0.0) && (_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state == 1))) {_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__state =  _pv_power_plant__generic_1_pv_converter_control_bus_split1__out17;
                }        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__state;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Product2
        _pv_power_plant__generic_1_pv_converter_control_product2__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split1__out18 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out16);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Product3
        _pv_power_plant__generic_1_pv_converter_control_product3__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split1__out19 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out17);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Vdg
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.filter.1-a
                    _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_1_a__out = 0.5 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out20;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.filter.1-a
                    _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_1_a__out = 0.07999999999999996 * _pv_power_plant__generic_1_pv_converter_control_bus_split1__out20;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Vqg
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.wtg
        

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Bus Join3
        
	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[0] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[1] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out1;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[2] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out2;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[3] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out3;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[4] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out4;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[5] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out5;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[6] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out6;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[7] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out7;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[8] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out8;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join3__out[9] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split1__out9;
 
         // Generated from the component: Variable Load (Generic)1.Termination1
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Bus Split3
                     _variable_load__generic_1_converter_control_bus_split3__out=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[0];
 
            _variable_load__generic_1_converter_control_bus_split3__out1=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[1];
 
            _variable_load__generic_1_converter_control_bus_split3__out2=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[2];
 
            _variable_load__generic_1_converter_control_bus_split3__out3=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[3];
 
            _variable_load__generic_1_converter_control_bus_split3__out4=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[4];
 
            _variable_load__generic_1_converter_control_bus_split3__out5=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[5];
 
            _variable_load__generic_1_converter_control_bus_split3__out6=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[6];
 
            _variable_load__generic_1_converter_control_bus_split3__out7=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[7];
 
            _variable_load__generic_1_converter_control_bus_split3__out8=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[8];
 
            _variable_load__generic_1_converter_control_bus_split3__out9=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[9];
 
            _variable_load__generic_1_converter_control_bus_split3__out10=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[10];
 
            _variable_load__generic_1_converter_control_bus_split3__out11=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[11];
 
            _variable_load__generic_1_converter_control_bus_split3__out12=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[12];
 
            _variable_load__generic_1_converter_control_bus_split3__out13=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[13];
 
            _variable_load__generic_1_converter_control_bus_split3__out14=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[14];
 
            _variable_load__generic_1_converter_control_bus_split3__out15=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[15];
 
            _variable_load__generic_1_converter_control_bus_split3__out16=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[16];
 
            _variable_load__generic_1_converter_control_bus_split3__out17=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[17];
 
            _variable_load__generic_1_converter_control_bus_split3__out18=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[18];
 
            _variable_load__generic_1_converter_control_bus_split3__out19=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[19];
 
            _variable_load__generic_1_converter_control_bus_split3__out20=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[20];
 
            _variable_load__generic_1_converter_control_bus_split3__out21=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[21];
 
            _variable_load__generic_1_converter_control_bus_split3__out22=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[22];
 
            _variable_load__generic_1_converter_control_bus_split3__out23=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[23];
 
            _variable_load__generic_1_converter_control_bus_split3__out24=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[24];
 
            _variable_load__generic_1_converter_control_bus_split3__out25=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[25];
 
            _variable_load__generic_1_converter_control_bus_split3__out26=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[26];
 
            _variable_load__generic_1_converter_control_bus_split3__out27=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[27];
 
            _variable_load__generic_1_converter_control_bus_split3__out28=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[28];
 
            _variable_load__generic_1_converter_control_bus_split3__out29=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[29];
 
            _variable_load__generic_1_converter_control_bus_split3__out30=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[30];
 
            _variable_load__generic_1_converter_control_bus_split3__out31=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[31];
 
            _variable_load__generic_1_converter_control_bus_split3__out32=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[32];
 
            _variable_load__generic_1_converter_control_bus_split3__out33=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[33];
 
            _variable_load__generic_1_converter_control_bus_split3__out34=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[34];
 
            _variable_load__generic_1_converter_control_bus_split3__out35=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[35];
 
            _variable_load__generic_1_converter_control_bus_split3__out36=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[36];
 
            _variable_load__generic_1_converter_control_bus_split3__out37=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[37];
 
            _variable_load__generic_1_converter_control_bus_split3__out38=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[38];
 
            _variable_load__generic_1_converter_control_bus_split3__out39=_variable_load__generic__ui1_der__generic__control_join_bus_join__out[39];
 

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter.1-a
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_1_a__out = 0.5 * _variable_load__generic_1_converter_control_bus_split1__out13;

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter1.1-a
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_1_a__out = 0.5 * _variable_load__generic_1_converter_control_bus_split1__out14;

         // Generated from the component: Variable Load (Generic)1.converter_control.Bus Join3
        
	        	_variable_load__generic_1_converter_control_bus_join3__out[0] = _variable_load__generic_1_converter_control_bus_split1__out24;
 	        	_variable_load__generic_1_converter_control_bus_join3__out[1] = _variable_load__generic_1_converter_control_bus_split1__out25;
 	        	_variable_load__generic_1_converter_control_bus_join3__out[2] = _variable_load__generic_1_converter_control_bus_split1__out26;
 	        	_variable_load__generic_1_converter_control_bus_join3__out[3] = _variable_load__generic_1_converter_control_bus_split1__out27;
 	        	_variable_load__generic_1_converter_control_bus_join3__out[4] = _variable_load__generic_1_converter_control_bus_split1__out28;
 	        	_variable_load__generic_1_converter_control_bus_join3__out[5] = _variable_load__generic_1_converter_control_bus_split1__out29;
 
         // Generated from the component: Variable Load (Generic)1.converter_control.Gain36
                    _variable_load__generic_1_converter_control_gain36__out = -0.001 * _variable_load__generic_1_converter_control_bus_split1__out1;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain37
                    _variable_load__generic_1_converter_control_gain37__out = -0.001 * _variable_load__generic_1_converter_control_bus_split1__out5;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain38
                    _variable_load__generic_1_converter_control_gain38__out = -0.001 * _variable_load__generic_1_converter_control_bus_split1__out9;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain39
                    _variable_load__generic_1_converter_control_gain39__out = 0.0017320508075688772 * _variable_load__generic_1_converter_control_bus_split1__out13;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain40
                    _variable_load__generic_1_converter_control_gain40__out = 1.7320508075688772 * _variable_load__generic_1_converter_control_bus_split1__out20;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain41
                    _variable_load__generic_1_converter_control_gain41__out = 1.7320508075688772 * _variable_load__generic_1_converter_control_bus_split1__out13;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Integrator1
                 

    if (_variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__load_ic == 1){
                _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__state =  _variable_load__generic_1_converter_control_bus_split1__out16;

        _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__load_ic = 0;
    }
if (((_variable_load__generic_1_converter_control_pq_control1_sum9__out > 0.0) && (_variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state <= 0)) || ((_variable_load__generic_1_converter_control_pq_control1_sum9__out <= 0.0) && (_variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state == 1))) {_variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__state =  _variable_load__generic_1_converter_control_bus_split1__out16;
                }        _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__out = _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Integrator1
                 

    if (_variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__load_ic == 1){
                _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__state =  _variable_load__generic_1_converter_control_bus_split1__out17;

        _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__load_ic = 0;
    }
if (((_variable_load__generic_1_converter_control_pq_control1_sum9__out > 0.0) && (_variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state <= 0)) || ((_variable_load__generic_1_converter_control_pq_control1_sum9__out <= 0.0) && (_variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state == 1))) {_variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__state =  _variable_load__generic_1_converter_control_bus_split1__out17;
                }        _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__out = _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__state;

         // Generated from the component: Variable Load (Generic)1.converter_control.Pag_meas
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Pbg_meas
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Pcg_meas
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Qag_meas
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Qbg_meas
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Qcg_meas
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Vd
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Vdg
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Vq
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Vqg
        

         // Generated from the component: Variable Load (Generic)1.converter_control.wtg
        

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Bus Join4
        
	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join4__out[0] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out2;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join4__out[1] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out3;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join4__out[2] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out4;
 
         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Limit2
              _battery_ess__generic_1_battery_dc_link_sp1_limit2__out = MIN(MAX(_battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out1, 0.1), 100.0);

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Limit3
              _battery_ess__generic_1_battery_dc_link_sp1_limit3__out = MIN(MAX(_battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out, 10.0), 90.0);

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Relational operator1
            _battery_ess__generic_1_battery_dc_link_sp1_relational_operator1__out = (_battery_ess__generic_1_battery_dc_link_sp1_bus_split2__out1 == _battery_ess__generic_1_battery_dc_link_sp1_constant2__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Join3
        
	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[0] = _battery_ess__generic_1_battery_converter_control_bus_split3__out29;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[1] = _battery_ess__generic_1_battery_converter_control_bus_split3__out30;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[2] = _battery_ess__generic_1_battery_converter_control_bus_split3__out31;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[3] = _battery_ess__generic_1_battery_converter_control_bus_split3__out32;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[4] = _battery_ess__generic_1_battery_converter_control_bus_split3__out33;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[5] = _battery_ess__generic_1_battery_converter_control_bus_split3__out34;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[6] = _battery_ess__generic_1_battery_converter_control_bus_split3__out35;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[7] = _battery_ess__generic_1_battery_converter_control_bus_split3__out36;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[8] = _battery_ess__generic_1_battery_converter_control_bus_split3__out37;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[9] = _battery_ess__generic_1_battery_converter_control_bus_split3__out38;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[10] = _battery_ess__generic_1_battery_converter_control_bus_split3__out39;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[11] = _battery_ess__generic_1_battery_converter_control_bus_split3__out40;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[12] = _battery_ess__generic_1_battery_converter_control_bus_split3__out41;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[13] = _battery_ess__generic_1_battery_converter_control_bus_split3__out42;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[14] = _battery_ess__generic_1_battery_converter_control_bus_split3__out43;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[15] = _battery_ess__generic_1_battery_converter_control_bus_split3__out44;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[16] = _battery_ess__generic_1_battery_converter_control_bus_split3__out45;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[17] = _battery_ess__generic_1_battery_converter_control_bus_split3__out46;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[18] = _battery_ess__generic_1_battery_converter_control_bus_split3__out47;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[19] = _battery_ess__generic_1_battery_converter_control_bus_split3__out48;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join3__out[20] = _battery_ess__generic_1_battery_converter_control_bus_split3__out49;
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain29
                    _battery_ess__generic_1_battery_converter_control_gain29__out = 570000.0 * _battery_ess__generic_1_battery_converter_control_bus_split3__out3;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain30
                    _battery_ess__generic_1_battery_converter_control_gain30__out = 187349.93995195194 * _battery_ess__generic_1_battery_converter_control_bus_split3__out4;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain32
                    _battery_ess__generic_1_battery_converter_control_gain32__out = 230.94010767585033 * _battery_ess__generic_1_battery_converter_control_bus_split3__out8;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain33
                    _battery_ess__generic_1_battery_converter_control_gain33__out = 50.0 * _battery_ess__generic_1_battery_converter_control_bus_split3__out9;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain34
                    _battery_ess__generic_1_battery_converter_control_gain34__out = 50.0 * _battery_ess__generic_1_battery_converter_control_bus_split3__out5;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain56
                    _battery_ess__generic_1_battery_converter_control_gain56__out = 230.94010767585033 * _battery_ess__generic_1_battery_converter_control_bus_split3__out28;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit10
              _battery_ess__generic_1_battery_converter_control_limit10__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out11, 10.0), 90.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit11
              _battery_ess__generic_1_battery_converter_control_limit11__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out10, 10.0), 90.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit14
              _battery_ess__generic_1_battery_converter_control_limit14__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out7, 0.0), 100.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit15
              _battery_ess__generic_1_battery_converter_control_limit15__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out6, 0.0), 100.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit16
        _battery_ess__generic_1_battery_converter_control_limit16__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out18, 0.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit17
              _battery_ess__generic_1_battery_converter_control_limit17__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out17, 0.0), 100.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit18
        _battery_ess__generic_1_battery_converter_control_limit18__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out21, 1.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit19
              _battery_ess__generic_1_battery_converter_control_limit19__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out22, 0.0), 1.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit2
        _battery_ess__generic_1_battery_converter_control_limit2__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out19, 1.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit20
        _battery_ess__generic_1_battery_converter_control_limit20__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out23, 1.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit21
        _battery_ess__generic_1_battery_converter_control_limit21__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out24, 1.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit3
              _battery_ess__generic_1_battery_converter_control_limit3__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out20, 0.0), 1.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit4
        _battery_ess__generic_1_battery_converter_control_limit4__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out12, 0.001);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit5
        _battery_ess__generic_1_battery_converter_control_limit5__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out13, 0.001);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit6
        _battery_ess__generic_1_battery_converter_control_limit6__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out14, 0.001);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit7
        _battery_ess__generic_1_battery_converter_control_limit7__out = MAX(_battery_ess__generic_1_battery_converter_control_bus_split3__out15, 0.0001);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator16
        _battery_ess__generic_1_battery_converter_control_logical_operator16__out =_battery_ess__generic_1_battery_converter_control_bus_split3__out19 || _battery_ess__generic_1_battery_converter_control_bus_split3__out20 || _battery_ess__generic_1_battery_converter_control_bus_split3__out21 || _battery_ess__generic_1_battery_converter_control_bus_split3__out22 || _battery_ess__generic_1_battery_converter_control_bus_split3__out23 || _battery_ess__generic_1_battery_converter_control_bus_split3__out24 ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Mode selection
                    _battery_ess__generic_1_battery_converter_control_mode_selection__mode = _battery_ess__generic_1_battery_converter_control_bus_split3__out1;

    {
    if ( _battery_ess__generic_1_battery_converter_control_mode_selection__mode > - 0.5 && _battery_ess__generic_1_battery_converter_control_mode_selection__mode < 0.5 )     {
        _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form = 0 ; _battery_ess__generic_1_battery_converter_control_mode_selection__isoc = 0 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_mode_selection__mode > 0.5 && _battery_ess__generic_1_battery_converter_control_mode_selection__mode < 1.5 )     {
        _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form = 1 ; _battery_ess__generic_1_battery_converter_control_mode_selection__isoc = 0 ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form = 1 ; _battery_ess__generic_1_battery_converter_control_mode_selection__isoc = 1 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter.Sum1
        _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_sum1__out = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_1_a__out+_battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_a__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter1.Sum1
        _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_sum1__out = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_1_a__out+_battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_a__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination2
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.filter.Sum1
        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_sum1__out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_1_a__out+_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_a__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Sum2
        _battery_ess__generic_1_battery_converter_control_sum2__out = _battery_ess__generic_1_battery_converter_control_product2__out+_battery_ess__generic_1_battery_converter_control_product3__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.filter.Sum1
        _battery_ess__generic_1_battery_converter_control_voltvar1_filter_sum1__out = _battery_ess__generic_1_battery_converter_control_voltvar1_filter_1_a__out+_battery_ess__generic_1_battery_converter_control_voltvar1_filter_a__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.filter.Sum1
        _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_sum1__out = _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_1_a__out+_battery_ess__generic_1_battery_converter_control_voltwatt1_filter_a__out;    

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Bus Join4
        
	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join4__out[0] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out2;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join4__out[1] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out3;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join4__out[2] = _pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out4;
 
         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Limit1
        _pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out = MAX(_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out1, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Join3
        
	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[0] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out19;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[1] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out20;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[2] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out21;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[3] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out22;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[4] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out23;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[5] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out24;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[6] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out25;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[7] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out26;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[8] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out27;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[9] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out28;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[10] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out29;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[11] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out30;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[12] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out31;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[13] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out32;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[14] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out33;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[15] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out34;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[16] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out35;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[17] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out36;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[18] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out37;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[19] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out38;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join3__out[20] = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out39;
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain31
                    _pv_power_plant__generic_1_pv_converter_control_gain31__out = 217944.94717703367 * _pv_power_plant__generic_1_pv_converter_control_bus_split3__out3;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain33
                    _pv_power_plant__generic_1_pv_converter_control_gain33__out = 450000.0 * _pv_power_plant__generic_1_pv_converter_control_bus_split3__out2;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit16
        _pv_power_plant__generic_1_pv_converter_control_limit16__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out9, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit17
              _pv_power_plant__generic_1_pv_converter_control_limit17__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out8, 0.0), 100.0);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit18
        _pv_power_plant__generic_1_pv_converter_control_limit18__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out10, 1.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit19
              _pv_power_plant__generic_1_pv_converter_control_limit19__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out11, 0.0), 1.0);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit2
        _pv_power_plant__generic_1_pv_converter_control_limit2__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out5, 0.001);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit20
        _pv_power_plant__generic_1_pv_converter_control_limit20__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out12, 1.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit21
              _pv_power_plant__generic_1_pv_converter_control_limit21__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out13, 0.0), 1.0);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit22
        _pv_power_plant__generic_1_pv_converter_control_limit22__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out14, 1.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit23
        _pv_power_plant__generic_1_pv_converter_control_limit23__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out15, 1.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit3
        _pv_power_plant__generic_1_pv_converter_control_limit3__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out4, 0.001);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit4
        _pv_power_plant__generic_1_pv_converter_control_limit4__out = MAX(_pv_power_plant__generic_1_pv_converter_control_bus_split3__out6, 0.001);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Logical operator15
        _pv_power_plant__generic_1_pv_converter_control_logical_operator15__out =_pv_power_plant__generic_1_pv_converter_control_bus_split3__out7 && _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out ;  

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Logical operator16
        _pv_power_plant__generic_1_pv_converter_control_logical_operator16__out =_pv_power_plant__generic_1_pv_converter_control_bus_split3__out10 || _pv_power_plant__generic_1_pv_converter_control_bus_split3__out11 || _pv_power_plant__generic_1_pv_converter_control_bus_split3__out12 || _pv_power_plant__generic_1_pv_converter_control_bus_split3__out13 || _pv_power_plant__generic_1_pv_converter_control_bus_split3__out14 || _pv_power_plant__generic_1_pv_converter_control_bus_split3__out15 ;  

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter.Sum1
        _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_sum1__out = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_1_a__out+_pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_a__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter1.Sum1
        _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_sum1__out = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_1_a__out+_pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_a__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination3
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.HzWatt1.C function1
                    _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Enable_HzWatt = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out17;
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Enable_battery = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out;
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Grid_forming = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Pref = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out;
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Psup = _pv_power_plant__generic_1_pv_converter_control_hzwatt1_1d_look_up_table1__value;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Enable_battery == 1 && _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Grid_forming == 0 && _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Enable_HzWatt >= 0.5 )     {
        _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out = _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Psup * 450000.0 + _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__Pref ; if ( _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out > 450000.0 )         {
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out = 450000.0 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out < - 450000.0 )         {
            _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out = - 450000.0 ;
}

}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out = 0 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.filter.Sum1
        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_sum1__out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_1_a__out+_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_a__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Sum2
        _pv_power_plant__generic_1_pv_converter_control_sum2__out = _pv_power_plant__generic_1_pv_converter_control_product2__out+_pv_power_plant__generic_1_pv_converter_control_product3__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.filter.Sum1
        _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_sum1__out = _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_1_a__out+_pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_a__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.filter.Sum1
        _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_sum1__out = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_1_a__out+_pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_a__out;    

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Termination1
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain29
                    _variable_load__generic_1_converter_control_gain29__out = -450000.0 * _variable_load__generic_1_converter_control_bus_split3__out2;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain30
                    _variable_load__generic_1_converter_control_gain30__out = -217944.94717703367 * _variable_load__generic_1_converter_control_bus_split3__out3;

         // Generated from the component: Variable Load (Generic)1.converter_control.Limit2
        _variable_load__generic_1_converter_control_limit2__out = MAX(_variable_load__generic_1_converter_control_bus_split3__out16, 1.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Limit3
              _variable_load__generic_1_converter_control_limit3__out = MIN(MAX(_variable_load__generic_1_converter_control_bus_split3__out17, 0.0), 1.0);

         // Generated from the component: Variable Load (Generic)1.converter_control.Limit4
        _variable_load__generic_1_converter_control_limit4__out = MAX(_variable_load__generic_1_converter_control_bus_split3__out18, 1.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Limit5
              _variable_load__generic_1_converter_control_limit5__out = MIN(MAX(_variable_load__generic_1_converter_control_bus_split3__out19, 0.0), 1.0);

         // Generated from the component: Variable Load (Generic)1.converter_control.Limit6
        _variable_load__generic_1_converter_control_limit6__out = MAX(_variable_load__generic_1_converter_control_bus_split3__out20, 1.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Limit7
        _variable_load__generic_1_converter_control_limit7__out = MAX(_variable_load__generic_1_converter_control_bus_split3__out21, 1.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Limit8
        _variable_load__generic_1_converter_control_limit8__out = MAX(_variable_load__generic_1_converter_control_bus_split3__out4, 0.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Limit9
        _variable_load__generic_1_converter_control_limit9__out = MAX(_variable_load__generic_1_converter_control_bus_split3__out5, 0.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.reserved_outs
        
	        	_variable_load__generic_1_converter_control_reserved_outs__out[0] = _variable_load__generic_1_converter_control_bus_split3__out22;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[1] = _variable_load__generic_1_converter_control_bus_split3__out23;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[2] = _variable_load__generic_1_converter_control_bus_split3__out24;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[3] = _variable_load__generic_1_converter_control_bus_split3__out25;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[4] = _variable_load__generic_1_converter_control_bus_split3__out26;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[5] = _variable_load__generic_1_converter_control_bus_split3__out27;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[6] = _variable_load__generic_1_converter_control_bus_split3__out28;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[7] = _variable_load__generic_1_converter_control_bus_split3__out29;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[8] = _variable_load__generic_1_converter_control_bus_split3__out30;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[9] = _variable_load__generic_1_converter_control_bus_split3__out31;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[10] = _variable_load__generic_1_converter_control_bus_split3__out32;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[11] = _variable_load__generic_1_converter_control_bus_split3__out33;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[12] = _variable_load__generic_1_converter_control_bus_split3__out34;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[13] = _variable_load__generic_1_converter_control_bus_split3__out35;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[14] = _variable_load__generic_1_converter_control_bus_split3__out36;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[15] = _variable_load__generic_1_converter_control_bus_split3__out37;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[16] = _variable_load__generic_1_converter_control_bus_split3__out38;
 	        	_variable_load__generic_1_converter_control_reserved_outs__out[17] = _variable_load__generic_1_converter_control_bus_split3__out39;
 
         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter.Sum1
        _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_sum1__out = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_1_a__out+_variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_a__out;    

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter1.Sum1
        _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_sum1__out = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_1_a__out+_variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_a__out;    

         // Generated from the component: Variable Load (Generic)1.converter_control.Termination2
        

         // Generated from the component: Variable Load (Generic)1.converter_control.V_f Dependencies
                    _variable_load__generic_1_converter_control_v_f_dependencies__Pref_pu = _variable_load__generic_1_converter_control_gain42__out;
            _variable_load__generic_1_converter_control_v_f_dependencies__Qref_pu = _variable_load__generic_1_converter_control_gain43__out;
            _variable_load__generic_1_converter_control_v_f_dependencies__Vg_meas = _variable_load__generic_1_converter_control_gain41__out;
            _variable_load__generic_1_converter_control_v_f_dependencies__f_meas = _variable_load__generic_1_converter_control_bus_split1__out14;
            _variable_load__generic_1_converter_control_v_f_dependencies__p_dep_type = _variable_load__generic_1_converter_control_bus_split3__out6;
            _variable_load__generic_1_converter_control_v_f_dependencies__p_f_k1 = _variable_load__generic_1_converter_control_bus_split3__out10;
            _variable_load__generic_1_converter_control_v_f_dependencies__p_f_k2 = _variable_load__generic_1_converter_control_bus_split3__out11;
            _variable_load__generic_1_converter_control_v_f_dependencies__p_v_k1 = _variable_load__generic_1_converter_control_bus_split3__out8;
            _variable_load__generic_1_converter_control_v_f_dependencies__p_v_k2 = _variable_load__generic_1_converter_control_bus_split3__out9;
            _variable_load__generic_1_converter_control_v_f_dependencies__q_dep_type = _variable_load__generic_1_converter_control_bus_split3__out7;
            _variable_load__generic_1_converter_control_v_f_dependencies__q_f_k1 = _variable_load__generic_1_converter_control_bus_split3__out14;
            _variable_load__generic_1_converter_control_v_f_dependencies__q_f_k2 = _variable_load__generic_1_converter_control_bus_split3__out15;
            _variable_load__generic_1_converter_control_v_f_dependencies__q_v_k1 = _variable_load__generic_1_converter_control_bus_split3__out12;
            _variable_load__generic_1_converter_control_v_f_dependencies__q_v_k2 = _variable_load__generic_1_converter_control_bus_split3__out13;

    {
    _variable_load__generic_1_converter_control_v_f_dependencies__p_scl_on = _variable_load__generic_1_converter_control_v_f_dependencies__q_scl_on = 0 ; if ( _variable_load__generic_1_converter_control_v_f_dependencies__p_dep_type > 0.5 ) _variable_load__generic_1_converter_control_v_f_dependencies__p_scl_on = 1 ; if ( _variable_load__generic_1_converter_control_v_f_dependencies__q_dep_type > 0.5 ) _variable_load__generic_1_converter_control_v_f_dependencies__q_scl_on = 1 ; if ( _variable_load__generic_1_converter_control_v_f_dependencies__p_dep_type > 0.5 && _variable_load__generic_1_converter_control_v_f_dependencies__p_dep_type < 1.5 )     {
        _variable_load__generic_1_converter_control_v_f_dependencies__Pref_scal_pu = _variable_load__generic_1_converter_control_v_f_dependencies__Pref_pu * _variable_load__generic_1_converter_control_v_f_dependencies__k_V * _variable_load__generic_1_converter_control_v_f_dependencies__k_f ;
}
 else if ( _variable_load__generic_1_converter_control_v_f_dependencies__p_dep_type > 1.5 )     {
        _variable_load__generic_1_converter_control_v_f_dependencies__Pref_scal_pu = _variable_load__generic_1_converter_control_v_f_dependencies__Pref_pu * ( 1 + _variable_load__generic_1_converter_control_v_f_dependencies__p_v_k1 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_V + 0.5 * _variable_load__generic_1_converter_control_v_f_dependencies__p_v_k2 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_V * _variable_load__generic_1_converter_control_v_f_dependencies__delta_V + _variable_load__generic_1_converter_control_v_f_dependencies__p_f_k1 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_f + 0.5 * _variable_load__generic_1_converter_control_v_f_dependencies__p_f_k2 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_f * _variable_load__generic_1_converter_control_v_f_dependencies__delta_f ) ;
}
 else _variable_load__generic_1_converter_control_v_f_dependencies__Pref_scal_pu = _variable_load__generic_1_converter_control_v_f_dependencies__Pref_pu ; if ( _variable_load__generic_1_converter_control_v_f_dependencies__q_dep_type > 0.5 && _variable_load__generic_1_converter_control_v_f_dependencies__q_dep_type < 1.5 )     {
        _variable_load__generic_1_converter_control_v_f_dependencies__Qref_scal_pu = _variable_load__generic_1_converter_control_v_f_dependencies__Qref_pu * _variable_load__generic_1_converter_control_v_f_dependencies__k_V / _variable_load__generic_1_converter_control_v_f_dependencies__k_f ;
}
 else if ( _variable_load__generic_1_converter_control_v_f_dependencies__q_dep_type > 1.5 )     {
        _variable_load__generic_1_converter_control_v_f_dependencies__Qref_scal_pu = _variable_load__generic_1_converter_control_v_f_dependencies__Qref_pu * ( 1 + _variable_load__generic_1_converter_control_v_f_dependencies__q_v_k1 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_V + 0.5 * _variable_load__generic_1_converter_control_v_f_dependencies__q_v_k2 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_V * _variable_load__generic_1_converter_control_v_f_dependencies__delta_V + _variable_load__generic_1_converter_control_v_f_dependencies__q_f_k1 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_f + 0.5 * _variable_load__generic_1_converter_control_v_f_dependencies__q_f_k2 * _variable_load__generic_1_converter_control_v_f_dependencies__delta_f * _variable_load__generic_1_converter_control_v_f_dependencies__delta_f ) ;
}
 else _variable_load__generic_1_converter_control_v_f_dependencies__Qref_scal_pu = _variable_load__generic_1_converter_control_v_f_dependencies__Qref_pu ;
}

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.init soh
        

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Gain4
                    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain4__out = 0.01 * _battery_ess__generic_1_battery_dc_link_sp1_limit3__out;

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Signal switch1
                         _battery_ess__generic_1_battery_dc_link_sp1_signal_switch1__out = (_battery_ess__generic_1_battery_dc_link_sp1_relational_operator1__out > 0.5f) ? _battery_ess__generic_1_battery_dc_link_sp1_constant3__out : _battery_ess__generic_1_battery_dc_link_sp1_limit2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination1
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit8
              _battery_ess__generic_1_battery_converter_control_limit8__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_gain29__out, -570000.0), 570000.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit9
              _battery_ess__generic_1_battery_converter_control_limit9__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_gain30__out, -187349.93995195194), 187349.93995195194);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit13
              _battery_ess__generic_1_battery_converter_control_limit13__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_gain32__out, 0.01), 323.31615074619043);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Limit12
        _battery_ess__generic_1_battery_converter_control_limit12__out = MAX(_battery_ess__generic_1_battery_converter_control_gain33__out, 0.01);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Sum1
        _battery_ess__generic_1_battery_converter_control_sum1__out = _battery_ess__generic_1_battery_converter_control_constant16__out+_battery_ess__generic_1_battery_converter_control_gain34__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Sum3
        _battery_ess__generic_1_battery_converter_control_sum3__out = _battery_ess__generic_1_battery_converter_control_constant15__out+_battery_ess__generic_1_battery_converter_control_gain56__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain45
                    _battery_ess__generic_1_battery_converter_control_gain45__out = 0.01 * _battery_ess__generic_1_battery_converter_control_limit14__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain46
                    _battery_ess__generic_1_battery_converter_control_gain46__out = 0.01 * _battery_ess__generic_1_battery_converter_control_limit15__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping3.Gain1
                    _battery_ess__generic_1_battery_converter_control_ramping3_gain1__out = 570000.0 * _battery_ess__generic_1_battery_converter_control_limit4__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping4.Gain1
                    _battery_ess__generic_1_battery_converter_control_ramping4_gain1__out = 187349.93995195194 * _battery_ess__generic_1_battery_converter_control_limit5__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping1.Gain1
                    _battery_ess__generic_1_battery_converter_control_ramping1_gain1__out = 230.94010767585033 * _battery_ess__generic_1_battery_converter_control_limit6__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping2.Gain1
                    _battery_ess__generic_1_battery_converter_control_ramping2_gain1__out = 50.0 * _battery_ess__generic_1_battery_converter_control_limit7__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator9
            _battery_ess__generic_1_battery_converter_control_relational_operator9__out = (_battery_ess__generic_1_battery_converter_control_logical_operator16__out == _battery_ess__generic_1_battery_converter_control_constant26__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.HzWatt1.C function1
                    _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Enable_HzWatt = _battery_ess__generic_1_battery_converter_control_bus_split3__out26;
            _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Enable_battery = _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out;
            _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Grid_forming = _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;
            _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Pref = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out;
            _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Psup = _battery_ess__generic_1_battery_converter_control_hzwatt1_1d_look_up_table1__value;

    {
    if ( _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Enable_battery == 1 && _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Grid_forming == 0 && _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Enable_HzWatt >= 0.5 )     {
        _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out = _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Psup * 570000.0 + _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__Pref ; if ( _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out > 570000.0 )         {
            _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out = 570000.0 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out < - 570000.0 )         {
            _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out = - 570000.0 ;
}

}
 else     {
        _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out = 0 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator1
        _battery_ess__generic_1_battery_converter_control_logical_operator1__out = !_battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator14
        _battery_ess__generic_1_battery_converter_control_logical_operator14__out = !_battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator6
        _battery_ess__generic_1_battery_converter_control_logical_operator6__out = !_battery_ess__generic_1_battery_converter_control_mode_selection__isoc;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.Limit10
        _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_limit10__out = MAX(_battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_sum1__out, 0.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.Limit11
        _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_limit11__out = MAX(_battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_sum1__out, 0.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.Limit1
        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_limit1__out = MAX(_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_sum1__out, 0.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.P
                    _battery_ess__generic_1_battery_converter_control_p__out = 1.5 * _battery_ess__generic_1_battery_converter_control_sum2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.Limit1
        _battery_ess__generic_1_battery_converter_control_voltvar1_limit1__out = MAX(_battery_ess__generic_1_battery_converter_control_voltvar1_filter_sum1__out, 0.0);
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.Limit1
        _battery_ess__generic_1_battery_converter_control_voltwatt1_limit1__out = MAX(_battery_ess__generic_1_battery_converter_control_voltwatt1_filter_sum1__out, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Termination2
        

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.PV norm
        
        // x axis
        if(_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out <= _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[0]) {
                _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_fraction = (_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[0])
                    / (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[1] - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[0]);
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex = 0;
        }
        else if(_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out < _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[5]) {
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_curAddr = 5 >> 1;
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex = 0;
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_rightIndex = 5;
            while (1 < _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_rightIndex - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex) {
                if (_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out < _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_curAddr]) {
                    _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_rightIndex = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_curAddr;
                }
                else {
                    _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_curAddr;
                }
                _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_curAddr = (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex + _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_rightIndex) >> 1;
            }
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_fraction = (_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex])
                / (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex + 1] - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex]);
        }
        else {
                _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_fraction = (_pv_power_plant__generic_1_pv_dc_link_sp1_bus_split2__out - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[4])
                    / (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[5] - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_lut_addrs[4]);
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex = 4;
        }

        // y axis
        if(_pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out <= _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[0]) {
                _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_fraction = (_pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[0])
                    / (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[1] - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[0]);
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex = 0;
        }
        else if(_pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out < _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[9]) {
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_curAddr = 9 >> 1;
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex = 0;
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_rightIndex = 9;
            while (1 < _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_rightIndex - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex) {
                if (_pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out < _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_curAddr]) {
                    _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_rightIndex = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_curAddr;
                }
                else {
                    _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_curAddr;
                }
                _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_curAddr = (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex + _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_rightIndex) >> 1;
            }
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_fraction = (_pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex])
                / (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex + 1] - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex]);
        }
        else {
                _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_fraction = (_pv_power_plant__generic_1_pv_dc_link_sp1_limit1__out - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[8])
                    / (_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[9] - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_lut_addrs[8]);
            _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex = 8;
        }

        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_00 = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__2d_table[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex][_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex];
        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_01 = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__2d_table[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex][_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex+1];
        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_10 = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__2d_table[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex+1][_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex];
        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_11 = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__2d_table[_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_leftIndex+1][_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_leftIndex+1];

        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_0 = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_00 + ((_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_01 - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_00) * _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_fraction);
        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_1 = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_10 + ((_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_11 - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_10) * _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__y_fraction);

        _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__value = _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_0 + ((_pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_1 - _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__data_0) * _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__x_fraction);



         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination1
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit5
              _pv_power_plant__generic_1_pv_converter_control_limit5__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_gain31__out, -217944.94717703367), 217944.94717703367);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit1
              _pv_power_plant__generic_1_pv_converter_control_limit1__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_gain33__out, 0.0), 450000.0);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping2.Gain1
                    _pv_power_plant__generic_1_pv_converter_control_ramping2_gain1__out = 217944.94717703367 * _pv_power_plant__generic_1_pv_converter_control_limit2__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping3.Gain1
                    _pv_power_plant__generic_1_pv_converter_control_ramping3_gain1__out = 450000.0 * _pv_power_plant__generic_1_pv_converter_control_limit4__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Relational operator9
            _pv_power_plant__generic_1_pv_converter_control_relational_operator9__out = (_pv_power_plant__generic_1_pv_converter_control_logical_operator16__out == _pv_power_plant__generic_1_pv_converter_control_constant26__out) ? 1 : 0;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.Limit10
        _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_limit10__out = MAX(_pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_sum1__out, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.Limit11
        _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_limit11__out = MAX(_pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_sum1__out, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.Limit1
        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_limit1__out = MAX(_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_sum1__out, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.P
                    _pv_power_plant__generic_1_pv_converter_control_p__out = 1.5 * _pv_power_plant__generic_1_pv_converter_control_sum2__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.Limit1
        _pv_power_plant__generic_1_pv_converter_control_voltvar1_limit1__out = MAX(_pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_sum1__out, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.Limit1
        _pv_power_plant__generic_1_pv_converter_control_voltwatt1_limit1__out = MAX(_pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_sum1__out, 0.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Limit1
              _variable_load__generic_1_converter_control_limit1__out = MIN(MAX(_variable_load__generic_1_converter_control_gain29__out, -540000.0), 0.0);

         // Generated from the component: Variable Load (Generic)1.converter_control.Limit10
              _variable_load__generic_1_converter_control_limit10__out = MIN(MAX(_variable_load__generic_1_converter_control_gain30__out, -261533.9366124404), 261533.9366124404);

         // Generated from the component: Variable Load (Generic)1.converter_control.Ramping P.Gain1
                    _variable_load__generic_1_converter_control_ramping_p_gain1__out = 450000.0 * _variable_load__generic_1_converter_control_limit8__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Ramping Q.Gain1
                    _variable_load__generic_1_converter_control_ramping_q_gain1__out = 217944.94717703367 * _variable_load__generic_1_converter_control_limit9__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Termination1
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.Limit10
        _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_limit10__out = MAX(_variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_sum1__out, 0.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.Limit11
        _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_limit11__out = MAX(_variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_sum1__out, 0.0);
         // Generated from the component: Variable Load (Generic)1.converter_control.Gain44
                    _variable_load__generic_1_converter_control_gain44__out = 450000.0 * _variable_load__generic_1_converter_control_v_f_dependencies__Pref_scal_pu;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain45
                    _variable_load__generic_1_converter_control_gain45__out = 217944.94717703367 * _variable_load__generic_1_converter_control_v_f_dependencies__Qref_scal_pu;

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Sum2
        _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_sum2__out = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_constant3__out-_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain4__out;    

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.C function1
                    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__init_soh = _battery_ess__generic_1_battery_dc_link_sp1_signal_switch1__out;

    {
    if ( _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__i == 0 ) _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl = 120.0 ; else if ( _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__i == 1 ) _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__init_soh * 120.0 * 0.01 ; else _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl_state ; _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl_state = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl ;
}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator3
            _battery_ess__generic_1_battery_converter_control_relational_operator3__out = (_battery_ess__generic_1_battery_converter_control_limit8__out < _battery_ess__generic_1_battery_converter_control_constant17__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator4
            _battery_ess__generic_1_battery_converter_control_relational_operator4__out = (_battery_ess__generic_1_battery_converter_control_limit8__out > _battery_ess__generic_1_battery_converter_control_constant17__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain51
                    _battery_ess__generic_1_battery_converter_control_gain51__out = 0.001 * _battery_ess__generic_1_battery_converter_control_limit9__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Sum9
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_sum9__out =  - _battery_ess__generic_1_battery_converter_control_limit9__out+_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Product6
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product6__out = (_battery_ess__generic_1_battery_converter_control_gain45__out * _battery_ess__generic_1_battery_converter_control_sum3__out);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Product7
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product7__out = (_battery_ess__generic_1_battery_converter_control_gain46__out * _battery_ess__generic_1_battery_converter_control_sum1__out);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Signal switch11
                         _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch11__out = (_battery_ess__generic_1_battery_converter_control_relational_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_subsystem1_constant27__out : _battery_ess__generic_1_battery_converter_control_limit2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Signal switch12
                         _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch12__out = (_battery_ess__generic_1_battery_converter_control_relational_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_subsystem1_constant28__out : _battery_ess__generic_1_battery_converter_control_limit3__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Signal switch13
                         _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch13__out = (_battery_ess__generic_1_battery_converter_control_relational_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_subsystem1_constant29__out : _battery_ess__generic_1_battery_converter_control_limit18__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Signal switch14
                         _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch14__out = (_battery_ess__generic_1_battery_converter_control_relational_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_subsystem1_constant30__out : _battery_ess__generic_1_battery_converter_control_limit19__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Signal switch15
                         _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch15__out = (_battery_ess__generic_1_battery_converter_control_relational_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_subsystem1_constant31__out : _battery_ess__generic_1_battery_converter_control_limit20__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Subsystem1.Signal switch16
                         _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch16__out = (_battery_ess__generic_1_battery_converter_control_relational_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_subsystem1_constant32__out : _battery_ess__generic_1_battery_converter_control_limit21__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator4
        _battery_ess__generic_1_battery_converter_control_logical_operator4__out =_battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out && _battery_ess__generic_1_battery_converter_control_logical_operator1__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator3
        _battery_ess__generic_1_battery_converter_control_logical_operator3__out =_battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out && _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form && _battery_ess__generic_1_battery_converter_control_logical_operator6__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.Gain56
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_gain56__out = 0.004330127018922192 * _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_limit1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Join6
        
	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[0] = _battery_ess__generic_1_battery_converter_control_p__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[1] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[0];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[2] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[1];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[3] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[2];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[4] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[3];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[5] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[4];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[6] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[5];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[7] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[6];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[8] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[7];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join6__out[9] = _battery_ess__generic_1_battery_converter_control_reserved_outs1__out[8];
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch10
                         _battery_ess__generic_1_battery_converter_control_signal_switch10__out = (_battery_ess__generic_1_battery_converter_control_logical_operator14__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out : _battery_ess__generic_1_battery_converter_control_p__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.Gain1
                    _battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out = 0.004330127018922192 * _battery_ess__generic_1_battery_converter_control_voltvar1_limit1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.Gain56
                    _battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out = 0.004330127018922192 * _battery_ess__generic_1_battery_converter_control_voltwatt1_limit1__out;

         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.scale
                    _pv_power_plant__generic_1_pv_dc_link_sp1_scale__out = 540000.0 * _pv_power_plant__generic_1_pv_dc_link_sp1_pv_norm__value;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain35
                    _pv_power_plant__generic_1_pv_converter_control_gain35__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_limit5__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain1
                    _pv_power_plant__generic_1_pv_converter_control_gain1__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_limit1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Signal switch11
                         _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch11__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator9__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant27__out : _pv_power_plant__generic_1_pv_converter_control_limit18__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Signal switch12
                         _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch12__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator9__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant28__out : _pv_power_plant__generic_1_pv_converter_control_limit19__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Signal switch13
                         _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch13__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator9__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant29__out : _pv_power_plant__generic_1_pv_converter_control_limit20__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Signal switch14
                         _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch14__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator9__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant30__out : _pv_power_plant__generic_1_pv_converter_control_limit21__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Signal switch15
                         _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch15__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator9__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant31__out : _pv_power_plant__generic_1_pv_converter_control_limit22__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Subsystem1.Signal switch16
                         _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch16__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator9__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_subsystem1_constant32__out : _pv_power_plant__generic_1_pv_converter_control_limit23__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.Gain56
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_gain56__out = 0.004330127018922192 * _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_limit1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Relational operator10
            _pv_power_plant__generic_1_pv_converter_control_relational_operator10__out = (_pv_power_plant__generic_1_pv_converter_control_limit1__out > _pv_power_plant__generic_1_pv_converter_control_p__out) ? 1 : 0;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.Gain1
                    _pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out = 0.004330127018922192 * _pv_power_plant__generic_1_pv_converter_control_voltvar1_limit1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.Gain56
                    _pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out = 0.004330127018922192 * _pv_power_plant__generic_1_pv_converter_control_voltwatt1_limit1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain34
                    _variable_load__generic_1_converter_control_gain34__out = -0.001 * _variable_load__generic_1_converter_control_limit1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Gain35
                    _variable_load__generic_1_converter_control_gain35__out = -0.001 * _variable_load__generic_1_converter_control_limit10__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.C function1
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in = _variable_load__generic_1_converter_control_bus_split1__out23;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__fg_in = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_limit11__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in = _variable_load__generic_1_converter_control_constant6__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm = _variable_load__generic_1_converter_control_limit5__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm = _variable_load__generic_1_converter_control_limit3__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in = _variable_load__generic_1_converter_control_constant6__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in = _variable_load__generic_1_converter_control_main_state_machine__state_out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm = _variable_load__generic_1_converter_control_limit4__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm = _variable_load__generic_1_converter_control_limit2__out;
            _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_limit10__out;

    {
    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 0.0 ; if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in == 4.0 )     {
        if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in == 2.0 )         {
            if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in > 0.5 )             {
                _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}
 else             {
                if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in > 0.5 )                 {
                    if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in > 0.9 * 1385.640646055102 )                     {
                        _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}
 else if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in >= _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm * 1385.640646055102 && _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in <= _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm * 1385.640646055102 )                 {
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}

}
 else if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in == 3.0 )         {
            if ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in > 0.5 )             {
                _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}
 else             {
                if ( ( _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__fg_in >= _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm * 50.0 && _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__fg_in <= _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm * 50.0 ) )                 {
                    _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}

}

}

}

         // Generated from the component: Variable Load (Generic)1.converter_control.Signal switch3
                         _variable_load__generic_1_converter_control_signal_switch3__out = (_variable_load__generic_1_converter_control_v_f_dependencies__p_scl_on > 0.5f) ? _variable_load__generic_1_converter_control_gain44__out : _variable_load__generic_1_converter_control_ramping_p_ramping__pref_out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Signal switch4
                         _variable_load__generic_1_converter_control_signal_switch4__out = (_variable_load__generic_1_converter_control_v_f_dependencies__q_scl_on > 0.5f) ? _variable_load__generic_1_converter_control_gain45__out : _variable_load__generic_1_converter_control_ramping_q_ramping__pref_out;

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Gain3
                    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain3__out = 100000000.0 * _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_sum2__out;

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Gain5
                    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain5__out = 0.8333333333333334 * _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Limit1
              _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_limit1__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_sum9__out, -187349.93995195194), 187349.93995195194);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch14
                         _battery_ess__generic_1_battery_converter_control_signal_switch14__out = (_battery_ess__generic_1_battery_converter_control_bus_split3__out26 > 0.5f) ? _battery_ess__generic_1_battery_converter_control_gain55__out : _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch13__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch13
                         _battery_ess__generic_1_battery_converter_control_signal_switch13__out = (_battery_ess__generic_1_battery_converter_control_bus_split3__out26 > 0.5f) ? _battery_ess__generic_1_battery_converter_control_gain54__out : _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch14__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator15
        _battery_ess__generic_1_battery_converter_control_logical_operator15__out =_battery_ess__generic_1_battery_converter_control_logical_operator4__out && _battery_ess__generic_1_battery_converter_control_bus_split3__out16 ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Sum9
        _battery_ess__generic_1_battery_converter_control_pq_control_sum9__out = _battery_ess__generic_1_battery_converter_control_pq_control_constant2__out-_battery_ess__generic_1_battery_converter_control_logical_operator4__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.1D look-up table1
        

        if(_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_gain56__out <= _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[0]) {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction = 0.0;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_gain56__out < _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[2]) {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr = 2 >> 1;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = 0;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex = 2;
            while (1 < _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex - _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex) {
                if (_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_gain56__out < _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr]) {
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr;
                }
                else {
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr;
                }
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr = (_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex + _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex) >> 1;
            }
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_gain56__out - _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex])
                / (_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex]);
        }
        else {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction = 1.0;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = 1;
        }

        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__value = (_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex])
            * _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction + _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex];



         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Bus Split1
                     _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out=_battery_ess__generic_1_battery_converter_control_bus_join6__out[0];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out1=_battery_ess__generic_1_battery_converter_control_bus_join6__out[1];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out2=_battery_ess__generic_1_battery_converter_control_bus_join6__out[2];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out3=_battery_ess__generic_1_battery_converter_control_bus_join6__out[3];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out4=_battery_ess__generic_1_battery_converter_control_bus_join6__out[4];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out5=_battery_ess__generic_1_battery_converter_control_bus_join6__out[5];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out6=_battery_ess__generic_1_battery_converter_control_bus_join6__out[6];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out7=_battery_ess__generic_1_battery_converter_control_bus_join6__out[7];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out8=_battery_ess__generic_1_battery_converter_control_bus_join6__out[8];
 
            _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out9=_battery_ess__generic_1_battery_converter_control_bus_join6__out[9];
 

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator5
            _battery_ess__generic_1_battery_converter_control_relational_operator5__out = (_battery_ess__generic_1_battery_converter_control_signal_switch10__out < _battery_ess__generic_1_battery_converter_control_constant20__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator6
            _battery_ess__generic_1_battery_converter_control_relational_operator6__out = (_battery_ess__generic_1_battery_converter_control_signal_switch10__out > _battery_ess__generic_1_battery_converter_control_constant20__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.1D look-up table1
        

        if(_battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out <= _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[0]) {
                _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[0])
                    / (_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[1] - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[0]);
            _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out < _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[3]) {
            _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__curAddr = 3 >> 1;
            _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex = 0;
            _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__rightIndex = 3;
            while (1 < _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__rightIndex - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex) {
                if (_battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out < _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__curAddr]) {
                    _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__rightIndex = _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__curAddr;
                }
                else {
                    _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex = _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__curAddr;
                }
                _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__curAddr = (_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex + _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__rightIndex) >> 1;
            }
            _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex])
                / (_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex]);
        }
        else {
                _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_voltvar1_gain1__out - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[2])
                    / (_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[3] - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_addrs[2]);
            _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex = 2;
        }

        _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__value = (_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex])
            * _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__fraction + _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__leftIndex];



         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.1D look-up table1
        

        if(_battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out <= _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[0]) {
                _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[0])
                    / (_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[1] - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[0]);
            _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out < _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[3]) {
            _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__curAddr = 3 >> 1;
            _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex = 0;
            _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__rightIndex = 3;
            while (1 < _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__rightIndex - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex) {
                if (_battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out < _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__curAddr]) {
                    _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__rightIndex = _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__curAddr;
                }
                else {
                    _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex = _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__curAddr;
                }
                _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__curAddr = (_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex + _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__rightIndex) >> 1;
            }
            _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex])
                / (_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex]);
        }
        else {
                _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__fraction = (_battery_ess__generic_1_battery_converter_control_voltwatt1_gain56__out - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[2])
                    / (_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[3] - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[2]);
            _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex = 2;
        }

        _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__value = (_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex + 1] - _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex])
            * _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__fraction + _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__lut_table[_battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__leftIndex];



         // Generated from the component: PV Power Plant (Generic)1.PV DC Link SP1.Bus Join2
        
	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[0] = _pv_power_plant__generic_1_pv_dc_link_sp1_scale__out;
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[1] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[0];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[2] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[1];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[3] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[2];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[4] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[3];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[5] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[4];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[6] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[5];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[7] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[6];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[8] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[7];
 	        	_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[9] = _pv_power_plant__generic_1_pv_dc_link_sp1_constant1__out[8];
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch14
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch14__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split3__out17 > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_gain55__out : _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch13__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch13
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch13__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split3__out17 > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_gain54__out : _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch14__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.1D look-up table1
        

        if(_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_gain56__out <= _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[0]) {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction = 0.0;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_gain56__out < _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[2]) {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr = 2 >> 1;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = 0;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex = 2;
            while (1 < _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex - _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex) {
                if (_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_gain56__out < _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr]) {
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr;
                }
                else {
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr;
                }
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__curAddr = (_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex + _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__rightIndex) >> 1;
            }
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_gain56__out - _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex])
                / (_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex]);
        }
        else {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction = 1.0;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex = 1;
        }

        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__value = (_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex])
            * _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__fraction + _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__leftIndex];



         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch16
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch16__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator10__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_limit4__out : _pv_power_plant__generic_1_pv_converter_control_limit3__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.1D look-up table1
        

        if(_pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out <= _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[0]) {
                _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[0])
                    / (_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[1] - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[0]);
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out < _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[3]) {
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__curAddr = 3 >> 1;
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex = 0;
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__rightIndex = 3;
            while (1 < _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__rightIndex - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex) {
                if (_pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out < _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__curAddr]) {
                    _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__rightIndex = _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__curAddr;
                }
                else {
                    _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex = _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__curAddr;
                }
                _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__curAddr = (_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex + _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__rightIndex) >> 1;
            }
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex])
                / (_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex]);
        }
        else {
                _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_voltvar1_gain1__out - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[2])
                    / (_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[3] - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_addrs[2]);
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex = 2;
        }

        _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__value = (_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex])
            * _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__fraction + _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__leftIndex];



         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.1D look-up table1
        

        if(_pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out <= _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[0]) {
                _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[0])
                    / (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[1] - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[0]);
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex = 0;
        }
        else if(_pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out < _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[3]) {
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__curAddr = 3 >> 1;
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex = 0;
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__rightIndex = 3;
            while (1 < _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__rightIndex - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex) {
                if (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out < _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__curAddr]) {
                    _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__rightIndex = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__curAddr;
                }
                else {
                    _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__curAddr;
                }
                _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__curAddr = (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex + _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__rightIndex) >> 1;
            }
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex])
                / (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex]);
        }
        else {
                _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__fraction = (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_gain56__out - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[2])
                    / (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[3] - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_addrs[2]);
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex = 2;
        }

        _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__value = (_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex + 1] - _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex])
            * _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__fraction + _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__lut_table[_pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__leftIndex];



         // Generated from the component: Variable Load (Generic)1.converter_control.Bus Join2
        
	        	_variable_load__generic_1_converter_control_bus_join2__out[0] = _variable_load__generic_1_converter_control_bus_split1__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[1] = _variable_load__generic_1_converter_control_gain34__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[2] = _variable_load__generic_1_converter_control_gain35__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[3] = _variable_load__generic_1_converter_control_gain46__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[4] = _variable_load__generic_1_converter_control_gain47__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[5] = _variable_load__generic_1_converter_control_gain48__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[6] = _variable_load__generic_1_converter_control_bus_split1__out14;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[7] = _variable_load__generic_1_converter_control_gain39__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[8] = _variable_load__generic_1_converter_control_gain36__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[9] = _variable_load__generic_1_converter_control_gain37__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[10] = _variable_load__generic_1_converter_control_gain38__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[11] = _variable_load__generic_1_converter_control_bus_split1__out10;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[12] = _variable_load__generic_1_converter_control_gain40__out;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[13] = _variable_load__generic_1_converter_control_bus_split1__out21;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[14] = _variable_load__generic_1_converter_control_bus_split1__out23;
 	        	_variable_load__generic_1_converter_control_bus_join2__out[15] = _variable_load__generic_1_converter_control_reserved_ins__out[0];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[16] = _variable_load__generic_1_converter_control_reserved_ins__out[1];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[17] = _variable_load__generic_1_converter_control_reserved_ins__out[2];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[18] = _variable_load__generic_1_converter_control_reserved_ins__out[3];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[19] = _variable_load__generic_1_converter_control_reserved_ins__out[4];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[20] = _variable_load__generic_1_converter_control_reserved_ins__out[5];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[21] = _variable_load__generic_1_converter_control_reserved_ins__out[6];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[22] = _variable_load__generic_1_converter_control_reserved_ins__out[7];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[23] = _variable_load__generic_1_converter_control_reserved_ins__out[8];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[24] = _variable_load__generic_1_converter_control_reserved_ins__out[9];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[25] = _variable_load__generic_1_converter_control_reserved_ins__out[10];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[26] = _variable_load__generic_1_converter_control_reserved_ins__out[11];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[27] = _variable_load__generic_1_converter_control_reserved_ins__out[12];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[28] = _variable_load__generic_1_converter_control_reserved_ins__out[13];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[29] = _variable_load__generic_1_converter_control_reserved_ins__out[14];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[30] = _variable_load__generic_1_converter_control_reserved_ins__out[15];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[31] = _variable_load__generic_1_converter_control_reserved_ins__out[16];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[32] = _variable_load__generic_1_converter_control_reserved_ins__out[17];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[33] = _variable_load__generic_1_converter_control_reserved_ins__out[18];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[34] = _variable_load__generic_1_converter_control_reserved_ins__out[19];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[35] = _variable_load__generic_1_converter_control_reserved_ins__out[20];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[36] = _variable_load__generic_1_converter_control_reserved_ins__out[21];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[37] = _variable_load__generic_1_converter_control_reserved_ins__out[22];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[38] = _variable_load__generic_1_converter_control_reserved_ins__out[23];
 	        	_variable_load__generic_1_converter_control_bus_join2__out[39] = _variable_load__generic_1_converter_control_reserved_ins__out[24];
 
         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.Logical operator3
        _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_logical_operator3__out =_variable_load__generic_1_converter_control_bus_split3__out1 || _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask ;  

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.C function1
                    _variable_load__generic_1_converter_control_pq_control1_c_function1__Pmax = _variable_load__generic_1_converter_control_pq_control1_constant3__out;
            _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref = _variable_load__generic_1_converter_control_signal_switch3__out;
            _variable_load__generic_1_converter_control_pq_control1_c_function1__Qmax = _variable_load__generic_1_converter_control_pq_control1_constant4__out;
            _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref = _variable_load__generic_1_converter_control_signal_switch4__out;

    {
    _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Pref = 1 ; if ( _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref < 0 )     {
        _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Pref = - 1 ;
}
 _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_var = fabs ( _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref ) ; if ( _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_var > _variable_load__generic_1_converter_control_pq_control1_c_function1__Pmax )     {
        _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_var = _variable_load__generic_1_converter_control_pq_control1_c_function1__Pmax ;
}
 _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Qref = 1 ; if ( _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref < 0 )     {
        _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Qref = - 1 ;
}
 _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_var = fabs ( _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref ) ; if ( _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_var > _variable_load__generic_1_converter_control_pq_control1_c_function1__Qmax )     {
        _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_var = _variable_load__generic_1_converter_control_pq_control1_c_function1__Qmax ;
}
 _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_lim = _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Pref * _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_var ; _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_lim = _variable_load__generic_1_converter_control_pq_control1_c_function1__sign_Qref * _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_var ;
}

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Integrator1
                 

    if (_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__load_ic == 1){
                _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state =  _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain3__out;

        _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__load_ic = 0;
    }
        _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__out = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Product5
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product5__out = (_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_limit1__out * _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product6__out);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.C function1
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in = _battery_ess__generic_1_battery_converter_control_bus_split1__out23;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__fg_in = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_limit11__out;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in = _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm = _battery_ess__generic_1_battery_converter_control_signal_switch13__out;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm = _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch12__out;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in = _battery_ess__generic_1_battery_converter_control_bus_split3__out16;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in = _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm = _battery_ess__generic_1_battery_converter_control_signal_switch14__out;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm = _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch11__out;
            _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_limit10__out;

    {
    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 0.0 ; if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in == 4.0 )     {
        if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in == 2.0 )         {
            if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in > 0.5 )             {
                _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}
 else             {
                if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in > 0.5 )                 {
                    if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in > 0.901 * 1385.640646055102 )                     {
                        _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}
 else if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in >= _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm * 1385.640646055102 && _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in <= _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm * 1385.640646055102 )                 {
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}

}
 else if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in == 3.0 )         {
            if ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in > 0.5 )             {
                _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}
 else             {
                if ( ( _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__fg_in >= _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm * 50.0 && _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__fg_in <= _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm * 50.0 ) )                 {
                    _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}

}

}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Integrator1
                 

    if (_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__load_ic == 1){
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__state =  _battery_ess__generic_1_battery_converter_control_bus_split1__out16;

        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__load_ic = 0;
    }
if (((_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out > 0.0) && (_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state <= 0)) || ((_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out <= 0.0) && (_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state == 1))) {_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__state =  _battery_ess__generic_1_battery_converter_control_bus_split1__out16;
                }        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__out = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Integrator1
                 

    if (_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__load_ic == 1){
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__state =  _battery_ess__generic_1_battery_converter_control_bus_split1__out17;

        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__load_ic = 0;
    }
if (((_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out > 0.0) && (_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state <= 0)) || ((_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out <= 0.0) && (_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state == 1))) {_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__state =  _battery_ess__generic_1_battery_converter_control_bus_split1__out17;
                }        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__out = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__state;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.C function1
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Pref_reg = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Qref_reg = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en = _battery_ess__generic_1_battery_converter_control_logical_operator15__out;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__id_contrib = _battery_ess__generic_1_battery_converter_control_limit16__out;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__iq_contrib = _battery_ess__generic_1_battery_converter_control_limit17__out;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_in = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_1d_look_up_table1__value;
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_limit1__out;

    {
    
 switch ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state )     {
        case 1 : if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin < 0.901 * 230.94010767585033 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 2 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 break; case 2 : if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze < _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 2 ;
}
 else         {
            if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin < 0.0 * 230.94010767585033 )             {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 )             {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else             {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_in ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__iq_contrib * ( 1 - _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin / 230.94010767585033 ) * 187349.93995195194 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution + _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution > 187349.93995195194 )                 {
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = 187349.93995195194 ;
}
 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__id_contrib * 570000.0 ; if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution > 570000.0 )                 {
                    _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution = 570000.0 ;
}
 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 3 ;
}

}
 break; case 3 : if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 ) || ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin < 0.0 * 230.94010767585033 ) )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 5 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected > _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected / 0.0005 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_in ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 3 ;
}
 break; case 4 : if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 break; case 5 : if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze < _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 5 ;
}
 else         {
            if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 )             {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__vin < 0.0 * 230.94010767585033 )             {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 else             {
                _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 3 ;
}

}
 break; default : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 switch ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state )     {
        case 1 : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out = 1 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Pref_reg ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ; break; case 2 : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out = 2 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Pref_reg ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ; break; case 3 : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out = 3 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out = 1 ; break; case 4 : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out = 4 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 1.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ; break; case 5 : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out = 5 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out = 1 ; break; default : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__state_out = 1 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Pref_reg ; _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ;
}
 _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__timeout_out = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected ;
}

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Bus Join3
        
	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[0] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out1;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[1] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out2;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[2] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out3;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[3] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out4;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[4] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out5;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[5] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out6;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[6] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out7;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[7] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out8;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join3__out[8] = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out9;
 
         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.dynamiccs
                    X_UnInt32 _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i;
          

        _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__a_sum = 0.0f;
        _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_sum = 0.0f;
        _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__delay_line_in = 0.0f;
            for (_battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i = 0; _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i < 1; _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i++){
                     _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_sum += _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_coeff[_battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i+1] * _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__states[_battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__i];
            }
                    _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__a_sum += _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__states[0] * _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__a_coeff[1];
        _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__delay_line_in = _battery_ess__generic_1_battery_dc_link_sp1_bus_split1__out - _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__a_sum;

            _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_sum += _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_coeff[0] * _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__delay_line_in;
        _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__out = _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__b_sum;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.C function1
                    _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Enable_bat = _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out;
            _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Enable_voltvar = _battery_ess__generic_1_battery_converter_control_bus_split3__out25;
            _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Grid_forming = _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;
            _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Qref = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_out;
            _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Qsup = _battery_ess__generic_1_battery_converter_control_voltvar1_1d_look_up_table1__value;

    {
    if ( _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Enable_voltvar >= 0.5 && _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Enable_bat == 1 && _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Grid_forming == 0 )     {
        _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out = _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Qsup * 187349.93995195194 + _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Qref ; if ( _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out > 187349.93995195194 )         {
            _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out = 187349.93995195194 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out < - 187349.93995195194 )         {
            _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out = - 187349.93995195194 ;
}

}
 else     {
        _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out = 0 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.C function1
                    _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Enable_battery = _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out;
            _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Enable_voltwatt = _battery_ess__generic_1_battery_converter_control_bus_split3__out27;
            _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Grid_forming = _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;
            _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Pref = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_out;
            _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Psup = _battery_ess__generic_1_battery_converter_control_voltwatt1_1d_look_up_table1__value;

    {
    if ( _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Enable_voltwatt >= 0.5 && _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Enable_battery == 1 && _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Grid_forming == 0 )     {
        _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out = _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Psup * 570000.0 + _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Pref ; if ( _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out > 570000.0 )         {
            _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out = 570000.0 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out < - 570000.0 )         {
            _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out = - 570000.0 ;
}

}
 else     {
        _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out = _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__Pref ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Split4
                     _pv_power_plant__generic_1_pv_converter_control_bus_split4__out=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[0];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out1=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[1];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out2=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[2];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out3=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[3];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out4=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[4];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out5=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[5];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out6=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[6];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out7=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[7];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out8=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[8];
 
            _pv_power_plant__generic_1_pv_converter_control_bus_split4__out9=_pv_power_plant__generic_1_pv_dc_link_sp1_bus_join2__out[9];
 

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.C function1
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out23;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__fg_in = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_limit11__out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm = _pv_power_plant__generic_1_pv_converter_control_signal_switch13__out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm = _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch12__out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out7;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm = _pv_power_plant__generic_1_pv_converter_control_signal_switch14__out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm = _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch11__out;
            _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_limit10__out;

    {
    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 0.0 ; if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__msm_state_in == 4.0 )     {
        if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in == 2.0 )         {
            if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in > 0.5 )             {
                _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}
 else             {
                if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lvrt_en_in > 0.5 )                 {
                    if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in > 0.901 * 1385.640646055102 )                     {
                        _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}
 else if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in >= _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_v_alarm * 1385.640646055102 && _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__vg_rms_in <= _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_v_alarm * 1385.640646055102 )                 {
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}

}
 else if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__alarm_msg_in == 3.0 )         {
            if ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__grid_forming_in > 0.5 )             {
                _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}
 else             {
                if ( ( _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__fg_in >= _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__lower_lim_f_alarm * 50.0 && _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__fg_in <= _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__upper_lim_f_alarm * 50.0 ) )                 {
                    _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask = 1.0 ;
}

}

}

}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.C function1
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Pref_reg = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Qref_reg = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en = _pv_power_plant__generic_1_pv_converter_control_logical_operator15__out;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__id_contrib = _pv_power_plant__generic_1_pv_converter_control_limit16__out;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__iq_contrib = _pv_power_plant__generic_1_pv_converter_control_limit17__out;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_in = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_1d_look_up_table1__value;
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_limit1__out;

    {
    
 switch ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state )     {
        case 1 : if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin < 0.901 * 230.94010767585033 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 2 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 break; case 2 : if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze < _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 2 ;
}
 else         {
            if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin < 0.0 * 230.94010767585033 )             {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 )             {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else             {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_in ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__iq_contrib * ( 1 - _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin / 230.94010767585033 ) * 217944.94717703367 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution + _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution > 217944.94717703367 )                 {
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution = 217944.94717703367 ;
}
 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__id_contrib * 450000.0 ; if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution > 450000.0 )                 {
                    _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution = 450000.0 ;
}
 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 3 ;
}

}
 break; case 3 : if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 ) || ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin < 0.0 * 230.94010767585033 ) )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 5 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected > _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected / 0.0005 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_in ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 3 ;
}
 break; case 4 : if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 break; case 5 : if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__en < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze < _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 5 ;
}
 else         {
            if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin >= 0.901 * 230.94010767585033 )             {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__vin < 0.0 * 230.94010767585033 )             {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 4 ;
}
 else             {
                _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 3 ;
}

}
 break; default : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state = 1 ;
}
 switch ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state )     {
        case 1 : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out = 1 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Pref_reg ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ; break; case 2 : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out = 2 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Pref_reg ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ; break; case 3 : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out = 3 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out = 1 ; break; case 4 : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out = 4 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 1.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ; break; case 5 : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out = 5 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out = 1 ; break; default : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__state_out = 1 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out = 0.0 ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Qref_reg ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Pref_reg ; _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out = 0 ;
}
 _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__timeout_out = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected ;
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping1.Gain1
                    _pv_power_plant__generic_1_pv_converter_control_ramping1_gain1__out = 450000.0 * _pv_power_plant__generic_1_pv_converter_control_signal_switch16__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.C function1
                    _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Enable_bat = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out;
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Enable_voltvar = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out16;
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Grid_forming = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Qref = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_out;
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Qsup = _pv_power_plant__generic_1_pv_converter_control_voltvar1_1d_look_up_table1__value;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Enable_voltvar >= 0.5 && _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Enable_bat == 1 && _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Grid_forming == 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out = _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Qsup * 217944.94717703367 + _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Qref ; if ( _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out > 217944.94717703367 )         {
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out = 217944.94717703367 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out < - 217944.94717703367 )         {
            _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out = - 217944.94717703367 ;
}

}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out = 0 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.C function1
                    _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Enable_battery = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out;
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Enable_voltwatt = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out18;
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Grid_forming = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Pref = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_out;
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Psup = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_1d_look_up_table1__value;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Enable_voltwatt >= 0.5 && _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Enable_battery == 1 && _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Grid_forming == 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Psup * 450000.0 + _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Pref ; if ( _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out > 450000.0 )         {
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out = 450000.0 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out < - 450000.0 )         {
            _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out = - 450000.0 ;
}

}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__Pref ;
}

}

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Bus Split
                     _variable_load__generic__ui1_der__generic__output_split_bus_split__out=_variable_load__generic_1_converter_control_bus_join2__out[0];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out1=_variable_load__generic_1_converter_control_bus_join2__out[1];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out2=_variable_load__generic_1_converter_control_bus_join2__out[2];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out3=_variable_load__generic_1_converter_control_bus_join2__out[3];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out4=_variable_load__generic_1_converter_control_bus_join2__out[4];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out5=_variable_load__generic_1_converter_control_bus_join2__out[5];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out6=_variable_load__generic_1_converter_control_bus_join2__out[6];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out7=_variable_load__generic_1_converter_control_bus_join2__out[7];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out8=_variable_load__generic_1_converter_control_bus_join2__out[8];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out9=_variable_load__generic_1_converter_control_bus_join2__out[9];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out10=_variable_load__generic_1_converter_control_bus_join2__out[10];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out11=_variable_load__generic_1_converter_control_bus_join2__out[11];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out12=_variable_load__generic_1_converter_control_bus_join2__out[12];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out13=_variable_load__generic_1_converter_control_bus_join2__out[13];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out14=_variable_load__generic_1_converter_control_bus_join2__out[14];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out15=_variable_load__generic_1_converter_control_bus_join2__out[15];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out16=_variable_load__generic_1_converter_control_bus_join2__out[16];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out17=_variable_load__generic_1_converter_control_bus_join2__out[17];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out18=_variable_load__generic_1_converter_control_bus_join2__out[18];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out19=_variable_load__generic_1_converter_control_bus_join2__out[19];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out20=_variable_load__generic_1_converter_control_bus_join2__out[20];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out21=_variable_load__generic_1_converter_control_bus_join2__out[21];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out22=_variable_load__generic_1_converter_control_bus_join2__out[22];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out23=_variable_load__generic_1_converter_control_bus_join2__out[23];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out24=_variable_load__generic_1_converter_control_bus_join2__out[24];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out25=_variable_load__generic_1_converter_control_bus_join2__out[25];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out26=_variable_load__generic_1_converter_control_bus_join2__out[26];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out27=_variable_load__generic_1_converter_control_bus_join2__out[27];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out28=_variable_load__generic_1_converter_control_bus_join2__out[28];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out29=_variable_load__generic_1_converter_control_bus_join2__out[29];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out30=_variable_load__generic_1_converter_control_bus_join2__out[30];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out31=_variable_load__generic_1_converter_control_bus_join2__out[31];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out32=_variable_load__generic_1_converter_control_bus_join2__out[32];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out33=_variable_load__generic_1_converter_control_bus_join2__out[33];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out34=_variable_load__generic_1_converter_control_bus_join2__out[34];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out35=_variable_load__generic_1_converter_control_bus_join2__out[35];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out36=_variable_load__generic_1_converter_control_bus_join2__out[36];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out37=_variable_load__generic_1_converter_control_bus_join2__out[37];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out38=_variable_load__generic_1_converter_control_bus_join2__out[38];
 
            _variable_load__generic__ui1_der__generic__output_split_bus_split__out39=_variable_load__generic_1_converter_control_bus_join2__out[39];
 

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Sum1
        _variable_load__generic_1_converter_control_pq_control1_sum1__out = _variable_load__generic_1_converter_control_pq_control1_c_function1__Pref_lim-_variable_load__generic_1_converter_control_bus_split1__out1;    

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Sum2
        _variable_load__generic_1_converter_control_pq_control1_sum2__out = _variable_load__generic_1_converter_control_pq_control1_c_function1__Qref_lim-_variable_load__generic_1_converter_control_bus_split1__out5;    

         // Generated from the component: Variable Load (Generic)1.converter_control.Termination3
        

         // Generated from the component: Variable Load (Generic)1.converter_control.Termination4
        

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Gain2
                    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain2__out = 1e-06 * _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__out;

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.lut
        

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim = MIN(MAX(_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__out, -4166666.6666667), 100000000.0);

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim + 4166666.6666667;
            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim * 4.790399999999998e-06;

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_final = (double)_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim;// get integer componet (truncated to lower nearest integer value)
            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim_diff = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim - _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_final;// get float difference

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_0 = (X_Int32)_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_final;// + param_addr_lut_start_addr;
            //index calculation

            if (_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_final >= 499) {
              _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_1 = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_0;// last LUT table value, use the same
            }
            else {
              _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_1 = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_0 + 1;// get nest LUT table value
            }

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_0 = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_table[_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_0];
            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_1 = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_table[_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_1];

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_0 + ((_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_1 - _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data_0) * _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_addr_lim_diff);

            _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__value = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__lut_data;




         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Gain8
                    _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_gain8__out = -2.668802563418119e-06 * _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product5__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.Logical operator3
        _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_logical_operator3__out =_battery_ess__generic_1_battery_converter_control_bus_split3__out2 || _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination5
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination6
        

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Termination1
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch11
                         _battery_ess__generic_1_battery_converter_control_signal_switch11__out = (_battery_ess__generic_1_battery_converter_control_bus_split3__out25 > 0.5f) ? _battery_ess__generic_1_battery_converter_control_voltvar1_c_function1__Q_out : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch12
                         _battery_ess__generic_1_battery_converter_control_signal_switch12__out = (_battery_ess__generic_1_battery_converter_control_bus_split3__out27 > 0.5f) ? _battery_ess__generic_1_battery_converter_control_voltwatt1_c_function1__P_out : _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Join4
        
	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[0] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out1;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[1] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out2;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[2] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out3;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[3] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out4;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[4] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out5;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[5] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out6;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[6] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out7;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[7] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out8;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join4__out[8] = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out9;
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Gain51
                    _pv_power_plant__generic_1_pv_converter_control_gain51__out = 0.001 * _pv_power_plant__generic_1_pv_converter_control_bus_split4__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.Logical operator3
        _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_logical_operator3__out =_pv_power_plant__generic_1_pv_converter_control_bus_split3__out1 || _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_c_function1__reset_alarms_mask ;  

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination5
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination6
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch2
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch2__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split3__out16 > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_voltvar1_c_function1__Q_out : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__Q_contribution_out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch15
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch15__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split3__out18 > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_voltwatt1_c_function1__P_out : _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__D_contribution_out;

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term15
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term16
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term17
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term18
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term19
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term20
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term21
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term22
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term23
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term24
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term25
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term26
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term27
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term28
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term29
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term30
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term31
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term32
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term33
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term34
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term35
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term36
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term37
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term38
        

         // Generated from the component: Variable Load (Generic) UI1.DER (Generic) Output Split.Term39
        

         // Generated from the component: Variable Load (Generic) UI1.Enable_fb
            HIL_OutAO(0x4041, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out);

         // Generated from the component: Variable Load (Generic) UI1.Fmeas_Hz
            HIL_OutAO(0x4042, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out6);

      _variable_load__generic__ui1_fmeas_hz__in = _variable_load__generic__ui1_der__generic__output_split_bus_split__out6;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_fmeas_hz__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_variable_load__generic__ui1_fmeas_hz__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_fmeas_hz__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_fmeas_hz__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Variable Load (Generic) UI1.MCB_status
            HIL_OutAO(0x4043, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out13);

         // Generated from the component: Variable Load (Generic) UI1.PFmeas
            HIL_OutAO(0x4044, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out11);

         // Generated from the component: Variable Load (Generic) UI1.Pmeas_kW
            HIL_OutAO(0x4045, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out8);

      _variable_load__generic__ui1_pmeas_kw__in = _variable_load__generic__ui1_der__generic__output_split_bus_split__out8;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_pmeas_kw__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_variable_load__generic__ui1_pmeas_kw__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_pmeas_kw__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_pmeas_kw__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Variable Load (Generic) UI1.Pnom_kW
            HIL_OutAO(0x4046, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out3);

         // Generated from the component: Variable Load (Generic) UI1.Pref_fb_kW
            HIL_OutAO(0x4047, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out1);

         // Generated from the component: Variable Load (Generic) UI1.Qmeas_kVAr
            HIL_OutAO(0x4048, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out9);

      _variable_load__generic__ui1_qmeas_kvar__in = _variable_load__generic__ui1_der__generic__output_split_bus_split__out9;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_qmeas_kvar__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_variable_load__generic__ui1_qmeas_kvar__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_qmeas_kvar__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _variable_load__generic__ui1_qmeas_kvar__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Variable Load (Generic) UI1.Qnom_kVAr
            HIL_OutAO(0x4049, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out4);

         // Generated from the component: Variable Load (Generic) UI1.Qref_fb_kVAr
            HIL_OutAO(0x404a, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out2);

         // Generated from the component: Variable Load (Generic) UI1.Smeas_kVA
            HIL_OutAO(0x404b, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out10);

         // Generated from the component: Variable Load (Generic) UI1.Snom_kVA
            HIL_OutAO(0x404c, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out5);

         // Generated from the component: Variable Load (Generic) UI1.Vgrid_rms_meas_kV
            HIL_OutAO(0x404d, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out7);

         // Generated from the component: Variable Load (Generic) UI1.Vload_rms_meas_V
            HIL_OutAO(0x404e, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out12);

         // Generated from the component: Variable Load (Generic) UI1.alarm_msg
            HIL_OutAO(0x404f, (float)_variable_load__generic__ui1_der__generic__output_split_bus_split__out14);

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Bus Join4
        
	        	_variable_load__generic_1_converter_control_pq_control1_bus_join4__out[0] = _variable_load__generic_1_converter_control_pq_control1_sum1__out;
 	        	_variable_load__generic_1_converter_control_pq_control1_bus_join4__out[1] = _variable_load__generic_1_converter_control_pq_control1_sum2__out;
 
         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Sum1
        _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_sum1__out = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_constant2__out-_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain2__out;    

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Limit1
              _battery_ess__generic_1_battery_dc_link_sp1_limit1__out = MIN(MAX(_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__value, 0.1), 1000000.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Product4
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product4__out = (_battery_ess__generic_1_battery_converter_control_logical_operator3__out * _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_gain8__out);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch15
                         _battery_ess__generic_1_battery_converter_control_signal_switch15__out = (_battery_ess__generic_1_battery_converter_control_bus_split3__out26 > 0.5f) ? _battery_ess__generic_1_battery_converter_control_hzwatt1_c_function1__P_out : _battery_ess__generic_1_battery_converter_control_signal_switch12__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination2
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch3
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch3__out = (_pv_power_plant__generic_1_pv_converter_control_bus_split3__out17 > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_hzwatt1_c_function1__P_out : _pv_power_plant__generic_1_pv_converter_control_signal_switch15__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Signal switch2
                          _variable_load__generic_1_converter_control_pq_control1_signal_switch2__out[0] = (_variable_load__generic_1_converter_control_main_state_machine__enable_out > 0.5f) ? _variable_load__generic_1_converter_control_pq_control1_bus_join4__out[0] : _variable_load__generic_1_converter_control_pq_control1_constant1__out[0];
            _variable_load__generic_1_converter_control_pq_control1_signal_switch2__out[1] = (_variable_load__generic_1_converter_control_main_state_machine__enable_out > 0.5f) ? _variable_load__generic_1_converter_control_pq_control1_bus_join4__out[1] : _variable_load__generic_1_converter_control_pq_control1_constant1__out[1];

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Product1
        _battery_ess__generic_1_battery_dc_link_sp1_product1__out = (_battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__out)*1.0/(_battery_ess__generic_1_battery_dc_link_sp1_limit1__out);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Sum10
        _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_sum10__out = _battery_ess__generic_1_battery_converter_control_sum3__out+_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_product4__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.C function1
                    _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pmax = _battery_ess__generic_1_battery_converter_control_pq_control_constant3__out;
            _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref = _battery_ess__generic_1_battery_converter_control_signal_switch15__out;
            _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qmax = _battery_ess__generic_1_battery_converter_control_pq_control_constant4__out;
            _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref = _battery_ess__generic_1_battery_converter_control_signal_switch11__out;

    {
    _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Pref = 1 ; if ( _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref < 0 )     {
        _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Pref = - 1 ;
}
 _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_var = fabs ( _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref ) ; if ( _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_var > _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pmax )     {
        _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_var = _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pmax ;
}
 _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Qref = 1 ; if ( _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref < 0 )     {
        _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Qref = - 1 ;
}
 _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_var = fabs ( _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref ) ; if ( _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_var > _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qmax )     {
        _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_var = _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qmax ;
}
 _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_lim = _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Pref * _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_var ; _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_lim = _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__sign_Qref * _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_var ;
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Limit24
              _pv_power_plant__generic_1_pv_converter_control_limit24__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_signal_switch3__out, 0.0), 450000.0);

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Bus Split2
                     _variable_load__generic_1_converter_control_pq_control1_bus_split2__out=_variable_load__generic_1_converter_control_pq_control1_signal_switch2__out[0];
 
            _variable_load__generic_1_converter_control_pq_control1_bus_split2__out1=_variable_load__generic_1_converter_control_pq_control1_signal_switch2__out[1];
 

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.Bus Join2
        
	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[0] = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_lut__value;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[1] = _battery_ess__generic_1_battery_dc_link_sp1_product1__out;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[2] = _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__out;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[3] = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_sum1__out;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[4] = _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain5__out;
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[5] = _battery_ess__generic_1_battery_dc_link_sp1_constant1__out[0];
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[6] = _battery_ess__generic_1_battery_dc_link_sp1_constant1__out[1];
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[7] = _battery_ess__generic_1_battery_dc_link_sp1_constant1__out[2];
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[8] = _battery_ess__generic_1_battery_dc_link_sp1_constant1__out[3];
 	        	_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[9] = _battery_ess__generic_1_battery_dc_link_sp1_constant1__out[4];
 
         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Gain1
                    _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain1__out = 27777.777777777777 * _battery_ess__generic_1_battery_dc_link_sp1_product1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.Limit2
              _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_limit2__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_voltage_droop_control1_sum10__out, 0.0), 323.31615074619043);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Sum1
        _battery_ess__generic_1_battery_converter_control_pq_control_sum1__out = _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Pref_lim-_battery_ess__generic_1_battery_converter_control_bus_split1__out1;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Sum2
        _battery_ess__generic_1_battery_converter_control_pq_control_sum2__out = _battery_ess__generic_1_battery_converter_control_pq_control_c_function1__Qref_lim-_battery_ess__generic_1_battery_converter_control_bus_split1__out5;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination7
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination8
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Relational operator1
            _pv_power_plant__generic_1_pv_converter_control_relational_operator1__out = (_pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out > _pv_power_plant__generic_1_pv_converter_control_limit24__out) ? 1 : 0;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Ki
                    _variable_load__generic_1_converter_control_pq_control1_pi_d_ki__out = 0.5042887007954868 * _variable_load__generic_1_converter_control_pq_control1_bus_split2__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Kp
                    _variable_load__generic_1_converter_control_pq_control1_pi_d_kp__out = 0.0011036482222327455 * _variable_load__generic_1_converter_control_pq_control1_bus_split2__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Ki
                    _variable_load__generic_1_converter_control_pq_control1_pi_d1_ki__out = -0.5042887007954868 * _variable_load__generic_1_converter_control_pq_control1_bus_split2__out1;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Kp
                    _variable_load__generic_1_converter_control_pq_control1_pi_d1_kp__out = -0.0011036482222327455 * _variable_load__generic_1_converter_control_pq_control1_bus_split2__out1;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Split4
                     _battery_ess__generic_1_battery_converter_control_bus_split4__out=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[0];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out1=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[1];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out2=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[2];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out3=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[3];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out4=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[4];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out5=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[5];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out6=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[6];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out7=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[7];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out8=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[8];
 
            _battery_ess__generic_1_battery_converter_control_bus_split4__out9=_battery_ess__generic_1_battery_dc_link_sp1_bus_join2__out[9];
 

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Product1
        _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_product1__out = (_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_gain1__out)*1.0/(_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__soh_scl);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch1
                         _battery_ess__generic_1_battery_converter_control_signal_switch1__out = (_battery_ess__generic_1_battery_converter_control_mode_selection__isoc > 0.5f) ? _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_out : _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_limit2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Bus Join4
        
	        	_battery_ess__generic_1_battery_converter_control_pq_control_bus_join4__out[0] = _battery_ess__generic_1_battery_converter_control_pq_control_sum1__out;
 	        	_battery_ess__generic_1_battery_converter_control_pq_control_bus_join4__out[1] = _battery_ess__generic_1_battery_converter_control_pq_control_sum2__out;
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Join2
        
	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[0] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[1] = _pv_power_plant__generic_1_pv_converter_control_gain1__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[2] = _pv_power_plant__generic_1_pv_converter_control_gain35__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[3] = _pv_power_plant__generic_1_pv_converter_control_gain45__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[4] = _pv_power_plant__generic_1_pv_converter_control_gain46__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[5] = _pv_power_plant__generic_1_pv_converter_control_gain47__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[6] = _pv_power_plant__generic_1_pv_converter_control_gain34__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[7] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out14;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[8] = _pv_power_plant__generic_1_pv_converter_control_gain36__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[9] = _pv_power_plant__generic_1_pv_converter_control_gain37__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[10] = _pv_power_plant__generic_1_pv_converter_control_gain38__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[11] = _pv_power_plant__generic_1_pv_converter_control_gain39__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[12] = _pv_power_plant__generic_1_pv_converter_control_gain40__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[13] = _pv_power_plant__generic_1_pv_converter_control_gain41__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[14] = _pv_power_plant__generic_1_pv_converter_control_gain42__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[15] = _pv_power_plant__generic_1_pv_converter_control_gain43__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[16] = _pv_power_plant__generic_1_pv_converter_control_gain44__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[17] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out10;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[18] = _pv_power_plant__generic_1_pv_converter_control_gain48__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[19] = _pv_power_plant__generic_1_pv_converter_control_gain51__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[20] = _pv_power_plant__generic_1_pv_converter_control_relational_operator1__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[21] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out21;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[22] = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[23] = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out23;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[24] = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__active_out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[25] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[0];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[26] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[1];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[27] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[2];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[28] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[3];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[29] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[4];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[30] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[5];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[31] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[6];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[32] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[7];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[33] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[8];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[34] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[9];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[35] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[10];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[36] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[11];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[37] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[12];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[38] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[13];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[39] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs__out[14];
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Signal switch1
                         _pv_power_plant__generic_1_pv_converter_control_signal_switch1__out = (_pv_power_plant__generic_1_pv_converter_control_relational_operator1__out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_limit24__out : _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_out;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Sum5
        _variable_load__generic_1_converter_control_pq_control1_pi_d_sum5__out = _variable_load__generic_1_converter_control_pq_control1_pi_d_kp__out+_variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__out;    

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Sum5
        _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum5__out = _variable_load__generic_1_converter_control_pq_control1_pi_d1_kp__out+_variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Join5
        
	        	_battery_ess__generic_1_battery_converter_control_bus_join5__out[0] = _battery_ess__generic_1_battery_converter_control_bus_split4__out5;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join5__out[1] = _battery_ess__generic_1_battery_converter_control_bus_split4__out6;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join5__out[2] = _battery_ess__generic_1_battery_converter_control_bus_split4__out7;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join5__out[3] = _battery_ess__generic_1_battery_converter_control_bus_split4__out8;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join5__out[4] = _battery_ess__generic_1_battery_converter_control_bus_split4__out9;
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Pbatt
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator1
            _battery_ess__generic_1_battery_converter_control_relational_operator1__out = (_battery_ess__generic_1_battery_converter_control_bus_split4__out3 > _battery_ess__generic_1_battery_converter_control_limit11__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator2
            _battery_ess__generic_1_battery_converter_control_relational_operator2__out = (_battery_ess__generic_1_battery_converter_control_bus_split4__out3 < _battery_ess__generic_1_battery_converter_control_limit10__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator7
            _battery_ess__generic_1_battery_converter_control_relational_operator7__out = (_battery_ess__generic_1_battery_converter_control_bus_split4__out3 < _battery_ess__generic_1_battery_converter_control_constant24__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Relational operator8
            _battery_ess__generic_1_battery_converter_control_relational_operator8__out = (_battery_ess__generic_1_battery_converter_control_bus_split4__out3 > _battery_ess__generic_1_battery_converter_control_constant23__out) ? 1 : 0;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain52
                    _battery_ess__generic_1_battery_converter_control_gain52__out = 1.7320508075688772 * _battery_ess__generic_1_battery_converter_control_signal_switch1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Signal switch2
                          _battery_ess__generic_1_battery_converter_control_pq_control_signal_switch2__out[0] = (_battery_ess__generic_1_battery_converter_control_logical_operator4__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_pq_control_bus_join4__out[0] : _battery_ess__generic_1_battery_converter_control_pq_control_constant1__out[0];
            _battery_ess__generic_1_battery_converter_control_pq_control_signal_switch2__out[1] = (_battery_ess__generic_1_battery_converter_control_logical_operator4__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_pq_control_bus_join4__out[1] : _battery_ess__generic_1_battery_converter_control_pq_control_constant1__out[1];

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Bus Split
                     _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[0];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out1=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[1];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out2=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[2];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out3=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[3];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out4=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[4];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out5=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[5];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out6=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[6];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out7=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[7];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out8=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[8];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out9=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[9];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out10=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[10];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out11=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[11];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out12=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[12];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out13=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[13];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out14=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[14];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out15=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[15];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out16=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[16];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out17=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[17];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out18=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[18];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out19=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[19];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out20=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[20];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out21=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[21];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out22=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[22];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out23=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[23];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out24=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[24];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out25=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[25];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out26=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[26];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out27=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[27];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out28=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[28];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out29=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[29];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out30=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[30];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out31=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[31];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out32=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[32];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out33=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[33];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out34=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[34];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out35=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[35];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out36=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[36];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out37=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[37];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out38=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[38];
 
            _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out39=_pv_power_plant__generic_1_pv_converter_control_bus_join2__out[39];
 

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.C function1
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pmax = _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant3__out;
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref = _pv_power_plant__generic_1_pv_converter_control_signal_switch1__out;
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qmax = _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant4__out;
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref = _pv_power_plant__generic_1_pv_converter_control_signal_switch2__out;

    {
    _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Pref = 1 ; if ( _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref < 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Pref = - 1 ;
}
 _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_var = fabs ( _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref ) ; if ( _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_var > _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pmax )     {
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_var = _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pmax ;
}
 _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Qref = 1 ; if ( _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref < 0 )     {
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Qref = - 1 ;
}
 _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_var = fabs ( _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref ) ; if ( _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_var > _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qmax )     {
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_var = _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qmax ;
}
 _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_lim = _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Pref * _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_var ; _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_lim = _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__sign_Qref * _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_var ;
}

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Limit1
              _variable_load__generic_1_converter_control_pq_control1_pi_d_limit1__out = MIN(MAX(_variable_load__generic_1_converter_control_pq_control1_pi_d_sum5__out, -1102.27038425243), 1102.27038425243);

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Limit1
              _variable_load__generic_1_converter_control_pq_control1_pi_d1_limit1__out = MIN(MAX(_variable_load__generic_1_converter_control_pq_control1_pi_d1_sum5__out, -533.8539126015654), 533.8539126015654);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Termination3
        

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator10
        _battery_ess__generic_1_battery_converter_control_logical_operator10__out =_battery_ess__generic_1_battery_converter_control_relational_operator1__out && _battery_ess__generic_1_battery_converter_control_relational_operator4__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator5
        _battery_ess__generic_1_battery_converter_control_logical_operator5__out =_battery_ess__generic_1_battery_converter_control_relational_operator1__out || _battery_ess__generic_1_battery_converter_control_relational_operator2__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator9
        _battery_ess__generic_1_battery_converter_control_logical_operator9__out =_battery_ess__generic_1_battery_converter_control_relational_operator2__out && _battery_ess__generic_1_battery_converter_control_relational_operator3__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator11
        _battery_ess__generic_1_battery_converter_control_logical_operator11__out =_battery_ess__generic_1_battery_converter_control_relational_operator6__out && _battery_ess__generic_1_battery_converter_control_relational_operator7__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator12
        _battery_ess__generic_1_battery_converter_control_logical_operator12__out =_battery_ess__generic_1_battery_converter_control_relational_operator5__out && _battery_ess__generic_1_battery_converter_control_relational_operator8__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Bus Split2
                     _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out=_battery_ess__generic_1_battery_converter_control_pq_control_signal_switch2__out[0];
 
            _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out1=_battery_ess__generic_1_battery_converter_control_pq_control_signal_switch2__out[1];
 

         // Generated from the component: PV Power Plant (Generic) UI1.Available_Ppv_kW
            HIL_OutAO(0x4028, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out19);

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term25
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term26
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term27
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term28
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term29
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term30
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term31
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term32
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term33
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term34
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term35
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term36
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term37
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term38
        

         // Generated from the component: PV Power Plant (Generic) UI1.DER (Generic) Output Split1.Term39
        

         // Generated from the component: PV Power Plant (Generic) UI1.Enable_fb
            HIL_OutAO(0x4029, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out);

         // Generated from the component: PV Power Plant (Generic) UI1.Fmeas_Hz
            HIL_OutAO(0x402a, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out7);

      _pv_power_plant__generic__ui1_fmeas_hz__in = _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out7;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_fmeas_hz__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_pv_power_plant__generic__ui1_fmeas_hz__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_fmeas_hz__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_fmeas_hz__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: PV Power Plant (Generic) UI1.LVRT_active_status
            HIL_OutAO(0x402b, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out24);

         // Generated from the component: PV Power Plant (Generic) UI1.MCB_status
            HIL_OutAO(0x402c, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out21);

         // Generated from the component: PV Power Plant (Generic) UI1.PFmeas
            HIL_OutAO(0x402d, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out17);

         // Generated from the component: PV Power Plant (Generic) UI1.Pa_meas_kW
            HIL_OutAO(0x402e, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out9);

         // Generated from the component: PV Power Plant (Generic) UI1.Pb_meas_kW
            HIL_OutAO(0x402f, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out10);

         // Generated from the component: PV Power Plant (Generic) UI1.Pc_meas_kW
            HIL_OutAO(0x4030, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out11);

         // Generated from the component: PV Power Plant (Generic) UI1.Pmeas_kW
            HIL_OutAO(0x4031, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out8);

      _pv_power_plant__generic__ui1_pmeas_kw__in = _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out8;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_pmeas_kw__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_pv_power_plant__generic__ui1_pmeas_kw__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_pmeas_kw__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_pmeas_kw__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: PV Power Plant (Generic) UI1.Pnom_kW
            HIL_OutAO(0x4032, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out3);

         // Generated from the component: PV Power Plant (Generic) UI1.Pref_fb_kW
            HIL_OutAO(0x4033, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out1);

         // Generated from the component: PV Power Plant (Generic) UI1.Qa_meas_kVAr
            HIL_OutAO(0x4034, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out13);

         // Generated from the component: PV Power Plant (Generic) UI1.Qb_meas_kVAr
            HIL_OutAO(0x4035, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out14);

         // Generated from the component: PV Power Plant (Generic) UI1.Qc_meas_kVAr
            HIL_OutAO(0x4036, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out15);

         // Generated from the component: PV Power Plant (Generic) UI1.Qmeas_kVAr
            HIL_OutAO(0x4037, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out12);

      _pv_power_plant__generic__ui1_qmeas_kvar__in = _pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out12;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_qmeas_kvar__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_pv_power_plant__generic__ui1_qmeas_kvar__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_qmeas_kvar__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _pv_power_plant__generic__ui1_qmeas_kvar__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: PV Power Plant (Generic) UI1.Qnom_kVAr
            HIL_OutAO(0x4038, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out4);

         // Generated from the component: PV Power Plant (Generic) UI1.Qref_fb_kVAr
            HIL_OutAO(0x4039, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out2);

         // Generated from the component: PV Power Plant (Generic) UI1.Smeas_kVA
            HIL_OutAO(0x403a, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out16);

         // Generated from the component: PV Power Plant (Generic) UI1.Snom_kVA
            HIL_OutAO(0x403b, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out5);

         // Generated from the component: PV Power Plant (Generic) UI1.Vconv_rms_meas_V
            HIL_OutAO(0x403c, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out18);

         // Generated from the component: PV Power Plant (Generic) UI1.Vgrid_rms_meas_kV
            HIL_OutAO(0x403d, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out6);

         // Generated from the component: PV Power Plant (Generic) UI1.alarm_msg
            HIL_OutAO(0x403e, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out23);

         // Generated from the component: PV Power Plant (Generic) UI1.curtailment_status
            HIL_OutAO(0x403f, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out20);

         // Generated from the component: PV Power Plant (Generic) UI1.state
            HIL_OutAO(0x4040, (float)_pv_power_plant__generic__ui1_der__generic__output_split1_bus_split__out22);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Sum1
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum1__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Pref_lim-_pv_power_plant__generic_1_pv_converter_control_bus_split1__out1;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Sum2
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum2__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_c_function1__Qref_lim-_pv_power_plant__generic_1_pv_converter_control_bus_split1__out5;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination7
        

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Termination8
        

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Sum6
        _variable_load__generic_1_converter_control_pq_control1_pi_d_sum6__out =  - _variable_load__generic_1_converter_control_pq_control1_pi_d_sum5__out+_variable_load__generic_1_converter_control_pq_control1_pi_d_limit1__out;    

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Bus Join3
        
	        	_variable_load__generic_1_converter_control_pq_control1_bus_join3__out[0] = _variable_load__generic_1_converter_control_pq_control1_pi_d_limit1__out;
 	        	_variable_load__generic_1_converter_control_pq_control1_bus_join3__out[1] = _variable_load__generic_1_converter_control_pq_control1_pi_d1_limit1__out;
 
         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Sum6
        _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum6__out =  - _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum5__out+_variable_load__generic_1_converter_control_pq_control1_pi_d1_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch9
                         _battery_ess__generic_1_battery_converter_control_signal_switch9__out = (_battery_ess__generic_1_battery_converter_control_logical_operator10__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_limit8__out : _battery_ess__generic_1_battery_converter_control_constant17__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Logical operator13
        _battery_ess__generic_1_battery_converter_control_logical_operator13__out =_battery_ess__generic_1_battery_converter_control_logical_operator11__out || _battery_ess__generic_1_battery_converter_control_logical_operator12__out ;  

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Ki
                    _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_ki__out = 0.5042887007954868 * _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Kp
                    _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_kp__out = 0.0011036482222327455 * _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Ki
                    _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_ki__out = -0.5042887007954868 * _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out1;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Kp
                    _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_kp__out = -0.0011036482222327455 * _battery_ess__generic_1_battery_converter_control_pq_control_bus_split2__out1;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Bus Join4
        
	        	_pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join4__out[0] = _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum1__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join4__out[1] = _pv_power_plant__generic_1_pv_converter_control_pq_control2_sum2__out;
 
         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Kb
                    _variable_load__generic_1_converter_control_pq_control1_pi_d_kb__out = 10.0 * _variable_load__generic_1_converter_control_pq_control1_pi_d_sum6__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Signal switch6
                          _variable_load__generic_1_converter_control_pq_control1_signal_switch6__out[0] = (_variable_load__generic_1_converter_control_main_state_machine__enable_out > 0.5f) ? _variable_load__generic_1_converter_control_pq_control1_bus_join3__out[0] : _variable_load__generic_1_converter_control_pq_control1_constant1__out[0];
            _variable_load__generic_1_converter_control_pq_control1_signal_switch6__out[1] = (_variable_load__generic_1_converter_control_main_state_machine__enable_out > 0.5f) ? _variable_load__generic_1_converter_control_pq_control1_bus_join3__out[1] : _variable_load__generic_1_converter_control_pq_control1_constant1__out[1];

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Kb
                    _variable_load__generic_1_converter_control_pq_control1_pi_d1_kb__out = 10.0 * _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch8
                         _battery_ess__generic_1_battery_converter_control_signal_switch8__out = (_battery_ess__generic_1_battery_converter_control_logical_operator9__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_limit8__out : _battery_ess__generic_1_battery_converter_control_signal_switch9__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Sum5
        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum5__out = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_kp__out+_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Sum5
        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum5__out = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_kp__out+_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Signal switch2
                          _pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch2__out[0] = (_pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join4__out[0] : _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant1__out[0];
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch2__out[1] = (_pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join4__out[1] : _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant1__out[1];

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Sum7
        _variable_load__generic_1_converter_control_pq_control1_pi_d_sum7__out = _variable_load__generic_1_converter_control_pq_control1_pi_d_ki__out+_variable_load__generic_1_converter_control_pq_control1_pi_d_kb__out;    

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.Bus Split3
                     _variable_load__generic_1_converter_control_pq_control1_bus_split3__out=_variable_load__generic_1_converter_control_pq_control1_signal_switch6__out[0];
 
            _variable_load__generic_1_converter_control_pq_control1_bus_split3__out1=_variable_load__generic_1_converter_control_pq_control1_signal_switch6__out[1];
 

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Sum7
        _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum7__out = _variable_load__generic_1_converter_control_pq_control1_pi_d1_ki__out+_variable_load__generic_1_converter_control_pq_control1_pi_d1_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch3
                         _battery_ess__generic_1_battery_converter_control_signal_switch3__out = (_battery_ess__generic_1_battery_converter_control_logical_operator5__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_signal_switch8__out : _battery_ess__generic_1_battery_converter_control_limit8__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Limit1
              _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_limit1__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum5__out, -1163.5076278220095), 1163.5076278220095);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Limit1
              _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_limit1__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum5__out, -382.42646351945876), 382.42646351945876);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Bus Split2
                     _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out=_pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch2__out[0];
 
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out1=_pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch2__out[1];
 

         // Generated from the component: Variable Load (Generic)1.converter_control.Bus Join1
        
	        	_variable_load__generic_1_converter_control_bus_join1__out[0] = _variable_load__generic_1_converter_control_main_state_machine__enable_out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[1] = _variable_load__generic_1_converter_control_constant6__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[2] = _variable_load__generic_1_converter_control_constant7__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[3] = _variable_load__generic_1_converter_control_constant8__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[4] = _variable_load__generic_1_converter_control_pq_control1_bus_split3__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[5] = _variable_load__generic_1_converter_control_pq_control1_bus_split3__out1;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[6] = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_logical_operator3__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[7] = _variable_load__generic_1_converter_control_constant18__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[8] = _variable_load__generic_1_converter_control_constant18__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[9] = _variable_load__generic_1_converter_control_constant18__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[10] = _variable_load__generic_1_converter_control_limit2__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[11] = _variable_load__generic_1_converter_control_limit3__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[12] = _variable_load__generic_1_converter_control_limit4__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[13] = _variable_load__generic_1_converter_control_limit5__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[14] = _variable_load__generic_1_converter_control_limit6__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[15] = _variable_load__generic_1_converter_control_limit7__out;
 	        	_variable_load__generic_1_converter_control_bus_join1__out[16] = _variable_load__generic_1_converter_control_constant12__out[0];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[17] = _variable_load__generic_1_converter_control_constant12__out[1];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[18] = _variable_load__generic_1_converter_control_constant12__out[2];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[19] = _variable_load__generic_1_converter_control_constant12__out[3];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[20] = _variable_load__generic_1_converter_control_constant12__out[4];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[21] = _variable_load__generic_1_converter_control_constant12__out[5];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[22] = _variable_load__generic_1_converter_control_constant12__out[6];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[23] = _variable_load__generic_1_converter_control_constant12__out[7];
 	        	_variable_load__generic_1_converter_control_bus_join1__out[24] = _variable_load__generic_1_converter_control_constant12__out[8];
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Sum11
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_sum11__out =  - _battery_ess__generic_1_battery_converter_control_signal_switch3__out+_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Gain50
                    _battery_ess__generic_1_battery_converter_control_gain50__out = 0.001 * _battery_ess__generic_1_battery_converter_control_signal_switch3__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Sum6
        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum6__out =  - _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum5__out+_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Bus Join3
        
	        	_battery_ess__generic_1_battery_converter_control_pq_control_bus_join3__out[0] = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_limit1__out;
 	        	_battery_ess__generic_1_battery_converter_control_pq_control_bus_join3__out[1] = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_limit1__out;
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Sum6
        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum6__out =  - _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum5__out+_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Ki
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_ki__out = 0.5042887007954868 * _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Kp
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_kp__out = 0.0011036482222327455 * _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Ki
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_ki__out = -0.5042887007954868 * _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out1;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Kp
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_kp__out = -0.0011036482222327455 * _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split2__out1;

         // Generated from the component: Variable Load (Generic)1.Grid Converter1.Rate Transition17.Input
        _variable_load__generic_1_grid_converter1_rate_transition17_output__state[0] = _variable_load__generic_1_converter_control_bus_join1__out[0];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[1] = _variable_load__generic_1_converter_control_bus_join1__out[1];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[2] = _variable_load__generic_1_converter_control_bus_join1__out[2];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[3] = _variable_load__generic_1_converter_control_bus_join1__out[3];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[4] = _variable_load__generic_1_converter_control_bus_join1__out[4];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[5] = _variable_load__generic_1_converter_control_bus_join1__out[5];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[6] = _variable_load__generic_1_converter_control_bus_join1__out[6];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[7] = _variable_load__generic_1_converter_control_bus_join1__out[7];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[8] = _variable_load__generic_1_converter_control_bus_join1__out[8];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[9] = _variable_load__generic_1_converter_control_bus_join1__out[9];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[10] = _variable_load__generic_1_converter_control_bus_join1__out[10];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[11] = _variable_load__generic_1_converter_control_bus_join1__out[11];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[12] = _variable_load__generic_1_converter_control_bus_join1__out[12];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[13] = _variable_load__generic_1_converter_control_bus_join1__out[13];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[14] = _variable_load__generic_1_converter_control_bus_join1__out[14];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[15] = _variable_load__generic_1_converter_control_bus_join1__out[15];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[16] = _variable_load__generic_1_converter_control_bus_join1__out[16];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[17] = _variable_load__generic_1_converter_control_bus_join1__out[17];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[18] = _variable_load__generic_1_converter_control_bus_join1__out[18];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[19] = _variable_load__generic_1_converter_control_bus_join1__out[19];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[20] = _variable_load__generic_1_converter_control_bus_join1__out[20];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[21] = _variable_load__generic_1_converter_control_bus_join1__out[21];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[22] = _variable_load__generic_1_converter_control_bus_join1__out[22];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[23] = _variable_load__generic_1_converter_control_bus_join1__out[23];_variable_load__generic_1_grid_converter1_rate_transition17_output__state[24] = _variable_load__generic_1_converter_control_bus_join1__out[24];
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Limit2
              _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_limit2__out = MIN(MAX(_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_sum11__out, -570000.0), 570000.0);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Kb
                    _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_kb__out = 10.0 * _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Signal switch6
                          _battery_ess__generic_1_battery_converter_control_pq_control_signal_switch6__out[0] = (_battery_ess__generic_1_battery_converter_control_logical_operator4__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_pq_control_bus_join3__out[0] : _battery_ess__generic_1_battery_converter_control_pq_control_constant1__out[0];
            _battery_ess__generic_1_battery_converter_control_pq_control_signal_switch6__out[1] = (_battery_ess__generic_1_battery_converter_control_logical_operator4__out > 0.5f) ? _battery_ess__generic_1_battery_converter_control_pq_control_bus_join3__out[1] : _battery_ess__generic_1_battery_converter_control_pq_control_constant1__out[1];

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Kb
                    _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_kb__out = 10.0 * _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Sum5
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum5__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_kp__out+_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Sum5
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum5__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_kp__out+_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Product6
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product6__out = (_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_limit2__out * _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product7__out);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Sum7
        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum7__out = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_ki__out+_battery_ess__generic_1_battery_converter_control_pq_control_pi_d_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.Bus Split3
                     _battery_ess__generic_1_battery_converter_control_pq_control_bus_split3__out=_battery_ess__generic_1_battery_converter_control_pq_control_signal_switch6__out[0];
 
            _battery_ess__generic_1_battery_converter_control_pq_control_bus_split3__out1=_battery_ess__generic_1_battery_converter_control_pq_control_signal_switch6__out[1];
 

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Sum7
        _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum7__out = _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_ki__out+_battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Limit1
              _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_limit1__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum5__out, -918.5586535436917), 918.5586535436917);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Limit1
              _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_limit1__out = MIN(MAX(_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum5__out, -444.8782605013045), 444.8782605013045);

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Gain6
                    _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_gain6__out = -8.771929824561404e-07 * _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product6__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Sum6
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum6__out =  - _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum5__out+_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_limit1__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Bus Join3
        
	        	_pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join3__out[0] = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_limit1__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join3__out[1] = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_limit1__out;
 
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Sum6
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum6__out =  - _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum5__out+_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_limit1__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Product3
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product3__out = (_battery_ess__generic_1_battery_converter_control_logical_operator3__out * _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_gain6__out);

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Kb
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_kb__out = 10.0 * _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum6__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Signal switch6
                          _pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch6__out[0] = (_pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join3__out[0] : _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant1__out[0];
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch6__out[1] = (_pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out > 0.5f) ? _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_join3__out[1] : _pv_power_plant__generic_1_pv_converter_control_pq_control2_constant1__out[1];

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Kb
                    _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_kb__out = 10.0 * _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum6__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Sum5
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_sum5__out = _battery_ess__generic_1_battery_converter_control_sum1__out+_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_product3__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Sum7
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum7__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_ki__out+_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_kb__out;    

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.Bus Split3
                     _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split3__out=_pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch6__out[0];
 
            _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split3__out1=_pv_power_plant__generic_1_pv_converter_control_pq_control2_signal_switch6__out[1];
 

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Sum7
        _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum7__out = _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_ki__out+_pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_kb__out;    

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.Limit3
        _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_limit3__out = MAX(_battery_ess__generic_1_battery_converter_control_frequency_droop_control1_sum5__out, 0.0);
         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Bus Join1
        
	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[0] = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[1] = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[2] = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[3] = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[4] = _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split3__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[5] = _pv_power_plant__generic_1_pv_converter_control_pq_control2_bus_split3__out1;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[6] = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_logical_operator3__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[7] = _pv_power_plant__generic_1_pv_converter_control_constant5__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[8] = _pv_power_plant__generic_1_pv_converter_control_logical_operator15__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[9] = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__disconnect_out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[10] = _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch11__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[11] = _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch12__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[12] = _pv_power_plant__generic_1_pv_converter_control_signal_switch14__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[13] = _pv_power_plant__generic_1_pv_converter_control_signal_switch13__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[14] = _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch15__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[15] = _pv_power_plant__generic_1_pv_converter_control_subsystem1_signal_switch16__out;
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[16] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[0];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[17] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[1];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[18] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[2];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[19] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[3];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[20] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[4];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[21] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[5];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[22] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[6];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[23] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[7];
 	        	_pv_power_plant__generic_1_pv_converter_control_bus_join1__out[24] = _pv_power_plant__generic_1_pv_converter_control_reserved_outs2__out[8];
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Signal switch2
                         _battery_ess__generic_1_battery_converter_control_signal_switch2__out = (_battery_ess__generic_1_battery_converter_control_mode_selection__isoc > 0.5f) ? _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_out : _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_limit3__out;

         // Generated from the component: PV Power Plant (Generic)1.Grid Converter1.Rate Transition17.Input
        _pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[0] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[0];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[1] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[1];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[2] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[2];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[3] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[3];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[4] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[4];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[5] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[5];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[6] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[6];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[7] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[7];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[8] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[8];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[9] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[9];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[10] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[10];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[11] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[11];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[12] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[12];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[13] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[13];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[14] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[14];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[15] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[15];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[16] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[16];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[17] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[17];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[18] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[18];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[19] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[19];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[20] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[20];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[21] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[21];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[22] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[22];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[23] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[23];_pv_power_plant__generic_1_grid_converter1_rate_transition17_output__state[24] = _pv_power_plant__generic_1_pv_converter_control_bus_join1__out[24];
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Join1
        
	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[0] = _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[1] = _battery_ess__generic_1_battery_converter_control_mode_selection__grid_form;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[2] = _battery_ess__generic_1_battery_converter_control_signal_switch1__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[3] = _battery_ess__generic_1_battery_converter_control_signal_switch2__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[4] = _battery_ess__generic_1_battery_converter_control_pq_control_bus_split3__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[5] = _battery_ess__generic_1_battery_converter_control_pq_control_bus_split3__out1;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[6] = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_logical_operator3__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[7] = _battery_ess__generic_1_battery_converter_control_logical_operator13__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[8] = _battery_ess__generic_1_battery_converter_control_logical_operator15__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[9] = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__disconnect_out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[10] = _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch11__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[11] = _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch12__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[12] = _battery_ess__generic_1_battery_converter_control_signal_switch14__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[13] = _battery_ess__generic_1_battery_converter_control_signal_switch13__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[14] = _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch15__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[15] = _battery_ess__generic_1_battery_converter_control_subsystem1_signal_switch16__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[16] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[0];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[17] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[1];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[18] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[2];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[19] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[3];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[20] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[4];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[21] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[5];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[22] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[6];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[23] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[7];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join1__out[24] = _battery_ess__generic_1_battery_converter_control_reserved_outs2__out[8];
 
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Bus Join2
        
	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[0] = _battery_ess__generic_1_battery_converter_control_bus_split1__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[1] = _battery_ess__generic_1_battery_converter_control_bus_split3__out1;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[2] = _battery_ess__generic_1_battery_converter_control_gain50__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[3] = _battery_ess__generic_1_battery_converter_control_gain51__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[4] = _battery_ess__generic_1_battery_converter_control_gain47__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[5] = _battery_ess__generic_1_battery_converter_control_gain48__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[6] = _battery_ess__generic_1_battery_converter_control_gain49__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[7] = _battery_ess__generic_1_battery_converter_control_constant12__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[8] = _battery_ess__generic_1_battery_converter_control_constant11__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[9] = _battery_ess__generic_1_battery_converter_control_gain52__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[10] = _battery_ess__generic_1_battery_converter_control_signal_switch2__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[11] = _battery_ess__generic_1_battery_converter_control_gain35__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[12] = _battery_ess__generic_1_battery_converter_control_bus_split1__out14;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[13] = _battery_ess__generic_1_battery_converter_control_gain36__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[14] = _battery_ess__generic_1_battery_converter_control_gain37__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[15] = _battery_ess__generic_1_battery_converter_control_gain38__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[16] = _battery_ess__generic_1_battery_converter_control_gain39__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[17] = _battery_ess__generic_1_battery_converter_control_gain40__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[18] = _battery_ess__generic_1_battery_converter_control_gain41__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[19] = _battery_ess__generic_1_battery_converter_control_gain42__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[20] = _battery_ess__generic_1_battery_converter_control_gain43__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[21] = _battery_ess__generic_1_battery_converter_control_gain44__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[22] = _battery_ess__generic_1_battery_converter_control_bus_split1__out10;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[23] = _battery_ess__generic_1_battery_converter_control_gain53__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[24] = _battery_ess__generic_1_battery_converter_control_bus_split4__out3;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[25] = _battery_ess__generic_1_battery_converter_control_bus_split4__out4;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[26] = _battery_ess__generic_1_battery_converter_control_bus_split4__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[27] = _battery_ess__generic_1_battery_converter_control_bus_split4__out1;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[28] = _battery_ess__generic_1_battery_converter_control_bus_split1__out21;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[29] = _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[30] = _battery_ess__generic_1_battery_converter_control_bus_split1__out23;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[31] = _battery_ess__generic_1_battery_converter_control_constant25__out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[32] = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__active_out;
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[33] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[0];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[34] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[1];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[35] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[2];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[36] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[3];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[37] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[4];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[38] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[5];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[39] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[6];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[40] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[7];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[41] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[8];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[42] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[9];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[43] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[10];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[44] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[11];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[45] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[12];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[46] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[13];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[47] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[14];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[48] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[15];
 	        	_battery_ess__generic_1_battery_converter_control_bus_join2__out[49] = _battery_ess__generic_1_battery_converter_control_reserved_ins__out[16];
 
         // Generated from the component: Battery ESS (Generic)1.Grid Converter1.Rate Transition17.Input
        _battery_ess__generic_1_grid_converter1_rate_transition17_output__state[0] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[0];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[1] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[1];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[2] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[2];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[3] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[3];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[4] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[4];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[5] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[5];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[6] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[6];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[7] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[7];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[8] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[8];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[9] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[9];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[10] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[10];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[11] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[11];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[12] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[12];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[13] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[13];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[14] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[14];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[15] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[15];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[16] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[16];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[17] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[17];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[18] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[18];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[19] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[19];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[20] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[20];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[21] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[21];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[22] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[22];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[23] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[23];_battery_ess__generic_1_grid_converter1_rate_transition17_output__state[24] = _battery_ess__generic_1_battery_converter_control_bus_join1__out[24];
         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Bus Split
                     _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out=_battery_ess__generic_1_battery_converter_control_bus_join2__out[0];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out1=_battery_ess__generic_1_battery_converter_control_bus_join2__out[1];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out2=_battery_ess__generic_1_battery_converter_control_bus_join2__out[2];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out3=_battery_ess__generic_1_battery_converter_control_bus_join2__out[3];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out4=_battery_ess__generic_1_battery_converter_control_bus_join2__out[4];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out5=_battery_ess__generic_1_battery_converter_control_bus_join2__out[5];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out6=_battery_ess__generic_1_battery_converter_control_bus_join2__out[6];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out7=_battery_ess__generic_1_battery_converter_control_bus_join2__out[7];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out8=_battery_ess__generic_1_battery_converter_control_bus_join2__out[8];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out9=_battery_ess__generic_1_battery_converter_control_bus_join2__out[9];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out10=_battery_ess__generic_1_battery_converter_control_bus_join2__out[10];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out11=_battery_ess__generic_1_battery_converter_control_bus_join2__out[11];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out12=_battery_ess__generic_1_battery_converter_control_bus_join2__out[12];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out13=_battery_ess__generic_1_battery_converter_control_bus_join2__out[13];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out14=_battery_ess__generic_1_battery_converter_control_bus_join2__out[14];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out15=_battery_ess__generic_1_battery_converter_control_bus_join2__out[15];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out16=_battery_ess__generic_1_battery_converter_control_bus_join2__out[16];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out17=_battery_ess__generic_1_battery_converter_control_bus_join2__out[17];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out18=_battery_ess__generic_1_battery_converter_control_bus_join2__out[18];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out19=_battery_ess__generic_1_battery_converter_control_bus_join2__out[19];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out20=_battery_ess__generic_1_battery_converter_control_bus_join2__out[20];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out21=_battery_ess__generic_1_battery_converter_control_bus_join2__out[21];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out22=_battery_ess__generic_1_battery_converter_control_bus_join2__out[22];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out23=_battery_ess__generic_1_battery_converter_control_bus_join2__out[23];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out24=_battery_ess__generic_1_battery_converter_control_bus_join2__out[24];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out25=_battery_ess__generic_1_battery_converter_control_bus_join2__out[25];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out26=_battery_ess__generic_1_battery_converter_control_bus_join2__out[26];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out27=_battery_ess__generic_1_battery_converter_control_bus_join2__out[27];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out28=_battery_ess__generic_1_battery_converter_control_bus_join2__out[28];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out29=_battery_ess__generic_1_battery_converter_control_bus_join2__out[29];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out30=_battery_ess__generic_1_battery_converter_control_bus_join2__out[30];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out31=_battery_ess__generic_1_battery_converter_control_bus_join2__out[31];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out32=_battery_ess__generic_1_battery_converter_control_bus_join2__out[32];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out33=_battery_ess__generic_1_battery_converter_control_bus_join2__out[33];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out34=_battery_ess__generic_1_battery_converter_control_bus_join2__out[34];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out35=_battery_ess__generic_1_battery_converter_control_bus_join2__out[35];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out36=_battery_ess__generic_1_battery_converter_control_bus_join2__out[36];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out37=_battery_ess__generic_1_battery_converter_control_bus_join2__out[37];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out38=_battery_ess__generic_1_battery_converter_control_bus_join2__out[38];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out39=_battery_ess__generic_1_battery_converter_control_bus_join2__out[39];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out40=_battery_ess__generic_1_battery_converter_control_bus_join2__out[40];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out41=_battery_ess__generic_1_battery_converter_control_bus_join2__out[41];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out42=_battery_ess__generic_1_battery_converter_control_bus_join2__out[42];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out43=_battery_ess__generic_1_battery_converter_control_bus_join2__out[43];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out44=_battery_ess__generic_1_battery_converter_control_bus_join2__out[44];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out45=_battery_ess__generic_1_battery_converter_control_bus_join2__out[45];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out46=_battery_ess__generic_1_battery_converter_control_bus_join2__out[46];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out47=_battery_ess__generic_1_battery_converter_control_bus_join2__out[47];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out48=_battery_ess__generic_1_battery_converter_control_bus_join2__out[48];
 
            _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out49=_battery_ess__generic_1_battery_converter_control_bus_join2__out[49];
 

         // Generated from the component: Battery ESS (Generic) UI1.Batt_cap_nom_Ah
            HIL_OutAO(0x4000, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out31);

         // Generated from the component: Battery ESS (Generic) UI1.Converter_mode_fb
            HIL_OutAO(0x4001, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out1);

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term33
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term34
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term35
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term36
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term37
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term38
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term39
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term40
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term41
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term42
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term43
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term44
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term45
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term46
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term47
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term48
        

         // Generated from the component: Battery ESS (Generic) UI1.DER (Generic) Output Split1.Term49
        

         // Generated from the component: Battery ESS (Generic) UI1.Enable_fb
            HIL_OutAO(0x4002, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out);

         // Generated from the component: Battery ESS (Generic) UI1.Fmeas_Hz
            HIL_OutAO(0x4003, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out12);

      _battery_ess__generic__ui1_fmeas_hz__in = _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out12;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_fmeas_hz__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_battery_ess__generic__ui1_fmeas_hz__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_fmeas_hz__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_fmeas_hz__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Battery ESS (Generic) UI1.Fnom_Hz
            HIL_OutAO(0x4004, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out8);

         // Generated from the component: Battery ESS (Generic) UI1.Fref_fb_Hz
            HIL_OutAO(0x4005, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out10);

         // Generated from the component: Battery ESS (Generic) UI1.Ibatt_A
            HIL_OutAO(0x4006, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out27);

         // Generated from the component: Battery ESS (Generic) UI1.LVRT_active_status
            HIL_OutAO(0x4007, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out32);

         // Generated from the component: Battery ESS (Generic) UI1.MCB_status
            HIL_OutAO(0x4008, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out28);

         // Generated from the component: Battery ESS (Generic) UI1.PFmeas
            HIL_OutAO(0x4009, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out22);

         // Generated from the component: Battery ESS (Generic) UI1.Pa_meas_kW
            HIL_OutAO(0x400a, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out14);

         // Generated from the component: Battery ESS (Generic) UI1.Pb_meas_kW
            HIL_OutAO(0x400b, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out15);

         // Generated from the component: Battery ESS (Generic) UI1.Pc_meas_kW
            HIL_OutAO(0x400c, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out16);

         // Generated from the component: Battery ESS (Generic) UI1.Pmeas_kW
            HIL_OutAO(0x400d, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out13);

      _battery_ess__generic__ui1_pmeas_kw__in = _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out13;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_pmeas_kw__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_battery_ess__generic__ui1_pmeas_kw__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_pmeas_kw__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_pmeas_kw__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Battery ESS (Generic) UI1.Pnom_kW
            HIL_OutAO(0x400e, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out4);

         // Generated from the component: Battery ESS (Generic) UI1.Pref_fb_kW
            HIL_OutAO(0x400f, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out2);

         // Generated from the component: Battery ESS (Generic) UI1.Qa_meas_kVAr
            HIL_OutAO(0x4010, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out18);

         // Generated from the component: Battery ESS (Generic) UI1.Qb_meas_kVAr
            HIL_OutAO(0x4011, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out19);

         // Generated from the component: Battery ESS (Generic) UI1.Qc_meas_kVAr
            HIL_OutAO(0x4012, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out20);

         // Generated from the component: Battery ESS (Generic) UI1.Qmeas_kVAr
            HIL_OutAO(0x4013, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out17);

      _battery_ess__generic__ui1_qmeas_kvar__in = _battery_ess__generic__ui1_der__generic__output_split1_bus_split__out17;
      sp_scope_buff_addr_cpu0_er1_dev0 = sp_scope_buff_start_addr_cpu0_er1_dev0 + sp_scope_buff_index_cpu0_er1_dev0;
      //#ifdef SP_SCOPE_FILE_DEBUG
      //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_cpu0_er1_dev0, sp_scope_buff_index_cpuuser_sp_cpu}_cpu0_er1_dev0, sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_qmeas_kvar__in);
      //#endif
      memcpy((X_UnInt8 *)sp_scope_buff_addr_cpu0_er1_dev0, &_battery_ess__generic__ui1_qmeas_kvar__in, 4);
      //printf("\n\sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_qmeas_kvar__in 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0);
      //printf("\n\r addr 0x%x, value 0x%x\r\n", sp_scope_buff_addr_cpu0_er1_dev0, *(X_UnInt32*)(sp_scope_buff_addr_cpu0_er1_dev0));
      //XIo_OutInt32(sp_scope_buff_addr_cpu0_er1_dev0, _battery_ess__generic__ui1_qmeas_kvar__in);
      sp_scope_buff_index_cpu0_er1_dev0 = (sp_scope_buff_index_cpu0_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;

         // Generated from the component: Battery ESS (Generic) UI1.Qnom_kVAr
            HIL_OutAO(0x4014, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out5);

         // Generated from the component: Battery ESS (Generic) UI1.Qref_fb_kVAr
            HIL_OutAO(0x4015, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out3);

         // Generated from the component: Battery ESS (Generic) UI1.SOC
            HIL_OutAO(0x4016, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out24);

         // Generated from the component: Battery ESS (Generic) UI1.SOH
            HIL_OutAO(0x4017, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out25);

         // Generated from the component: Battery ESS (Generic) UI1.Smeas_kVA
            HIL_OutAO(0x4018, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out21);

         // Generated from the component: Battery ESS (Generic) UI1.Snom_kVA
            HIL_OutAO(0x4019, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out6);

         // Generated from the component: Battery ESS (Generic) UI1.Vbatt_V
            HIL_OutAO(0x401a, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out26);

         // Generated from the component: Battery ESS (Generic) UI1.Vconv_rms_meas_V
            HIL_OutAO(0x401b, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out23);

         // Generated from the component: Battery ESS (Generic) UI1.Vgrid_rms_meas_kV
            HIL_OutAO(0x401c, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out11);

         // Generated from the component: Battery ESS (Generic) UI1.Vnom_LL_V
            HIL_OutAO(0x401d, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out7);

         // Generated from the component: Battery ESS (Generic) UI1.Vrms_ref_fb_V
            HIL_OutAO(0x401e, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out9);

         // Generated from the component: Battery ESS (Generic) UI1.alarm_msg
            HIL_OutAO(0x401f, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out30);

         // Generated from the component: Battery ESS (Generic) UI1.state
            HIL_OutAO(0x4020, (float)_battery_ess__generic__ui1_der__generic__output_split1_bus_split__out29);

//@cmp.out.block.end


    //////////////////////////////////////////////////////////////////////////
    // Update block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.update.block.start
         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter_sum1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.filter1.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state = _battery_ess__generic_1_battery_converter_control_automatic_recovery_from_faults1_filter1_sum1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_unit_delay1__state = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_filter_sum1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Main state machine
                    _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_input = _battery_ess__generic_1_battery_converter_control_bus_split3__out;
            _battery_ess__generic_1_battery_converter_control_main_state_machine__fault_input = _battery_ess__generic_1_battery_converter_control_bus_split1__out22;
            _battery_ess__generic_1_battery_converter_control_main_state_machine__time_out_starting_up_input = _battery_ess__generic_1_battery_converter_control_constant14__out;

    {
    if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state == 1 )     {
        _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up = _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up + 1 ; if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up > ( _battery_ess__generic_1_battery_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up = ( _battery_ess__generic_1_battery_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) + 1 ;
}

}
 else     {
        _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up = 0.0 ;
}
 
 switch ( _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state )     {
        case 1 : if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_input < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 3 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__fault_input > 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__cnt_starting_up < ( _battery_ess__generic_1_battery_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) )             {
                _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 1 ;
}
 else             {
                _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 2 ;
}

}
 break; case 2 : if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_input < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 3 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__fault_input > 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 2 ;
}
 break; case 3 : if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__enable_input > 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 1 ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__fault_input > 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 3 ;
}
 break; case 4 : if ( _battery_ess__generic_1_battery_converter_control_main_state_machine__fault_input < 0.5 )         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 3 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 4 ;
}
 break; default : _battery_ess__generic_1_battery_converter_control_main_state_machine__current_state = 3 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping1.Ramping
                    _battery_ess__generic_1_battery_converter_control_ramping1_ramping__fsm_state = _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;
            _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pin = _battery_ess__generic_1_battery_converter_control_bus_split1__out20;
            _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_in = _battery_ess__generic_1_battery_converter_control_limit13__out;
            _battery_ess__generic_1_battery_converter_control_ramping1_ramping__ramp_time_ms = _battery_ess__generic_1_battery_converter_control_ramping1_gain1__out;

    {
    if ( _battery_ess__generic_1_battery_converter_control_ramping1_ramping__fsm_state == 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pin ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_in != _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old )     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i = 0 ; if ( _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref - _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old >= 0 )         {
            _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a = - _battery_ess__generic_1_battery_converter_control_ramping1_ramping__ramp_time_ms * 0.5 ;
}
 _battery_ess__generic_1_battery_converter_control_ramping1_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_old ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_in == _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pin && _battery_ess__generic_1_battery_converter_control_ramping1_ramping__fsm_state != 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__i = 0 ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping1_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping1_ramping__pin ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping2.Ramping
                    _battery_ess__generic_1_battery_converter_control_ramping2_ramping__fsm_state = _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;
            _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pin = _battery_ess__generic_1_battery_converter_control_bus_split1__out14;
            _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_in = _battery_ess__generic_1_battery_converter_control_limit12__out;
            _battery_ess__generic_1_battery_converter_control_ramping2_ramping__ramp_time_ms = _battery_ess__generic_1_battery_converter_control_ramping2_gain1__out;

    {
    if ( _battery_ess__generic_1_battery_converter_control_ramping2_ramping__fsm_state == 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pin ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_in != _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old )     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i = 0 ; if ( _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref - _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old >= 0 )         {
            _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a = - _battery_ess__generic_1_battery_converter_control_ramping2_ramping__ramp_time_ms * 0.5 ;
}
 _battery_ess__generic_1_battery_converter_control_ramping2_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_old ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_in == _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pin && _battery_ess__generic_1_battery_converter_control_ramping2_ramping__fsm_state != 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__i = 0 ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping2_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping2_ramping__pin ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping3.Ramping
                    _battery_ess__generic_1_battery_converter_control_ramping3_ramping__fsm_state = _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;
            _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pin = _battery_ess__generic_1_battery_converter_control_bus_split1__out1;
            _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_in = _battery_ess__generic_1_battery_converter_control_signal_switch3__out;
            _battery_ess__generic_1_battery_converter_control_ramping3_ramping__ramp_time_ms = _battery_ess__generic_1_battery_converter_control_ramping3_gain1__out;

    {
    if ( _battery_ess__generic_1_battery_converter_control_ramping3_ramping__fsm_state == 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pin ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_in != _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old )     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i = 0 ; if ( _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref - _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old >= 0 )         {
            _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a = - _battery_ess__generic_1_battery_converter_control_ramping3_ramping__ramp_time_ms * 0.5 ;
}
 _battery_ess__generic_1_battery_converter_control_ramping3_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_old ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_in == _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pin && _battery_ess__generic_1_battery_converter_control_ramping3_ramping__fsm_state != 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__i = 0 ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping3_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping3_ramping__pin ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Ramping4.Ramping
                    _battery_ess__generic_1_battery_converter_control_ramping4_ramping__fsm_state = _battery_ess__generic_1_battery_converter_control_main_state_machine__state_out;
            _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pin = _battery_ess__generic_1_battery_converter_control_bus_split1__out5;
            _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_in = _battery_ess__generic_1_battery_converter_control_limit9__out;
            _battery_ess__generic_1_battery_converter_control_ramping4_ramping__ramp_time_ms = _battery_ess__generic_1_battery_converter_control_ramping4_gain1__out;

    {
    if ( _battery_ess__generic_1_battery_converter_control_ramping4_ramping__fsm_state == 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref ;
}
 else     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pin ;
}
 if ( _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_in != _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old )     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i = 0 ; if ( _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref - _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old >= 0 )         {
            _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a = - _battery_ess__generic_1_battery_converter_control_ramping4_ramping__ramp_time_ms * 0.5 ;
}
 _battery_ess__generic_1_battery_converter_control_ramping4_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_old ;
}
 else if ( _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_in == _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pin && _battery_ess__generic_1_battery_converter_control_ramping4_ramping__fsm_state != 2.0 )     {
        _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pref_in ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__i = 0 ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__a = 0 ; _battery_ess__generic_1_battery_converter_control_ramping4_ramping__b = _battery_ess__generic_1_battery_converter_control_ramping4_ramping__pin ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_voltvar1_filter_unit_delay1__state = _battery_ess__generic_1_battery_converter_control_voltvar1_filter_sum1__out;

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.filter.Unit Delay1
              _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_unit_delay1__state = _battery_ess__generic_1_battery_converter_control_voltwatt1_filter_sum1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter_sum1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.filter1.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state = _pv_power_plant__generic_1_pv_converter_control_automatic_recovery_from_faults1_filter1_sum1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_unit_delay1__state = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_filter_sum1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Main state machine
                    _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_input = _pv_power_plant__generic_1_pv_converter_control_bus_split3__out;
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__fault_input = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out22;
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__time_out_starting_up_input = _pv_power_plant__generic_1_pv_converter_control_constant6__out;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state == 1 )     {
        _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up + 1 ; if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up > ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up = ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) + 1 ;
}

}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up = 0.0 ;
}
 
 switch ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state )     {
        case 1 : if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_input < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 3 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__fault_input > 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__cnt_starting_up < ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) )             {
                _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 1 ;
}
 else             {
                _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 2 ;
}

}
 break; case 2 : if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_input < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 3 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__fault_input > 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 2 ;
}
 break; case 3 : if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__enable_input > 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 1 ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__fault_input > 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 3 ;
}
 break; case 4 : if ( _pv_power_plant__generic_1_pv_converter_control_main_state_machine__fault_input < 0.5 )         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 3 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 4 ;
}
 break; default : _pv_power_plant__generic_1_pv_converter_control_main_state_machine__current_state = 3 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping1.Ramping
                    _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__fsm_state = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out;
            _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pin = _pv_power_plant__generic_1_pv_converter_control_p__out;
            _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_in = _pv_power_plant__generic_1_pv_converter_control_limit1__out;
            _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__ramp_time_ms = _pv_power_plant__generic_1_pv_converter_control_ramping1_gain1__out;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__fsm_state == 2.0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pin ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_in != _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_in ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i = 0 ; if ( _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref - _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old >= 0 )         {
            _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a = - _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__ramp_time_ms * 0.5 ;
}
 _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__b = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_old ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_in == _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pin && _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__fsm_state != 2.0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pref_in ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__i = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__a = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__b = _pv_power_plant__generic_1_pv_converter_control_ramping1_ramping__pin ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping2.Ramping
                    _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__fsm_state = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out;
            _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pin = _pv_power_plant__generic_1_pv_converter_control_bus_split1__out5;
            _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_in = _pv_power_plant__generic_1_pv_converter_control_limit5__out;
            _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__ramp_time_ms = _pv_power_plant__generic_1_pv_converter_control_ramping2_gain1__out;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__fsm_state == 2.0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pin ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_in != _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_in ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i = 0 ; if ( _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref - _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old >= 0 )         {
            _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a = - _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__ramp_time_ms * 0.5 ;
}
 _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__b = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_old ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_in == _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pin && _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__fsm_state != 2.0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pref_in ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__i = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__a = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__b = _pv_power_plant__generic_1_pv_converter_control_ramping2_ramping__pin ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Ramping3.Ramping
                    _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__fsm_state = _pv_power_plant__generic_1_pv_converter_control_main_state_machine__state_out;
            _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pin = _pv_power_plant__generic_1_pv_converter_control_constant7__out;
            _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_in = _pv_power_plant__generic_1_pv_converter_control_bus_split4__out;
            _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__ramp_time_ms = _pv_power_plant__generic_1_pv_converter_control_ramping3_gain1__out;

    {
    if ( _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__fsm_state == 2.0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref ;
}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pin ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_in != _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_in ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i = 0 ; if ( _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref - _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old >= 0 )         {
            _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a = - _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__ramp_time_ms * 0.5 ;
}
 _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__b = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_old ;
}
 else if ( _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_in == _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pin && _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__fsm_state != 2.0 )     {
        _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pref_in ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__i = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__a = 0 ; _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__b = _pv_power_plant__generic_1_pv_converter_control_ramping3_ramping__pin ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_unit_delay1__state = _pv_power_plant__generic_1_pv_converter_control_voltvar1_filter_sum1__out;

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.filter.Unit Delay1
              _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_unit_delay1__state = _pv_power_plant__generic_1_pv_converter_control_voltwatt1_filter_sum1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter.Unit Delay1
              _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_unit_delay1__state = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter_sum1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.filter1.Unit Delay1
              _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_unit_delay1__state = _variable_load__generic_1_converter_control_automatic_recovery_from_faults1_filter1_sum1__out;

         // Generated from the component: Variable Load (Generic)1.converter_control.Main state machine
                    _variable_load__generic_1_converter_control_main_state_machine__enable_input = _variable_load__generic_1_converter_control_bus_split3__out;
            _variable_load__generic_1_converter_control_main_state_machine__fault_input = _variable_load__generic_1_converter_control_bus_split1__out22;
            _variable_load__generic_1_converter_control_main_state_machine__time_out_starting_up_input = _variable_load__generic_1_converter_control_constant15__out;

    {
    if ( _variable_load__generic_1_converter_control_main_state_machine__current_state == 1 )     {
        _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up = _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up + 1 ; if ( _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up > ( _variable_load__generic_1_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) )         {
            _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up = ( _variable_load__generic_1_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) + 1 ;
}

}
 else     {
        _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up = 0.0 ;
}
 
 switch ( _variable_load__generic_1_converter_control_main_state_machine__current_state )     {
        case 1 : if ( _variable_load__generic_1_converter_control_main_state_machine__enable_input < 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 3 ;
}
 else if ( _variable_load__generic_1_converter_control_main_state_machine__fault_input > 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            if ( _variable_load__generic_1_converter_control_main_state_machine__cnt_starting_up < ( _variable_load__generic_1_converter_control_main_state_machine__time_out_starting_up_input / 0.0005 ) )             {
                _variable_load__generic_1_converter_control_main_state_machine__current_state = 1 ;
}
 else             {
                _variable_load__generic_1_converter_control_main_state_machine__current_state = 2 ;
}

}
 break; case 2 : if ( _variable_load__generic_1_converter_control_main_state_machine__enable_input < 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 3 ;
}
 else if ( _variable_load__generic_1_converter_control_main_state_machine__fault_input > 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 2 ;
}
 break; case 3 : if ( _variable_load__generic_1_converter_control_main_state_machine__enable_input > 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 1 ;
}
 else if ( _variable_load__generic_1_converter_control_main_state_machine__fault_input > 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 4 ;
}
 else         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 3 ;
}
 break; case 4 : if ( _variable_load__generic_1_converter_control_main_state_machine__fault_input < 0.5 )         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 3 ;
}
 else         {
            _variable_load__generic_1_converter_control_main_state_machine__current_state = 4 ;
}
 break; default : _variable_load__generic_1_converter_control_main_state_machine__current_state = 3 ;
}

}

         // Generated from the component: Variable Load (Generic)1.converter_control.Ramping P.Ramping
                    _variable_load__generic_1_converter_control_ramping_p_ramping__fsm_state = _variable_load__generic_1_converter_control_main_state_machine__state_out;
            _variable_load__generic_1_converter_control_ramping_p_ramping__pin = _variable_load__generic_1_converter_control_constant6__out;
            _variable_load__generic_1_converter_control_ramping_p_ramping__pref_in = _variable_load__generic_1_converter_control_limit1__out;
            _variable_load__generic_1_converter_control_ramping_p_ramping__ramp_time_ms = _variable_load__generic_1_converter_control_ramping_p_gain1__out;

    {
    if ( _variable_load__generic_1_converter_control_ramping_p_ramping__fsm_state == 2.0 )     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old = _variable_load__generic_1_converter_control_ramping_p_ramping__pref ;
}
 else     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old = _variable_load__generic_1_converter_control_ramping_p_ramping__pin ;
}
 if ( _variable_load__generic_1_converter_control_ramping_p_ramping__pref_in != _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old )     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__pref = _variable_load__generic_1_converter_control_ramping_p_ramping__pref_in ; _variable_load__generic_1_converter_control_ramping_p_ramping__i = 0 ; if ( _variable_load__generic_1_converter_control_ramping_p_ramping__pref - _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old >= 0 )         {
            _variable_load__generic_1_converter_control_ramping_p_ramping__a = _variable_load__generic_1_converter_control_ramping_p_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _variable_load__generic_1_converter_control_ramping_p_ramping__a = - _variable_load__generic_1_converter_control_ramping_p_ramping__ramp_time_ms * 0.5 ;
}
 _variable_load__generic_1_converter_control_ramping_p_ramping__b = _variable_load__generic_1_converter_control_ramping_p_ramping__pref_old ;
}
 else if ( _variable_load__generic_1_converter_control_ramping_p_ramping__pref_in == _variable_load__generic_1_converter_control_ramping_p_ramping__pin && _variable_load__generic_1_converter_control_ramping_p_ramping__fsm_state != 2.0 )     {
        _variable_load__generic_1_converter_control_ramping_p_ramping__pref = _variable_load__generic_1_converter_control_ramping_p_ramping__pref_in ; _variable_load__generic_1_converter_control_ramping_p_ramping__i = 0 ; _variable_load__generic_1_converter_control_ramping_p_ramping__a = 0 ; _variable_load__generic_1_converter_control_ramping_p_ramping__b = _variable_load__generic_1_converter_control_ramping_p_ramping__pin ;
}

}

         // Generated from the component: Variable Load (Generic)1.converter_control.Ramping Q.Ramping
                    _variable_load__generic_1_converter_control_ramping_q_ramping__fsm_state = _variable_load__generic_1_converter_control_main_state_machine__state_out;
            _variable_load__generic_1_converter_control_ramping_q_ramping__pin = _variable_load__generic_1_converter_control_constant6__out;
            _variable_load__generic_1_converter_control_ramping_q_ramping__pref_in = _variable_load__generic_1_converter_control_limit10__out;
            _variable_load__generic_1_converter_control_ramping_q_ramping__ramp_time_ms = _variable_load__generic_1_converter_control_ramping_q_gain1__out;

    {
    if ( _variable_load__generic_1_converter_control_ramping_q_ramping__fsm_state == 2.0 )     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old = _variable_load__generic_1_converter_control_ramping_q_ramping__pref ;
}
 else     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old = _variable_load__generic_1_converter_control_ramping_q_ramping__pin ;
}
 if ( _variable_load__generic_1_converter_control_ramping_q_ramping__pref_in != _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old )     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__pref = _variable_load__generic_1_converter_control_ramping_q_ramping__pref_in ; _variable_load__generic_1_converter_control_ramping_q_ramping__i = 0 ; if ( _variable_load__generic_1_converter_control_ramping_q_ramping__pref - _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old >= 0 )         {
            _variable_load__generic_1_converter_control_ramping_q_ramping__a = _variable_load__generic_1_converter_control_ramping_q_ramping__ramp_time_ms * 0.5 ;
}
 else         {
            _variable_load__generic_1_converter_control_ramping_q_ramping__a = - _variable_load__generic_1_converter_control_ramping_q_ramping__ramp_time_ms * 0.5 ;
}
 _variable_load__generic_1_converter_control_ramping_q_ramping__b = _variable_load__generic_1_converter_control_ramping_q_ramping__pref_old ;
}
 else if ( _variable_load__generic_1_converter_control_ramping_q_ramping__pref_in == _variable_load__generic_1_converter_control_ramping_q_ramping__pin && _variable_load__generic_1_converter_control_ramping_q_ramping__fsm_state != 2.0 )     {
        _variable_load__generic_1_converter_control_ramping_q_ramping__pref = _variable_load__generic_1_converter_control_ramping_q_ramping__pref_in ; _variable_load__generic_1_converter_control_ramping_q_ramping__i = 0 ; _variable_load__generic_1_converter_control_ramping_q_ramping__a = 0 ; _variable_load__generic_1_converter_control_ramping_q_ramping__b = _variable_load__generic_1_converter_control_ramping_q_ramping__pin ;
}

}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Frequency Droop control1.LPF_P
                  

            _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__states[0] = _battery_ess__generic_1_battery_converter_control_frequency_droop_control1_lpf_p__delay_line_in;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Voltage Droop control1.LPF_V
                  

            _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__states[0] = _battery_ess__generic_1_battery_converter_control_voltage_droop_control1_lpf_v__delay_line_in;


         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d.Integrator1
                 _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__state += _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_sum7__out * 0.0005;


            if (_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out > 0)
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state = 1;
            else if (_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out < 0)
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state = -1;
            else
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d_integrator1__reset_state = 0;


         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.PI_d1.Integrator1
                 _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__state += _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_sum7__out * 0.0005;


            if (_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out > 0)
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state = 1;
            else if (_pv_power_plant__generic_1_pv_converter_control_pq_control2_sum9__out < 0)
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state = -1;
            else
                _pv_power_plant__generic_1_pv_converter_control_pq_control2_pi_d1_integrator1__reset_state = 0;


         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d.Integrator1
                 _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__state += _variable_load__generic_1_converter_control_pq_control1_pi_d_sum7__out * 0.0005;


            if (_variable_load__generic_1_converter_control_pq_control1_sum9__out > 0)
                _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state = 1;
            else if (_variable_load__generic_1_converter_control_pq_control1_sum9__out < 0)
                _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state = -1;
            else
                _variable_load__generic_1_converter_control_pq_control1_pi_d_integrator1__reset_state = 0;


         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.PI_d1.Integrator1
                 _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__state += _variable_load__generic_1_converter_control_pq_control1_pi_d1_sum7__out * 0.0005;


            if (_variable_load__generic_1_converter_control_pq_control1_sum9__out > 0)
                _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state = 1;
            else if (_variable_load__generic_1_converter_control_pq_control1_sum9__out < 0)
                _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state = -1;
            else
                _variable_load__generic_1_converter_control_pq_control1_pi_d1_integrator1__reset_state = 0;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Mode selection
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.HzWatt1.C function1
        
    {
}

         // Generated from the component: Variable Load (Generic)1.converter_control.V_f Dependencies
        
    {
    _variable_load__generic_1_converter_control_v_f_dependencies__k_V = ( _variable_load__generic_1_converter_control_v_f_dependencies__Vg_meas / 2400.0 ) * ( _variable_load__generic_1_converter_control_v_f_dependencies__Vg_meas / 2400.0 ) ; _variable_load__generic_1_converter_control_v_f_dependencies__k_f = ( _variable_load__generic_1_converter_control_v_f_dependencies__f_meas / 50.0 ) * ( _variable_load__generic_1_converter_control_v_f_dependencies__f_meas / 50.0 ) ; _variable_load__generic_1_converter_control_v_f_dependencies__delta_f = ( _variable_load__generic_1_converter_control_v_f_dependencies__f_meas - 50.0 ) / 50.0 ; _variable_load__generic_1_converter_control_v_f_dependencies__delta_V = ( _variable_load__generic_1_converter_control_v_f_dependencies__Vg_meas - 2400.0 ) / 2400.0 ;
}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.HzWatt1.C function1
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.C function1
        
    {
    if ( _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__i < 2 ) ++ _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_c_function1__i ;
}

         // Generated from the component: Variable Load (Generic)1.converter_control.Automatic recovery from faults1.C function1
        
    {
}

         // Generated from the component: Variable Load (Generic)1.converter_control.PQ control1.C function1
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.SOC Model1.Integrator1
                 _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state += _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_product1__out * 0.0005;


                _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state = MIN(_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state, 100000000.0);
                _battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state = MAX(_battery_ess__generic_1_battery_dc_link_sp1_soc_model1_integrator1__state, 0.0);


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.Automatic recovery from faults1.C function1
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d.Integrator1
                 _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__state += _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_sum7__out * 0.0005;


            if (_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out > 0)
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state = 1;
            else if (_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out < 0)
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state = -1;
            else
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d_integrator1__reset_state = 0;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.PI_d1.Integrator1
                 _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__state += _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_sum7__out * 0.0005;


            if (_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out > 0)
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state = 1;
            else if (_battery_ess__generic_1_battery_converter_control_pq_control_sum9__out < 0)
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state = -1;
            else
                _battery_ess__generic_1_battery_converter_control_pq_control_pi_d1_integrator1__reset_state = 0;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.LVRT_fcn_block1.C function1
        
    {
    if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state == 2 || _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state == 5 )     {
        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze + 1 ; if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze > ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 ) )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 ) + 1 ;
}

}
 else     {
        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = 0.0 ;
}
 if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state == 3 || _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__current_state == 5 )     {
        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected + 1 ; if ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected > ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected / 0.0005 ) )         {
            _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = ( _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__time_out_connected / 0.0005 ) + 1 ;
}

}
 else     {
        _battery_ess__generic_1_battery_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = 0.0 ;
}

}

         // Generated from the component: Battery ESS (Generic)1.Battery DC Link SP1.dynamiccs
                  

            _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__states[0] = _battery_ess__generic_1_battery_dc_link_sp1_dynamiccs__delay_line_in;


         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltVAr1.C function1
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.VoltWatt1.C function1
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.Automatic recovery from faults1.C function1
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.LVRT_fcn_block1.C function1
        
    {
    if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state == 2 || _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state == 5 )     {
        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze + 1 ; if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze > ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 ) )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_freeze / 0.0005 ) + 1 ;
}

}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_freeze = 0.0 ;
}
 if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state == 3 || _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__current_state == 5 )     {
        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected + 1 ; if ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected > ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected / 0.0005 ) )         {
            _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = ( _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__time_out_connected / 0.0005 ) + 1 ;
}

}
 else     {
        _pv_power_plant__generic_1_pv_converter_control_lvrt_fcn_block1_c_function1__cnt_connected = 0.0 ;
}

}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltVAr1.C function1
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.VoltWatt1.C function1
        
    {
}

         // Generated from the component: Battery ESS (Generic)1.battery_converter_control.PQ control.C function1
        
    {
}

         // Generated from the component: PV Power Plant (Generic)1.pv_converter_control.PQ control2.C function1
        
    {
}

    //@cmp.update.block.end
}
// ----------------------------------------------------------------------------------------
  //-----------------------------------------------------------------------------------------